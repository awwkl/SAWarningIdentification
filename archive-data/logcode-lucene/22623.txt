GitDiffStart: 88a7d07e642eb256c2cf55280015afb1c9935271 | Wed May 23 19:56:58 2007 +0000
diff --git a/CHANGES.txt b/CHANGES.txt
index 3ebcff4..fe1e60c 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -248,6 +248,8 @@ Changes in runtime behavior
     commandline, and defering commits.  Tutorial modified to take
     advantage of these options so there is no need for curl.
     (hossman)
+
+12. SOLR-128: Upgraded Jetty to the latest stable release 6.1.3 (ryan)
     
 Optimizations 
  1. SOLR-114: HashDocSet specific implementations of union() and andNot()
diff --git a/NOTICE.txt b/NOTICE.txt
index e7f77b9..e209b7c 100644
--- a/NOTICE.txt
+++ b/NOTICE.txt
@@ -14,7 +14,7 @@ Extreme! Lab (http://www.extreme.indiana.edu/).
 (specifically, the XPP3 XML pull parser)
 
 This product includes software developed by Mort Bay Consulting
-(specifically, Jetty 5.1, the bundled servlet container in example)
+(specifically, Jetty 6.1.3, the bundled servlet container in example)
 
 This product includes software developed by Dr Martin Porter,
 Copyright 2001 and and Richard Boulton (for the Java developments),
diff --git a/example/etc/LICENSE.javax.servlet.txt b/example/etc/LICENSE.javax.servlet.txt
deleted file mode 100644
index 322799e..0000000
--- a/example/etc/LICENSE.javax.servlet.txt
+++ /dev/null
@@ -1,65 +0,0 @@
-/*
- * $Header: /cvsroot/jetty/Jetty/etc/LICENSE.javax.servlet.txt,v 1.2 2001/11/06 00:01:51 gregwilkins Exp $
- * $Revision: 1.2 $
- * $Date: 2001/11/06 00:01:51 $
- *
- * ====================================================================
- * 
- * The Apache Software License, Version 1.1
- *
- * Copyright (c) 1999-2001 The Apache Software Foundation.  All rights 
- * reserved.
- *
- * Redistribution and use in source and binary forms, with or without
- * modification, are permitted provided that the following conditions
- * are met:
- *
- * 1. Redistributions of source code must retain the above copyright
- *    notice, this list of conditions and the following disclaimer. 
- *
- * 2. Redistributions in binary form must reproduce the above copyright
- *    notice, this list of conditions and the following disclaimer in
- *    the documentation and/or other materials provided with the
- *    distribution.
- *
- * 3. The end-user documentation included with the redistribution, if
- *    any, must include the following acknowlegement:  
- *       "This product includes software developed by the 
- *        Apache Software Foundation (http://www.apache.org/)."
- *    Alternately, this acknowlegement may appear in the software itself,
- *    if and wherever such third-party acknowlegements normally appear.
- *
- * 4. The names "The Jakarta Project", "Tomcat", and "Apache Software
- *    Foundation" must not be used to endorse or promote products derived
- *    from this software without prior written permission. For written 
- *    permission, please contact apache@apache.org.
- *
- * 5. Products derived from this software may not be called "Apache"
- *    nor may "Apache" appear in their names without prior written
- *    permission of the Apache Group.
- *
- * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
- * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
- * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
- * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
- * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
- * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
- * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
- * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
- * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
- * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
- * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
- * SUCH DAMAGE.
- * ====================================================================
- *
- * This software consists of voluntary contributions made by many
- * individuals on behalf of the Apache Software Foundation.  For more
- * information on the Apache Software Foundation, please see
- * <http://www.apache.org/>.
- *
- */ 
-
-
-
-
-
diff --git a/example/etc/LICENSE.javax.xml.html b/example/etc/LICENSE.javax.xml.html
deleted file mode 100644
index c833ff7..0000000
--- a/example/etc/LICENSE.javax.xml.html
+++ /dev/null
@@ -1,200 +0,0 @@
-<HTML>
-<HEAD>
-	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=iso-8859-1">
-	<TITLE></TITLE>
-	<META NAME="GENERATOR" CONTENT="StarOffice/5.2 (Solaris Sparc)">
-	<META NAME="AUTHOR" CONTENT="douglass hall">
-	<META NAME="CREATED" CONTENT="20010109;9281200">
-	<META NAME="CHANGEDBY" CONTENT=" ">
-	<META NAME="CHANGED" CONTENT="20010112;13325200">
-</HEAD>
-<BODY>
-<P ALIGN=CENTER><FONT SIZE=4>Sun Microsystems, Inc.</FONT> <BR><FONT SIZE=4>Binary
-Code License Agreement</FONT></P>
-<P>READ THE TERMS OF THIS AGREEMENT AND ANY PROVIDED SUPPLEMENTAL
-LICENSE TERMS (COLLECTIVELY &quot;AGREEMENT&quot;) CAREFULLY BEFORE
-OPENING THE SOFTWARE MEDIA PACKAGE.&nbsp; BY OPENING THE SOFTWARE
-MEDIA PACKAGE, YOU AGREE TO THE TERMS OF THIS AGREEMENT.&nbsp; IF YOU
-ARE ACCESSING THE SOFTWARE ELECTRONICALLY, INDICATE YOUR ACCEPTANCE
-OF THESE TERMS BY SELECTING THE &quot;ACCEPT&quot; BUTTON AT THE END
-OF THIS AGREEMENT.&nbsp; IF YOU DO NOT AGREE TO ALL THESE TERMS,
-PROMPTLY RETURN THE UNUSED SOFTWARE TO YOUR PLACE OF PURCHASE FOR A
-REFUND OR, IF THE SOFTWARE IS ACCESSED ELECTRONICALLY, SELECT THE
-&quot;DECLINE&quot; BUTTON AT THE END OF THIS AGREEMENT. 
-</P>
-<P><B>1.&nbsp; LICENSE TO USE.</B>&nbsp; Sun grants you a
-non-exclusive and non-transferable license for the internal use only
-of the accompanying software and documentation and any error
-corrections provided by Sun (collectively &quot;Software&quot;), by
-the number of users and the class of computer hardware for which the
-corresponding fee has been paid. 
-</P>
-<P><B>2.&nbsp; RESTRICTIONS.&nbsp;</B> Software is confidential and
-copyrighted. Title to Software and all associated intellectual
-property rights is retained by Sun and/or its licensors.&nbsp; Except
-as specifically authorized in any Supplemental License Terms, you may
-not make copies of Software, other than a single copy of Software for
-archival purposes.&nbsp; Unless enforcement is prohibited by
-applicable law, you may not modify, decompile, or reverse engineer
-Software.&nbsp; You acknowledge that Software is not designed,
-licensed or intended for use in the design, construction, operation
-or maintenance of any nuclear facility.&nbsp; Sun disclaims any
-express or implied warranty of fitness for such uses.&nbsp; No right,
-title or interest in or to any trademark, service mark, logo or trade
-name of Sun or its licensors is granted under this Agreement. 
-</P>
-<P><B>3. LIMITED WARRANTY.</B>&nbsp; Sun warrants to you that for a
-period of ninety (90) days from the date of purchase, as evidenced by
-a copy of the receipt, the media on which Software is furnished (if
-any) will be free of defects in materials and workmanship under
-normal use.&nbsp; Except for the foregoing, Software is provided &quot;AS
-IS&quot;.&nbsp; Your exclusive remedy and Sun's entire liability
-under this limited warranty will be at Sun's option to replace
-Software media or refund the fee paid for Software. 
-</P>
-<P><B>4.&nbsp; DISCLAIMER OF WARRANTY.&nbsp;</B> UNLESS SPECIFIED IN
-THIS AGREEMENT, ALL EXPRESS OR IMPLIED CONDITIONS, REPRESENTATIONS
-AND WARRANTIES, INCLUDING ANY IMPLIED WARRANTY OF MERCHANTABILITY,
-FITNESS FOR A PARTICULAR PURPOSE OR NON-INFRINGEMENT ARE DISCLAIMED,
-EXCEPT TO THE EXTENT THAT THESE DISCLAIMERS ARE HELD TO BE LEGALLY
-INVALID. 
-</P>
-<P><B>5.&nbsp; LIMITATION OF LIABILITY.</B>&nbsp; TO THE EXTENT NOT
-PROHIBITED BY LAW, IN NO EVENT WILL SUN OR ITS LICENSORS BE LIABLE
-FOR ANY LOST REVENUE, PROFIT OR DATA, OR FOR SPECIAL, INDIRECT,
-CONSEQUENTIAL, INCIDENTAL OR PUNITIVE DAMAGES, HOWEVER CAUSED
-REGARDLESS OF THE THEORY OF LIABILITY, ARISING OUT OF OR RELATED TO
-THE USE OF OR INABILITY TO USE SOFTWARE, EVEN IF SUN HAS BEEN ADVISED
-OF THE POSSIBILITY OF SUCH DAMAGES.&nbsp; In no event will Sun's
-liability to you, whether in contract, tort (including negligence),
-or otherwise, exceed the amount paid by you for Software under this
-Agreement.&nbsp; The foregoing limitations will apply even if the
-above stated warranty fails of its essential purpose. 
-</P>
-<P><B>6.&nbsp; Termination.</B>&nbsp; This Agreement is effective
-until terminated.&nbsp; You may terminate this Agreement at any time
-by destroying all copies of Software.&nbsp; This Agreement will
-terminate immediately without notice from Sun if you fail to comply
-with any provision of this Agreement.&nbsp; Upon Termination, you
-must destroy all copies of Software. 
-</P>
-<P><B>7. Export Regulations.</B> All Software and technical data
-delivered under this Agreement are subject to US export control laws
-and may be subject to export or import regulations in other
-countries.&nbsp; You agree to comply strictly with all such laws and
-regulations and acknowledge that you have the responsibility to
-obtain such licenses to export, re-export, or import as may be
-required after delivery to you. 
-</P>
-<P><B>8.&nbsp;&nbsp; U.S. Government Restricted Rights.&nbsp;</B> If
-Software is being acquired by or on behalf of the U.S. Government or
-by a U.S. Government prime contractor or subcontractor (at any tier),
-then the Government's rights in Software and accompanying
-documentation will be only as set forth in this Agreement; this is in
-accordance with 48 CFR 227.7201 through 227.7202-4 (for Department of
-Defense (DOD) acquisitions) and with 48 CFR 2.101 and 12.212 (for
-non-DOD acquisitions). 
-</P>
-<P><B>9.&nbsp; Governing Law.</B>&nbsp; Any action related to this
-Agreement will be governed by California law and controlling U.S.
-federal law.&nbsp; No choice of law rules of any jurisdiction will
-apply. 
-</P>
-<P><B>10.&nbsp; Severability.</B> If any provision of this Agreement
-is held to be unenforceable, this Agreement will remain in effect
-with the provision omitted, unless omission would frustrate the
-intent of the parties, in which case this Agreement will immediately
-terminate. 
-</P>
-<P><B>11.&nbsp; Integration.</B>&nbsp; This Agreement is the entire
-agreement between you and Sun relating to its subject matter.&nbsp;
-It supersedes all prior or contemporaneous oral or written
-communications, proposals, representations and warranties and
-prevails over any conflicting or additional terms of any quote,
-order, acknowledgment, or other communication between the parties
-relating to its subject matter during the term of this Agreement.&nbsp;
-No modification of this Agreement will be binding, unless in writing
-and signed by an authorized representative of each party. 
-</P>
-<P ALIGN=CENTER>JAVA(TM) INTERFACE CLASSES <BR><BR>JAVA API FOR XML
-PROCESSING (JAXP), VERSION 1.1 <BR>SUPPLEMENTAL LICENSE TERMS</P>
-<P>These supplemental license terms (&quot;Supplemental Terms&quot;)
-add to or modify the terms of the Binary Code License Agreement
-(collectively, the &quot;Agreement&quot;). Capitalized terms not
-defined in these Supplemental Terms shall have the same meanings
-ascribed to them in the Agreement. These Supplemental Terms shall
-supersede any inconsistent or conflicting terms in the Agreement, or
-in any license contained within the Software. 
-</P>
-<P><B>1. Software Internal Use and Development License Grant.</B>
-Subject to the terms and conditions of this Agreement, including, but
-not limited to Section 3 (Java(TM) Technology Restrictions) of these
-Supplemental Terms, Sun grants you a non-exclusive, non-transferable,
-limited license to reproduce internally and use internally the binary
- form of the Software, complete and unmodified, for the sole purpose
-of designing, developing and testing your Java applets and
-applications (&quot;Programs&quot;). 
-</P>
-<P><B>2. License to Distribute Software.</B>&nbsp; In addition to the
-license granted in Section 1 (Software Internal Use and Development
-License Grant) of these Supplemental Terms, subject to the terms and
-conditions of this Agreement, including but not limited to Section 3
-(Java Technology Restrictions), Sun grants you a non-exclusive,
-non-transferable, limited license to reproduce and distribute the
-Software in binary form, provided that you (i) distribute the
-Software complete and unmodified and only bundled as part of your
-Programs, (ii) do not distribute additional software intended to
-replace any component(s) of the Software, (iii) do not remove or
-alter any proprietary legends or notices contained in the Software,
-(iv) only distribute the Software subject to a license agreement that
-protects Sun's interests consistent with the terms contained in this
-Agreement, and (v) agree to defend and indemnify Sun and its
-licensors from and against any damages, costs, liabilities,
-settlement amounts and/or expenses (including attorneys' fees)
-incurred in connection with any claim, lawsuit or action by any third
-party that arises or results from the use or distribution of any and
-all Programs and/or Software. 
-</P>
-<P><B>3. Java Technology Restrictions.</B> You may not modify the
-Java Platform Interface (&quot;JPI&quot;, identified as classes
-contained within the &quot;java&quot; package or any subpackages of
-the &quot;java&quot; package), by creating additional classes within
-the JPI or otherwise causing the addition to or modification of the
-classes in the JPI.&nbsp; In the event that you create an additional
-class and associated API(s) which (i) extends the functionality of
-the Java platform, and (ii) is exposed to third party software
-developers for the purpose of developing additional software which
-invokes such additional API, you must promptly publish broadly an
-accurate specification for such API for free use by all developers.
-You may not create, or authorize your licensees to create additional
-classes, interfaces, or subpackages that are in any way identified as
-&quot;java&quot;, &quot;javax&quot;, &quot;sun&quot; or similar
-convention as specified by Sun in any naming convention designation.</P>
-<P><B>4. Trademarks and Logos.</B> You acknowledge and agree as
-between you and Sun that Sun owns the SUN, SOLARIS, JAVA, JINI,
-FORTE, STAROFFICE, STARPORTAL and iPLANET trademarks and all SUN,
-SOLARIS, JAVA, JINI, FORTE, STAROFFICE, STARPORTAL and
-iPLANET-related trademarks, service marks, logos and other brand
-designations (&quot;Sun Marks&quot;), and you agree to comply with
-the Sun Trademark and Logo Usage Requirements currently located at
-http://www.sun.com/policies/trademarks. Any use you make of the Sun
-Marks inures to Sun's benefit. 
-</P>
-<P><B>5. Source Code. </B>Software may contain source code that is
-provided for reference purposes pursuant to the terms of this
-Agreement.  Source code may not be redistributed unless expressly
-provided for in this Agreement.  <SPAN STYLE="font-weight: medium">Portions
-of this download are governed by the Apache Source Code License and
-are identified in the Readme file.  A copy of the Apache License is
-supplied with the Apache Source Code.</SPAN></P>
-<P><B>6. Termination for Infringement.&nbsp;</B> Either party may
-terminate this Agreement immediately should any Software become, or
-in either party's opinion be likely to become, the subject of a claim
-of infringement of any intellectual property right. 
-</P>
-<P>For inquiries please contact: Sun Microsystems, Inc.&nbsp; 901 San
-Antonio Road, Palo Alto, California 94303 <BR><I><FONT SIZE=2>(Form
-last modified 11-03-2000.)</FONT></I> 
-</P>
-</BODY>
-</HTML>
diff --git a/example/etc/LICENSE.jsse.txt b/example/etc/LICENSE.jsse.txt
deleted file mode 100644
index 1c305dc..0000000
--- a/example/etc/LICENSE.jsse.txt
+++ /dev/null
@@ -1,200 +0,0 @@
-Sun Microsystems, Inc.
-Binary Code License Agreement
-
-READ THE TERMS OF THIS AGREEMENT AND ANY PROVIDED 
-SUPPLEMENTAL LICENSE TERMS (COLLECTIVELY "AGREEMENT") 
-CAREFULLY BEFORE OPENING THE SOFTWARE MEDIA PACKAGE.  BY 
-OPENING THE SOFTWARE MEDIA PACKAGE, YOU AGREE TO THE TERMS 
-OF THIS AGREEMENT.  IF YOU ARE ACCESSING THE SOFTWARE 
-ELECTRONICALLY, INDICATE YOUR ACCEPTANCE OF THESE TERMS BY 
-SELECTING THE "ACCEPT" BUTTON AT THE END OF THIS AGREEMENT. 
- IF YOU DO NOT AGREE TO ALL THESE TERMS, PROMPTLY RETURN 
-THE UNUSED SOFTWARE TO YOUR PLACE OF PURCHASE FOR A REFUND 
-OR, IF THE SOFTWARE IS ACCESSED ELECTRONICALLY, SELECT THE 
-"DECLINE" BUTTON AT THE END OF THIS AGREEMENT.
-
-1.  LICENSE TO USE.  Sun grants you a non-exclusive and 
-non-transferable license for the internal use only of the 
-accompanying software and documentation and any error 
-corrections provided by Sun (collectively "Software"), by 
-the number of users and the class of computer hardware for 
-which the corresponding fee has been paid.
-
-2.  RESTRICTIONS.  Software is confidential and 
-copyrighted. Title to Software and all associated 
-intellectual property rights is retained by Sun and/or its 
-licensors.  Except as specifically authorized in any 
-Supplemental License Terms, you may not make copies of 
-Software, other than a single copy of Software for archival 
-purposes.  Unless enforcement is prohibited by applicable 
-law, you may not modify, decompile, or reverse engineer 
-Software.  You acknowledge that Software is not designed, 
-licensed or intended for use in the design, construction, 
-operation or maintenance of any nuclear facility.  Sun 
-disclaims any express or implied warranty of fitness for 
-such uses.  No right, title or interest in or to any 
-trademark, service mark, logo or trade name of Sun or its 
-licensors is granted under this Agreement. 
-
-3. LIMITED WARRANTY.  Sun warrants to you that for a period 
-of ninety (90) days from the date of purchase, as evidenced 
-by a copy of the receipt, the media on which Software is 
-furnished (if any) will be free of defects in materials and 
-workmanship under normal use.  Except for the foregoing, 
-Software is provided "AS IS".  Your exclusive remedy and 
-Sun's entire liability under this limited warranty will be 
-at Sun's option to replace Software media or refund the fee 
-paid for Software.
-
-4.  DISCLAIMER OF WARRANTY.  UNLESS SPECIFIED IN THIS 
-AGREEMENT, ALL EXPRESS OR IMPLIED CONDITIONS, 
-REPRESENTATIONS AND WARRANTIES, INCLUDING ANY IMPLIED 
-WARRANTY OF MERCHANTABILITY, FITNESS FOR A PARTICULAR 
-PURPOSE OR NON-INFRINGEMENT ARE DISCLAIMED, EXCEPT TO THE 
-EXTENT THAT THESE DISCLAIMERS ARE HELD TO BE LEGALLY 
-INVALID.
-
-5.  LIMITATION OF LIABILITY.  TO THE EXTENT NOT PROHIBITED 
-BY LAW, IN NO EVENT WILL SUN OR ITS LICENSORS BE LIABLE FOR 
-ANY LOST REVENUE, PROFIT OR DATA, OR FOR SPECIAL, INDIRECT, 
-CONSEQUENTIAL, INCIDENTAL OR PUNITIVE DAMAGES, HOWEVER 
-CAUSED REGARDLESS OF THE THEORY OF LIABILITY, ARISING OUT 
-OF OR RELATED TO THE USE OF OR INABILITY TO USE SOFTWARE, 
-EVEN IF SUN HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH 
-DAMAGES.  In no event will Sun's liability to you, whether 
-in contract, tort (including negligence), or otherwise, 
-exceed the amount paid by you for Software under this 
-Agreement.  The foregoing limitations will apply even if 
-the above stated warranty fails of its essential purpose.  
-
-6.  Termination.  This Agreement is effective until 
-terminated.  You may terminate this Agreement at any time 
-by destroying all copies of Software.  This Agreement will 
-terminate immediately without notice from Sun if you fail 
-to comply with any provision of this Agreement.  Upon 
-Termination, you must destroy all copies of Software.
-
-7.  Export Regulations.  All Software and technical data 
-delivered under this Agreement are subject to US export 
-control laws and may be subject to export or import 
-regulations in other countries.  You agree to comply 
-strictly with all such laws and regulations and acknowledge 
-that you have the responsibility to obtain such licenses to 
-export, re-export, or import as may be required after 
-delivery to you.
-
-8.  U.S. Government Restricted Rights.  If Software is 
-being acquired by or on behalf of the U.S. Government or by 
-a U.S. Government prime contractor or subcontractor (at any 
-tier), then the Government's rights in Software and 
-accompanying documentation will be only as set forth in 
-this Agreement; this is in accordance with 48 CFR 227.7201 
-through 227.7202-4 (for Department of Defense (DOD) 
-acquisitions) and with 48 CFR 2.101 and 12.212 (for non-DOD 
-acquisitions).
-
-9.  Governing Law.  Any action related to this Agreement 
-will be governed by California law and controlling U.S. 
-federal law.  No choice of law rules of any jurisdiction 
-will apply.
-
-10.  Severability. If any provision of this Agreement is 
-held to be unenforceable, this Agreement will remain in 
-effect with the provision omitted, unless omission would 
-frustrate the intent of the parties, in which case this 
-Agreement will immediately terminate.  
-
-11.  Integration.  This Agreement is the entire agreement 
-between you and Sun relating to its subject matter.  It 
-supersedes all prior or contemporaneous oral or written 
-communications, proposals, representations and warranties 
-and prevails over any conflicting or additional terms of 
-any quote, order, acknowledgment, or other communication 
-between the parties relating to its subject matter during 
-the term of this Agreement.  No modification of this 
-Agreement will be binding, unless in writing and signed by 
-an authorized representative of each party.  
-
-For inquiries please contact: Sun Microsystems, Inc.  901 
-San Antonio Road, Palo Alto, California 94303
-
-JAVATM DEVELOPMENT OPTIONAL PACKAGES
-JAVATM SECURE SOCKET EXTENSION, VERSION 1.0.2
-
-SUPPLEMENTAL LICENSE TERMS
-
-These supplemental license terms ("Supplement") add to or 
-modify the terms of the Binary Code License Agreement 
-(collectively, the "Agreement"). Capitalized terms not 
-defined in this Supplement shall have the same meanings 
-ascribed to them in the Agreement. These Supplement terms 
-shall supersede any inconsistent or conflicting terms in 
-the Agreement, or in any license contained within the 
-Software.
-
-1. License to Distribute. Sun grants you a non-exclusive, 
-non-transferable, royalty-free, limited license to (a) use 
-the binary form of the Software for the sole purpose of 
-designing, developing and testing your JavaTM applets and 
-applications intended to run on a compatible Java 
-environment (the "Programs"), provided that the Programs 
-add significant and primary functionality to the Software, 
-and (b) reproduce and distribute the binary form of the 
-Software through multiple tiers of distribution provided
-that you: (i) distribute the Software complete and 
-unmodified; (ii) do not distribute additional software 
-intended to supersede any component(s) of the Software;
-(iii) do not remove or alter any proprietary 
-legends or notices contained in or on the Software; and 
-(iv) only distribute the Software pursuant to a license 
-agreement that protects Sun's interests consistent with the 
-terms contained in this Agreement, and provides that Sun is 
-a third party beneficiary to such license agreement. If you
-distribute the Software pursuant to this paragraph, you
-must include the following statement as part of product
-documentation (whether hard copy or electronic), as a 
-part of a copyright page or proprietary rights notice 
-page, in an "About" box or in any other form reasonably 
-designed to make the statement visible to users of the
-Software:  "This product includes code licensed from 
-RSA Data Security".
-
-2. Requirements. In exchange for the licenses granted in 
-Paragraph 1 above, you agree:
-
-a. not to create, or authorize your licensees to create, 
-additional classes, interfaces or subpackages that are 
-contained in the "java," "javax" or "sun" packages, or 
-similarly named package, as specified by Sun in any naming 
-convention;
-
-b. that, in the event that you create an API(s) which: (i) 
-extends the functionality of a Java platform; and (ii) is 
-distributed to third party software developers for the 
-purpose of developing software which invokes such 
-additional API, you must promptly and broadly publish an 
-accurate specification for such API for free use by all 
-developers; and
-
-c. to defend and indemnify Sun and its licensors from and 
-against any damages, costs, liabilities, settlement amounts 
-and/or expenses (including attorneys' fees) incurred in 
-connection with any claim, lawsuit or action by any third 
-party that arises or results from the use or distribution 
-of any and all Programs and/or Software. 
-
-3. Trademarks and Logos. You acknowledge and agree as 
-between you and Sun that Sun owns the Java trademark and 
-all Java-related trademarks, service marks, logos and other 
-brand designations including the Coffee Cup logo and Duke 
-logo ("Java Marks"), and you agree to comply with the Sun 
-Trademark and Logo Usage Requirements currently located at 
-http://www.sun.com/policies/trademarks. Any use you make of 
-the Java Marks inures to Sun's benefit.
-
-4. Source Code. Software may contain source code that is 
-provided solely for reference purposes pursuant to the 
-terms of this Agreement.
-
-
-
diff --git a/example/etc/admin.xml b/example/etc/admin.xml
deleted file mode 100644
index 18b364e..0000000
--- a/example/etc/admin.xml
+++ /dev/null
@@ -1,82 +0,0 @@
-<?xml version="1.0"  encoding="ISO-8859-1"?>
-<!DOCTYPE Configure PUBLIC "-//Mort Bay Consulting//DTD Configure//EN" "http://jetty.mortbay.org/configure.dtd">
-
-<!--
-This is a Jetty HTTP admin server configuration file.  This configuration
-uses the generic org.mortbay.util.XmlConfiguration class to call
-the normal org.mortbay.http.HttpServer configuration API from
-within an XML script.
-
-The format of this file is described in the configure.dtd file.
-
-The API that can be called by this file is described in the
-Javadoc for Jetty.
-
-$Id: admin.xml,v 1.28 2005/01/16 00:22:20 gregwilkins Exp $
--->
-
-<Configure class="org.mortbay.jetty.Server">
-  <Call name="addListener">
-    <Arg>
-      <New class="org.mortbay.http.SocketListener">
-        <Set name="Host">localhost</Set>
-        <Set name="Port">8081</Set>
-        <Set name="MinThreads">1</Set>
-        <Set name="MaxThreads">5</Set>
-        <Set name="MaxIdleTimeMs">30000</Set>      
-      </New>
-    </Arg>
-  </Call>
-
-  <Call name="addRealm">
-    <Arg>
-      <New class="org.mortbay.http.HashUserRealm">
-        <Arg>Admin Realm</Arg>
-	<Put name="admin">admin</Put>
-	<Call name="addUserToRole"><Arg>admin</Arg><Arg>server-administrator</Arg></Call>
-      </New>
-    </Arg>
-  </Call>
-
-  <Call name="addContext">
-    <Arg>/</Arg>   
-    <Set name="realmName">Admin Realm</Set>
-    <Set name="authenticator"><New class="org.mortbay.http.BasicAuthenticator"/></Set>
-   
-    <Call name="addHandler">
-      <Arg><New class="org.mortbay.http.handler.SecurityHandler"/></Arg>  
-    </Call>      
-    <Call name="addSecurityConstraint">
-       <Arg>/</Arg> 
-       <Arg><New class="org.mortbay.http.SecurityConstraint">
-              <Arg>Admin</Arg>
-              <Arg>server-administrator</Arg>
-       </New></Arg>
-    </Call>
-
-    <Call name="addServlet">
-      <Arg>Admin</Arg>
-      <Arg>/</Arg>
-      <Arg>org.mortbay.servlet.AdminServlet</Arg>
-    </Call>
-    
-    <Call name="addServlet">
-      <Arg>Debug</Arg>
-      <Arg>/debug/*</Arg>
-      <Arg>org.mortbay.servlet.Debug</Arg>
-    </Call>
-    
-    <Call name="setAttribute">
-      <Arg>org.mortbay.http.HttpServer</Arg>
-      <Arg><Call name="getHttpServer"/></Arg>
-    </Call>
-  </Call>
-
-  <Set name="anonymous">true</Set>
-  <Set name="requestsPerGC">1</Set>
-
-</Configure>
-
-
-
-
diff --git a/example/etc/jetty-jmx.xml b/example/etc/jetty-jmx.xml
deleted file mode 100644
index 3ab5e2f..0000000
--- a/example/etc/jetty-jmx.xml
+++ /dev/null
@@ -1,37 +0,0 @@
-<?xml version="1.0"?> 
-<!DOCTYPE Configure PUBLIC "-//Mort Bay Consulting//DTD Configure//EN" "http://jetty.mortbay.org/configure.dtd">
-
-
-<!-- =============================================================== -->
-<!-- Configure the Jetty Server                                      -->
-<!-- =============================================================== -->
-<Configure>
-  
-  <Call id="jmxserver" class="javax.management.MBeanServerFactory" name="createMBeanServer">
-  
-     <Arg>org.mortbay</Arg>
-
-     <Call name="createMBean">
-       <Arg>org.mortbay.util.jmx.MX4JHttpAdaptor</Arg>
-       <Arg><New class="javax.management.ObjectName"><Arg>mx4j.tools:adaptor=http</Arg></New></Arg>
-       <Arg><Array type="java.lang.Object"><Item type="int">8082</Item><Item>localhost</Item></Array></Arg>
-       <Arg><Array type="java.lang.String"><Item>int</Item><Item>java.lang.String</Item></Array></Arg>
-     </Call>
-
-     <Call name="createMBean">
-       <Arg>org.mortbay.jetty.jmx.ServerMBean</Arg>
-       <Arg><New class="javax.management.ObjectName"><Arg>org.mortbay:jetty=admin</Arg></New></Arg>
-       <Arg><Array type="java.lang.Object"><Item>etc/admin.xml</Item></Array></Arg>
-       <Arg><Array type="java.lang.String"><Item>java.lang.String</Item></Array></Arg>
-     </Call>
-
-     <Call name="createMBean">
-       <Arg>org.mortbay.jetty.jmx.ServerMBean</Arg>
-       <Arg><New class="javax.management.ObjectName"><Arg>org.mortbay:jetty=default</Arg></New></Arg>
-       <Arg><Array type="java.lang.Object"><Item>etc/jetty.xml</Item></Array></Arg>
-       <Arg><Array type="java.lang.String"><Item>java.lang.String</Item></Array></Arg>
-     </Call>
-
-  </Call>
-
-</Configure>
diff --git a/example/etc/jetty.xml b/example/etc/jetty.xml
index e2070b7..0ed4057 100755
--- a/example/etc/jetty.xml
+++ b/example/etc/jetty.xml
@@ -1,252 +1,203 @@
-<?xml version="1.0"?> 
+<?xml version="1.0"?>
 <!DOCTYPE Configure PUBLIC "-//Mort Bay Consulting//DTD Configure//EN" "http://jetty.mortbay.org/configure.dtd">
 
-
-
 <!-- =============================================================== -->
 <!-- Configure the Jetty Server                                      -->
+<!--                                                                 -->
+<!-- Documentation of this file format can be found at:              -->
+<!-- http://docs.codehaus.org/display/JETTY/jetty.xml                -->
+<!--                                                                 -->
 <!-- =============================================================== -->
-<Configure class="org.mortbay.jetty.Server">
-
-  <!-- =============================================================== -->
-  <!-- Configure Logging                                               -->
-  <!-- =============================================================== -->
-
-  
-  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
-  <!-- Configure Jetty Logging.                                        -->
-  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
-  <!-- Uncomment if using jetty logging.
-  <Call class="org.mortbay.log.LogFactory" name="getFactory">
-    <Call name="getInstance">
-      <Arg/>
-      <Call name="reset"/>
-      <Call name="add">
-        <Arg>
-          <New class="org.mortbay.log.OutputStreamLogSink">
-            <Set name="filename"><SystemProperty name="jetty.home" default="."/>/logs/yyyy_mm_dd.jetty.log</Set>
-            <Set name="retainDays">90</Set>
-            <Set name="append">true</Set>
-            <Set name="logLabels">true</Set>
-            <Set name="logStackSize">true</Set>
-            <Set name="logStackTrace">false</Set>
-            <Set name="logOneLine">false</Set>
-            <Set name="suppressStack">false</Set>
-            <Set name="logTimeZone">GMT</Set>
-          </New>
-        </Arg>
-      </Call>
-    </Call>
-  </Call>
-  -->
-  
-  <!-- =============================================================== -->
-  <!-- Configure the Request Listeners                                 -->
-  <!-- =============================================================== -->
-
-  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
-  <!-- Add and configure a HTTP listener to port 8983                       -->
-  <!-- The default port can be changed using: java -Djetty.port=80     -->
-  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
-  <Call name="addListener">
-    <Arg>
-      <New class="org.mortbay.http.SocketListener">
-        <Set name="Port"><SystemProperty name="jetty.port" default="8983"/></Set>
-	<Set name="PoolName">P1</Set>
-        <Set name="MinThreads">20</Set>
-        <Set name="MaxThreads">200</Set>
-        <Set name="lowResources">50</Set>
-        <Set name="MaxIdleTimeMs">30000</Set>
-        <Set name="LowResourcePersistTimeMs">2000</Set>
-        <Set name="acceptQueueSize">0</Set>
-        <Set name="ConfidentialPort">8443</Set>
-        <Set name="IntegralPort">8443</Set>
-      </New>
-    </Arg>
-  </Call>
-
-
-  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
-  <!-- Add a HTTPS SSL listener on port 8443                           -->
-  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
-  <!-- UNCOMMENT TO ACTIVATE 
-  <Call name="addListener">
-    <Arg>
-      <New class="org.mortbay.http.SslListener">
-        <Set name="Port">8443</Set>
-	<Set name="PoolName">P1</Set>
-        <Set name="MaxIdleTimeMs">30000</Set>
-        <Set name="lowResources">30</Set>
-        <Set name="LowResourcePersistTimeMs">2000</Set>
-        <Set name="Keystore"><SystemProperty name="jetty.home" default="."/>/etc/demokeystore</Set>
-	<Set name="Password">OBF:1vny1zlo1x8e1vnw1vn61x8g1zlu1vn4</Set>
-	<Set name="KeyPassword">OBF:1u2u1wml1z7s1z7a1wnl1u2g</Set>
-
-        <Set name="HttpHandler">
-          <New class="org.mortbay.http.handler.MsieSslHandler">
-	    <Set name="UserAgentSubString">MSIE 5</Set>
-	  </New>
-        </Set>
+
+
+<Configure id="Server" class="org.mortbay.jetty.Server">
+
+    <!-- =========================================================== -->
+    <!-- Server Thread Pool                                          -->
+    <!-- =========================================================== -->
+    <Set name="ThreadPool">
+      <!-- Default bounded blocking threadpool 
+      -->
+      <New class="org.mortbay.thread.BoundedThreadPool">
+        <Set name="minThreads">10</Set>
+        <Set name="lowThreads">50</Set>
+        <Set name="maxThreads">250</Set>
       </New>
-    </Arg>
-  </Call>
-  -->
-
-
-  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
-  <!-- Add a AJP13 listener on port 8009                               -->
-  <!-- This protocol can be used with mod_jk in apache, IIS etc.       -->
-  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
-  <!--
-  <Call name="addListener">
-    <Arg>
-      <New class="org.mortbay.http.ajp.AJP13Listener">
-        <Set name="Port">8009</Set>
-        <Set name="MinThreads">5</Set>
-        <Set name="MaxThreads">20</Set>
-        <Set name="MaxIdleTimeMs">0</Set>
-        <Set name="confidentialPort">443</Set>
+
+      <!-- Optional Java 5 bounded threadpool with job queue 
+      <New class="org.mortbay.thread.concurrent.ThreadPool">
+        <Arg type="int">0</Arg>
+        <Set name="corePoolSize">10</Set>
+        <Set name="maximumPoolSize">250</Set>
       </New>
-    </Arg>
-  </Call>
-  -->
-
-
-  <!-- =============================================================== -->
-  <!-- Set the default web application configuration mechanisms:       -->
-  <!--   XMLConfiguration       - handles WEB-INF/web.xml              -->
-  <!--   JettyWebConfiguration  - handles WEB-INF/jetty-web.xml        -->
-  <!--   jsr77.Configuration    - Adds jsr77 statistics to servlets    -->
-  <!--                                                                 -->
-  <!-- Order of these classes is significant. The defaults set here    -->
-  <!-- can be overridden by calling setConfigurationClassNames() on    -->
-  <!-- the webapp context.                                             -->
-  <!-- The TagLibconfiguration scans any tld files found for           -->
-  <!-- additional j2ee listener classes - needed for JSF               -->
-  <!-- The jsr77 configuration requires additional jars on the         -->
-  <!-- on the classpath and it needs jmx enabled.                      -->
-  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
-  <Set name="WebApplicationConfigurationClassNames">
-    <Array type="java.lang.String">
-      <Item>org.mortbay.jetty.servlet.XMLConfiguration</Item>
-      <Item>org.mortbay.jetty.servlet.JettyWebConfiguration</Item>
-
-      <!--
-      <Item>org.mortbay.jetty.servlet.TagLibConfiguration</Item>
-      <Item>org.mortbay.jetty.servlet.jsr77.Configuration</Item>
       -->
-    </Array>
-  </Set>
-
-
-  <!-- =============================================================== -->
-  <!-- Configure the Contexts                                          -->
-  <!-- =============================================================== -->
-
-
-  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
-  <!-- Add a all web application within the webapps directory.         -->
-  <!-- + No virtual host specified                                     -->
-  <!-- + Look in the webapps directory relative to jetty.home or .     -->
-  <!-- + Use the webdefault.xml resource for the defaults descriptor   -->
-  <!-- + Upack the war file                                            -->
-  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
-  <Set name="rootWebApp">root</Set>
-  
-  <Call name="addWebApplications">
-    <Arg></Arg>
-    <Arg><SystemProperty name="jetty.home" default="."/>/webapps/</Arg>
-    <Arg><SystemProperty name="jetty.home" default="."/>/etc/webdefault.xml</Arg>
-    <Arg type="boolean">true</Arg><!--extract WARs-->
-    <Arg type="boolean">false</Arg><!-- java 2 compliant class loader -->
-  </Call>
-
-
-  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
-  <!-- Add and configure a specific web application                    -->
-  <!-- + Set Unpack WAR files                                          -->
-  <!-- + Set Default Descriptor.  Resource, file or URL                -->
-  <!-- + Set java 2 complaint classloading                             -->
-  <!-- + Set Virtual Hosts. A Null host or empty array means all hosts -->
-  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
-  <!-- UNCOMMENT TO ACTIVATE
-  <Call name="addWebApplication">
-    <Arg>/context</Arg>
-    <Arg>./webapps/root</Arg>
-
-    <Set name="extractWAR">false</Set> 
-    <Set name="defaultsDescriptor">org/mortbay/jetty/servlet/webdefault.xml</Set>
-    <Set name="classLoaderJava2Compliant">true</Set> 
-
-    <Set name="virtualHosts">
-      <Array type="java.lang.String">
-        <Item></Item>
-        <Item>127.0.0.1</Item>
-        <Item>localhost</Item>
-        <Item>www.acme.com</Item>
-      </Array>
     </Set>
-  </Call>
-  -->
-
-  <!-- =============================================================== -->
-  <!-- Configure the Request Log                                       -->
-  <!-- =============================================================== -->
-  <!-- Uncomment for request logging.
-  <Set name="RequestLog">
-    <New class="org.mortbay.http.NCSARequestLog">
-      <Arg><SystemProperty name="jetty.home" default="."/>/logs/yyyy_mm_dd.request.log</Arg>
-      <Set name="retainDays">90</Set>
-      <Set name="append">true</Set>
-      <Set name="extended">false</Set>
-      <Set name="LogTimeZone">GMT</Set>
-    </New>
-  </Set>
-  -->
-
-  <!-- =============================================================== -->
-  <!-- Configure the Other Server Options                              -->
-  <!-- =============================================================== -->
-  <Set name="requestsPerGC">2000</Set>
-  <Set name="statsOn">false</Set>
-  <Set class="org.mortbay.util.FileResource" name="checkAliases" type="boolean">true</Set>
-
-  <!-- System classes cannot be overriden by a HttpContext or webapp 
-  <Set name="systemClasses">
-    <Array type="java.lang.String">
-      <Item>java.</Item>
-      <Item>javax.servlet.</Item>
-      <Item>javax.xml.</Item>
-      <Item>org.mortbay.</Item>
-      <Item>org.xml.</Item>
-      <Item>org.w3c.</Item>
-      <Item>org.apache.commons.logging.</Item>
-    </Array>
-  </Set>
-  -->
-
-  <!-- Server classes are hidden from a HttpContext or webapp
-  <Set name="serverClasses">
-    <Array type="java.lang.String">
-      <Item>-org.mortbay.http.PathMap</Item>
-      <Item>org.mortbay.http.</Item>
-      <Item>-org.mortbay.jetty.servlet.Default</Item>
-      <Item>-org.mortbay.jetty.servlet.Invoker</Item>
-      <Item>-org.mortbay.jetty.servlet.JSR154Filter</Item>
-      <Item>org.mortbay.jetty.</Item>
-      <Item>org.mortbay.start.</Item>
-      <Item>org.mortbay.stop.</Item>
-    </Array>
-  </Set>
-  -->
-
-</Configure>
 
 
 
+    <!-- =========================================================== -->
+    <!-- Set connectors                                              -->
+    <!-- =========================================================== -->
+    <!-- One of each type!                                           -->
+    <!-- =========================================================== -->
 
+    <!-- Use this connector for many frequently idle connections
+         and for threadless continuations.
+    -->    
+    <Call name="addConnector">
+      <Arg>
+          <New class="org.mortbay.jetty.nio.SelectChannelConnector">
+            <Set name="port"><SystemProperty name="jetty.port" default="8983"/></Set>
+            <Set name="maxIdleTime">30000</Set>
+            <Set name="Acceptors">2</Set>
+            <Set name="confidentialPort">8443</Set>
+          </New>
+      </Arg>
+    </Call>
+        
+
+    <!-- Use this connector if NIO is not available.
+    <Call name="addConnector">
+      <Arg>
+          <New class="org.mortbay.jetty.bio.SocketConnector">
+            <Set name="port">8081</Set>
+            <Set name="maxIdleTime">50000</Set>
+            <Set name="lowResourceMaxIdleTime">1500</Set>
+          </New>
+      </Arg>
+    </Call>
+    -->
+
+    <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
+    <!-- To add a HTTPS SSL listener                                     -->
+    <!-- see jetty-ssl.xml to add an ssl connector. use                  -->
+    <!-- java -jar start.jar etc/jetty.xml etc/jetty-ssl.xml             -->
+    <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
+    
+    <!-- =========================================================== -->
+    <!-- Set up global session ID manager                            -->
+    <!-- =========================================================== -->
+    <!--
+    <Set name="sessionIdManager">
+      <New class="org.mortbay.jetty.servlet.HashSessionIdManager">
+        <Set name="workerName">node1</Set>
+      </New>
+    </Set>
+    -->
+
+    <!-- =========================================================== -->
+    <!-- Set handler Collection Structure                            --> 
+    <!-- =========================================================== -->
+    <Set name="handler">
+      <New id="Handlers" class="org.mortbay.jetty.handler.HandlerCollection">
+        <Set name="handlers">
+         <Array type="org.mortbay.jetty.Handler">
+           <Item>
+             <New id="Contexts" class="org.mortbay.jetty.handler.ContextHandlerCollection"/>
+           </Item>
+           <Item>
+             <New id="DefaultHandler" class="org.mortbay.jetty.handler.DefaultHandler"/>
+           </Item>
+           <Item>
+             <New id="RequestLog" class="org.mortbay.jetty.handler.RequestLogHandler"/>
+           </Item>
+         </Array>
+        </Set>
+      </New>
+    </Set>
+    
+    <!-- =========================================================== -->
+    <!-- Configure the context deployer                              -->
+    <!-- A context deployer will deploy contexts described in        -->
+    <!-- configuration files discovered in a directory.              -->
+    <!-- The configuration directory can be scanned for hot          -->
+    <!-- deployments at the configured scanInterval.                 -->
+    <!--                                                             -->
+    <!-- This deployer is configured to deploy contexts configured   -->
+    <!-- in the $JETTY_HOME/contexts directory                       -->
+    <!--                                                             -->
+    <!-- =========================================================== -->
+    <Call name="addLifeCycle">
+      <Arg>
+        <New class="org.mortbay.jetty.deployer.ContextDeployer">
+          <Set name="contexts"><Ref id="Contexts"/></Set>
+          <Set name="configurationDir"><SystemProperty name="jetty.home" default="."/>/contexts</Set>
+          <Set name="scanInterval">1</Set>
+        </New>
+      </Arg>
+    </Call>
 
+    <!-- =========================================================== -->
+    <!-- Configure the webapp deployer.                              -->
+    <!-- A webapp  deployer will deploy standard webapps discovered  -->
+    <!-- in a directory at startup, without the need for additional  -->
+    <!-- configuration files.    It does not support hot deploy or   -->
+    <!-- non standard contexts (see ContextDeployer above).          -->
+    <!--                                                             -->
+    <!-- This deployer is configured to deploy webapps from the      -->
+    <!-- $JETTY_HOME/webapps directory                               -->
+    <!--                                                             -->
+    <!-- Normally only one type of deployer need be used.            -->
+    <!--                                                             -->
+    <!-- =========================================================== -->
+    <Call name="addLifeCycle">
+      <Arg>
+        <New class="org.mortbay.jetty.deployer.WebAppDeployer">
+          <Set name="contexts"><Ref id="Contexts"/></Set>
+          <Set name="webAppDir"><SystemProperty name="jetty.home" default="."/>/webapps</Set>
+				  <Set name="parentLoaderPriority">false</Set>
+				  <Set name="extract">true</Set>
+				  <Set name="allowDuplicates">false</Set>
+          <Set name="defaultsDescriptor"><SystemProperty name="jetty.home" default="."/>/etc/webdefault.xml</Set>
+        </New>
+      </Arg>
+    </Call>
 
+    <!-- =========================================================== -->
+    <!-- Configure Authentication Realms                             -->
+    <!-- Realms may be configured for the entire server here, or     -->
+    <!-- they can be configured for a specific web app in a context  -->
+    <!-- configuration (see $(jetty.home)/contexts/test.xml for an   -->
+    <!-- example).                                                   -->
+    <!-- =========================================================== -->
+    <Set name="UserRealms">
+      <Array type="org.mortbay.jetty.security.UserRealm">
+        <!--
+        <Item>
+          <New class="org.mortbay.jetty.security.HashUserRealm">
+            <Set name="name">Test Realm</Set>
+            <Set name="config"><SystemProperty name="jetty.home" default="."/>/etc/realm.properties</Set>
+          </New>
+        </Item>
+	-->
+      </Array>
+    </Set>
 
+    <!-- =========================================================== -->
+    <!-- Configure Request Log                                       -->
+    <!-- Request logs  may be configured for the entire server here, -->
+    <!-- or they can be configured for a specific web app in a       -->
+    <!-- contexts configuration (see $(jetty.home)/contexts/test.xml -->
+    <!-- for an example).                                            -->
+    <!-- =========================================================== -->
+    <Ref id="RequestLog">
+      <Set name="requestLog">
+        <New id="RequestLogImpl" class="org.mortbay.jetty.NCSARequestLog">
+          <Arg><SystemProperty name="jetty.logs" default="./logs"/>/yyyy_mm_dd.request.log</Arg>
+          <Set name="retainDays">90</Set>
+          <Set name="append">true</Set>
+          <Set name="extended">false</Set>
+          <Set name="LogTimeZone">GMT</Set>
+        </New>
+      </Set>
+    </Ref>
+
+    <!-- =========================================================== -->
+    <!-- extra options                                               -->
+    <!-- =========================================================== -->
+    <Set name="stopAtShutdown">true</Set>
+    <!-- ensure/prevent Server: header being sent to browsers        -->
+    <Set name="sendServerVersion">true</Set>
 
+</Configure>
 
diff --git a/example/etc/webdefault.xml b/example/etc/webdefault.xml
index b7ba1ca..83dc294 100644
--- a/example/etc/webdefault.xml
+++ b/example/etc/webdefault.xml
@@ -8,22 +8,21 @@
 <!-- descriptor, it is applied before the contexts own web.xml file        -->
 <!--                                                                       -->
 <!-- A context may be assigned a default descriptor by:                    -->
-<!--  + Allowing the default defaultweb.xml to be applied                  -->
 <!--  + Calling WebApplicationContext.setDefaultsDescriptor                -->
 <!--  + Passed an arg to addWebApplications                                -->
 <!--                                                                       -->
-<!-- If a defaults descriptor is set, it is first looked for as a system   -->
-<!-- resource. The jetty jar contains a webdefault.xml file as a resource  -->
-<!-- at "org/mortbay/jetty/servlet/webdefault.xml".   If a system resource -->
-<!-- is not found, then a normal resource is tried, thus a filename or URL -->
-<!-- may be used to specify an arbitrary file.                             -->
+<!-- This file is used both as the resource within the jetty.jar (which is -->
+<!-- used as the default if no explicit defaults descriptor is set) and it -->
+<!-- is copied to the etc directory of the Jetty distro and explicitly     -->
+<!-- by the jetty.xml file.                                                -->
 <!--                                                                       -->
 <!-- ===================================================================== -->
 <web-app 
-   xmlns="http://java.sun.com/xml/ns/j2ee" 
+   xmlns="http://java.sun.com/xml/ns/javaee" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
-   xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd" 
-   version="2.4"> 
+   xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" 
+   metadata-complete="true"
+   version="2.5"> 
 
   <description>
     Default web.xml file.  
@@ -31,7 +30,6 @@
   </description>
 
 
-
   <!-- ==================================================================== -->
   <!-- Context params to control Session Cookies                            -->
   <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  -->
@@ -52,6 +50,11 @@
   </context-param>
   -->
 
+  <context-param>
+    <param-name>org.mortbay.jetty.webapp.NoTLDJarPattern</param-name>
+    <param-value>start.jar|ant-.*\.jar|dojo-.*\.jar|jetty-.*\.jar|jsp-api-.*\.jar|junit-.*\.jar|servlet-api-.*\.jar|dnsns\.jar|rt\.jar|jsse\.jar|tools\.jar|sunpkcs11\.jar|sunjce_provider\.jar|xerces.*\.jar|</param-value>
+  </context-param>
+            
 
 
   <!-- ==================================================================== -->
@@ -66,17 +69,12 @@
   <!--   dirAllowed       If true, directory listings are returned if no    -->
   <!--                    welcome file is found. Else 403 Forbidden.        -->
   <!--                                                                      -->
-  <!--   putAllowed       If true, the PUT method is allowed                -->
-  <!--                                                                      -->
-  <!--   delAllowed       If true, the DELETE method is allowed             -->
-  <!--                                                                      -->
   <!--   redirectWelcome  If true, redirect welcome file requests           -->
   <!--                    else use request dispatcher forwards              -->
   <!--                                                                      -->
-  <!--   minGzipLength    If set to a positive integer, then static content -->
-  <!--                    larger than this will be served as gzip content   -->
-  <!--                    encoded if a matching resource is found ending    -->
-  <!--                    with ".gz"                                        -->
+  <!--   gzip             If set to true, then static content will be served--> 
+  <!--                    as gzip content encoded if a matching resource is -->
+  <!--                    found ending with ".gz"                           -->
   <!--                                                                      -->
   <!--   resoureBase      Can be set to replace the context resource base   -->
   <!--                                                                      -->
@@ -85,11 +83,20 @@
   <!--                    servlet context root. Useful for only serving     -->
   <!--                    static content from only specific subdirectories. -->
   <!--                                                                      -->
-  <!-- The MOVE method is allowed if PUT and DELETE are allowed             -->
+  <!--   useFileMappedBuffer                                                -->
+  <!--                    If set to true (the default), a  memory mapped    -->
+  <!--                    file buffer will be used to serve static content  -->
+  <!--                    when using an NIO connector. Setting this value   -->
+  <!--                    to false means that a direct buffer will be used  -->
+  <!--                    instead. If you are having trouble with Windows   -->
+  <!--                    file locking, set this to false.                  -->
+  <!--                                                                      -->
+  <!--  cacheControl      If set, all static content will have this value   -->
+  <!--                    set as the cache-control header.                  -->
   <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  -->
   <servlet>
     <servlet-name>default</servlet-name>
-    <servlet-class>org.mortbay.jetty.servlet.Default</servlet-class>
+    <servlet-class>org.mortbay.jetty.servlet.DefaultServlet</servlet-class>
     <init-param>
       <param-name>acceptRanges</param-name>
       <param-value>true</param-value>
@@ -99,21 +106,35 @@
       <param-value>true</param-value>
     </init-param>
     <init-param>
-      <param-name>putAllowed</param-name>
+      <param-name>redirectWelcome</param-name>
       <param-value>false</param-value>
     </init-param>
     <init-param>
-      <param-name>delAllowed</param-name>
-      <param-value>false</param-value>
+      <param-name>maxCacheSize</param-name>
+      <param-value>2000000</param-value>
     </init-param>
     <init-param>
-      <param-name>redirectWelcome</param-name>
+      <param-name>maxCachedFileSize</param-name>
+      <param-value>254000</param-value>
+    </init-param>
+    <init-param>
+      <param-name>maxCachedFiles</param-name>
+      <param-value>1000</param-value>
+    </init-param>
+    <init-param>
+      <param-name>gzip</param-name>
       <param-value>false</param-value>
     </init-param>
     <init-param>
-      <param-name>minGzipLength</param-name>
-      <param-value>8192</param-value>
+      <param-name>useFileMappedBuffer</param-name>
+      <param-value>false</param-value>
+    </init-param>  
+    <!--
+    <init-param>
+      <param-name>cacheControl</param-name>
+      <param-value>max-age=3600,public</param-value>
     </init-param>
+    -->
     <load-on-startup>0</load-on-startup>
   </servlet> 
 
@@ -125,7 +146,7 @@
   <!-- This is the jasper JSP servlet from the jakarta project              -->
   <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  -->
   <!-- The JSP page compiler and execution servlet, which is the mechanism  -->
-  <!-- used by Tomcat to support JSP pages.  Traditionally, this servlet    -->
+  <!-- used by Glassfish to support JSP pages.  Traditionally, this servlet -->
   <!-- is mapped to URL patterh "*.jsp".  This servlet supports the         -->
   <!-- following initialization parameters (default values are in square    -->
   <!-- brackets):                                                           -->
@@ -145,6 +166,8 @@
   <!--   classpath           What class path should I use while compiling   -->
   <!--                       generated servlets?  [Created dynamically      -->
   <!--                       based on the current web application]          -->
+  <!--                       Set to ? to make the container explicitly set  -->
+  <!--                       this parameter.                                -->
   <!--                                                                      -->
   <!--   development         Is Jasper used in development mode (will check -->
   <!--                       for JSP modification on every access)?  [true] -->
@@ -161,7 +184,7 @@
   <!--                       [clsid:8AD9C840-044E-11D1-B3E9-00805F499D93]   -->
   <!--                                                                      -->
   <!--   javaEncoding        Java file encoding to use for generating java  -->
-  <!--                       source files. [UTF8]                           -->
+  <!--                       source files. [UTF-8]                          -->
   <!--                                                                      -->
   <!--   keepgenerated       Should we keep the generated Java source code  -->
   <!--                       for each page instead of deleting it? [true]   -->
@@ -200,10 +223,10 @@
   <!--   the property "-Dbuild.compiler.emacs=true" when starting Jetty     -->
   <!--   to cause Jikes to emit error messages in a format compatible with  -->
   <!--   Jasper.                                                            -->
-  <!--   If you get an error reporting that jikes can't use UTF8 encoding,  -->
+  <!--   If you get an error reporting that jikes can't use UTF-8 encoding, -->
   <!--   try setting the init parameter "javaEncoding" to "ISO-8859-1".     -->
   <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  -->
-  <servlet>
+  <servlet id="jsp">
     <servlet-name>jsp</servlet-name>
     <servlet-class>org.apache.jasper.servlet.JspServlet</servlet-class>
     <init-param>
@@ -218,15 +241,27 @@
         <param-name>xpoweredBy</param-name>
         <param-value>false</param-value>
     </init-param>
+    <!--  
+    <init-param>
+        <param-name>classpath</param-name>
+        <param-value>?</param-value>
+    </init-param>
+    -->
     <load-on-startup>0</load-on-startup>
   </servlet>
 
-  <servlet-mapping> <servlet-name>jsp</servlet-name> <url-pattern>*.jsp</url-pattern> </servlet-mapping>
-  <servlet-mapping> <servlet-name>jsp</servlet-name> <url-pattern>*.jspf</url-pattern> </servlet-mapping>
-  <servlet-mapping> <servlet-name>jsp</servlet-name> <url-pattern>*.jspx</url-pattern> </servlet-mapping>
-  <servlet-mapping> <servlet-name>jsp</servlet-name> <url-pattern>*.xsp</url-pattern> </servlet-mapping>
-
-
+  <servlet-mapping> 
+    <servlet-name>jsp</servlet-name> 
+    <url-pattern>*.jsp</url-pattern> 
+    <url-pattern>*.jspf</url-pattern>
+    <url-pattern>*.jspx</url-pattern>
+    <url-pattern>*.xsp</url-pattern>
+    <url-pattern>*.JSP</url-pattern> 
+    <url-pattern>*.JSPF</url-pattern>
+    <url-pattern>*.JSPX</url-pattern>
+    <url-pattern>*.XSP</url-pattern>
+  </servlet-mapping>
+  
   <!-- ==================================================================== -->
   <!-- Dynamic Servlet Invoker.                                             -->
   <!-- This servlet invokes anonymous servlets that have not been defined   -->
@@ -339,35 +374,6 @@
   </locale-encoding-mapping-list>
 
   
-  <!-- ==================================================================== -->
-  <!-- JSR154 Stupidness                                                    -->
-  <!-- This filter implements some of the JSR154 (servlet 2.4) "features",  -->
-  <!-- which are rather stupid and expensive to implement. Thus they are    -->
-  <!-- not included in the core Jetty architecture.   It is HIGHLY          -->
-  <!-- RECOMMENDED that this filter NOT be used, unless you need:           -->
-  <!--    RequestAttributeListeners - If you actually have a real use for   -->
-  <!--       these, please tell the jetty lists what they are and why you   -->
-  <!--       can't use a normal filter/wrapper for this?                    -->
-  <!--    SRV.6.2.2 Dispatachers  - where the container cannot wrap the     -->
-  <!--       request or response. See                                       -->
-  <!--       http://jetty.mortbay.org/jetty/doc/servlet24.html#d0e711       -->
-  <!--       to find out why this is stupid.                                -->
-  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  -->
-  <!-- UNCOMMENT For compliant behaviour
-  <filter>
-    <filter-name>jsr154</filter-name>
-    <filter-class>org.mortbay.jetty.servlet.JSR154Filter</filter-class>
-    <init-param><param-name>unwrappedDispatch</param-name><param-value>true</param-value></init-param>
-  </filter>
-  <filter-mapping>
-      <filter-name>jsr154</filter-name>
-      <url-pattern>/*</url-pattern>
-      <dispatcher>REQUEST</dispatcher>
-      <dispatcher>FORWARD</dispatcher>
-      <dispatcher>INCLUDE</dispatcher>
-      <dispatcher>ERROR</dispatcher>
-  </filter-mapping>
-  -->
   
 </web-app>
 
diff --git a/example/ext/ant.jar b/example/ext/ant.jar
deleted file mode 100644
index f66b800..0000000
--- a/example/ext/ant.jar
+++ /dev/null
@@ -1,2 +0,0 @@
-AnyObjectId[395544dc9189fe11795250b48adda9e7f24c34bb] was removed in git history.
-Apache SVN contains full history.
\ No newline at end of file
diff --git a/example/ext/commons-el.jar b/example/ext/commons-el.jar
deleted file mode 100644
index c5b6345..0000000
--- a/example/ext/commons-el.jar
+++ /dev/null
@@ -1,2 +0,0 @@
-AnyObjectId[608ed796ca34c5acc14cb3cf3cc4deee4ea86180] was removed in git history.
-Apache SVN contains full history.
\ No newline at end of file
diff --git a/example/ext/commons-logging.jar b/example/ext/commons-logging.jar
deleted file mode 100644
index f330fde..0000000
--- a/example/ext/commons-logging.jar
+++ /dev/null
@@ -1,2 +0,0 @@
-AnyObjectId[b73a80fab641131e6fbe3ae833549efb3c540d17] was removed in git history.
-Apache SVN contains full history.
\ No newline at end of file
diff --git a/example/ext/jasper-compiler.jar b/example/ext/jasper-compiler.jar
deleted file mode 100644
index 48369df..0000000
--- a/example/ext/jasper-compiler.jar
+++ /dev/null
@@ -1,2 +0,0 @@
-AnyObjectId[96ec53852d45e13723d8b40c83d99ed449a4c83e] was removed in git history.
-Apache SVN contains full history.
\ No newline at end of file
diff --git a/example/ext/jasper-runtime.jar b/example/ext/jasper-runtime.jar
deleted file mode 100644
index d0e39ed..0000000
--- a/example/ext/jasper-runtime.jar
+++ /dev/null
@@ -1,2 +0,0 @@
-AnyObjectId[5c3b4bfff7a3bd377802548604a0b28bebab8ea7] was removed in git history.
-Apache SVN contains full history.
\ No newline at end of file
diff --git a/example/ext/mx4j-remote.jar b/example/ext/mx4j-remote.jar
deleted file mode 100644
index b7a97be..0000000
--- a/example/ext/mx4j-remote.jar
+++ /dev/null
@@ -1,2 +0,0 @@
-AnyObjectId[de7739dba7f3f062240c87ffa37e81b00908ae33] was removed in git history.
-Apache SVN contains full history.
\ No newline at end of file
diff --git a/example/ext/mx4j-tools.jar b/example/ext/mx4j-tools.jar
deleted file mode 100644
index 14324bd..0000000
--- a/example/ext/mx4j-tools.jar
+++ /dev/null
@@ -1,2 +0,0 @@
-AnyObjectId[87ccc77dd4e61e03d0b4b77265b8f62e7396d0ef] was removed in git history.
-Apache SVN contains full history.
\ No newline at end of file
diff --git a/example/ext/mx4j.jar b/example/ext/mx4j.jar
deleted file mode 100644
index f2eb43a..0000000
--- a/example/ext/mx4j.jar
+++ /dev/null
@@ -1,2 +0,0 @@
-AnyObjectId[e5dafc175ada7cf2d3e62cbd409541a8dcf7ad79] was removed in git history.
-Apache SVN contains full history.
\ No newline at end of file
diff --git a/example/lib/javax.servlet.jar b/example/lib/javax.servlet.jar
deleted file mode 100644
index ba6623b..0000000
--- a/example/lib/javax.servlet.jar
+++ /dev/null
@@ -1,2 +0,0 @@
-AnyObjectId[8092795672eb0d929e173a3de93c5093a828a78a] was removed in git history.
-Apache SVN contains full history.
\ No newline at end of file
diff --git a/example/lib/jetty-6.1.3.jar b/example/lib/jetty-6.1.3.jar
new file mode 100644
index 0000000..38ea9fa
--- /dev/null
+++ b/example/lib/jetty-6.1.3.jar
@@ -0,0 +1,2 @@
+AnyObjectId[ad3d529a4149cb23135000c866ddebefd9c92638] was removed in git history.
+Apache SVN contains full history.
\ No newline at end of file
diff --git a/example/lib/jetty-util-6.1.3.jar b/example/lib/jetty-util-6.1.3.jar
new file mode 100644
index 0000000..095192f
--- /dev/null
+++ b/example/lib/jetty-util-6.1.3.jar
@@ -0,0 +1,2 @@
+AnyObjectId[101543bc9fb1320171d57b2f5a45d4dbcf77b565] was removed in git history.
+Apache SVN contains full history.
\ No newline at end of file
diff --git a/example/lib/jsp-2.1/ant-1.6.5.jar b/example/lib/jsp-2.1/ant-1.6.5.jar
new file mode 100644
index 0000000..d6b092a
--- /dev/null
+++ b/example/lib/jsp-2.1/ant-1.6.5.jar
@@ -0,0 +1,2 @@
+AnyObjectId[3beb3b802ffd7502ac4b4d47e0b2a75d08e30cc3] was removed in git history.
+Apache SVN contains full history.
\ No newline at end of file
diff --git a/example/lib/jsp-2.1/core-3.1.1.jar b/example/lib/jsp-2.1/core-3.1.1.jar
new file mode 100644
index 0000000..3355c85
--- /dev/null
+++ b/example/lib/jsp-2.1/core-3.1.1.jar
@@ -0,0 +1,2 @@
+AnyObjectId[ae0b63586701efdc7bf03ffb0a840d50950d211c] was removed in git history.
+Apache SVN contains full history.
\ No newline at end of file
diff --git a/example/lib/jsp-2.1/jsp-2.1.jar b/example/lib/jsp-2.1/jsp-2.1.jar
new file mode 100644
index 0000000..9fcd92c
--- /dev/null
+++ b/example/lib/jsp-2.1/jsp-2.1.jar
@@ -0,0 +1,2 @@
+AnyObjectId[8bb6fcfeabff8fa1059b751b12c539e4f7b8236f] was removed in git history.
+Apache SVN contains full history.
\ No newline at end of file
diff --git a/example/lib/jsp-2.1/jsp-api-2.1.jar b/example/lib/jsp-2.1/jsp-api-2.1.jar
new file mode 100644
index 0000000..41a8d26
--- /dev/null
+++ b/example/lib/jsp-2.1/jsp-api-2.1.jar
@@ -0,0 +1,2 @@
+AnyObjectId[bbba01f3dd2939f2101fff6617e782bf8efabde7] was removed in git history.
+Apache SVN contains full history.
\ No newline at end of file
diff --git a/example/lib/org.mortbay.jetty.jar b/example/lib/org.mortbay.jetty.jar
deleted file mode 100644
index 1304576..0000000
--- a/example/lib/org.mortbay.jetty.jar
+++ /dev/null
@@ -1,2 +0,0 @@
-AnyObjectId[186a190ce106d61d497e29c713e70ecf14667ef1] was removed in git history.
-Apache SVN contains full history.
\ No newline at end of file
diff --git a/example/lib/org.mortbay.jmx.jar b/example/lib/org.mortbay.jmx.jar
deleted file mode 100644
index f62f145..0000000
--- a/example/lib/org.mortbay.jmx.jar
+++ /dev/null
@@ -1,2 +0,0 @@
-AnyObjectId[0561a2e877e10128a72424bb368902a11bdc94ab] was removed in git history.
-Apache SVN contains full history.
\ No newline at end of file
diff --git a/example/lib/servlet-api-2.5-6.1.3.jar b/example/lib/servlet-api-2.5-6.1.3.jar
new file mode 100644
index 0000000..20ce8ee
--- /dev/null
+++ b/example/lib/servlet-api-2.5-6.1.3.jar
@@ -0,0 +1,2 @@
+AnyObjectId[8e9777d563b868521b5f2516013d3b59372b45f2] was removed in git history.
+Apache SVN contains full history.
\ No newline at end of file
diff --git a/example/start.jar b/example/start.jar
index 02d16d7..b4b4685 100755
--- a/example/start.jar
+++ b/example/start.jar
@@ -1,2 +1,2 @@
-AnyObjectId[1145d205a370cefe48580deee1fb6920c3edf0ca] was removed in git history.
+AnyObjectId[8a986c8001df6e6cde07989fbaf83264c97caa7e] was removed in git history.
 Apache SVN contains full history.
\ No newline at end of file

