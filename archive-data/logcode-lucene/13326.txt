GitDiffStart: 82f53daeb48eec94f9117cac1dcfab7f7c012573 | Wed Mar 7 16:30:20 2012 +0000
diff --git a/solr/core/src/java/org/apache/solr/handler/ReplicationHandler.java b/solr/core/src/java/org/apache/solr/handler/ReplicationHandler.java
index 859a44a..9c80ea6 100644
--- a/solr/core/src/java/org/apache/solr/handler/ReplicationHandler.java
+++ b/solr/core/src/java/org/apache/solr/handler/ReplicationHandler.java
@@ -642,6 +642,7 @@ public class ReplicationHandler extends RequestHandlerBase implements SolrCoreAw
       addVal(slave, SnapPuller.REPLICATION_FAILED_AT, props, Date.class);
       addVal(slave, SnapPuller.PREVIOUS_CYCLE_TIME_TAKEN, props, Long.class);
 
+      slave.add("currentDate", new Date().toString());
       slave.add("isPollingDisabled", String.valueOf(isPollingDisabled()));
       boolean isReplicating = isReplicating();
       slave.add("isReplicating", String.valueOf(isReplicating));
diff --git a/solr/core/src/java/org/apache/solr/servlet/ZookeeperInfoServlet.java b/solr/core/src/java/org/apache/solr/servlet/ZookeeperInfoServlet.java
index 008ec76..934773e 100644
--- a/solr/core/src/java/org/apache/solr/servlet/ZookeeperInfoServlet.java
+++ b/solr/core/src/java/org/apache/solr/servlet/ZookeeperInfoServlet.java
@@ -17,11 +17,11 @@
 
 package org.apache.solr.servlet;
 
+import org.apache.lucene.util.BytesRef;
 import org.apache.noggit.CharArr;
 import org.apache.noggit.JSONWriter;
 import org.apache.solr.cloud.ZkController;
 import org.apache.solr.common.cloud.SolrZkClient;
-import org.apache.solr.common.util.StrUtils;
 import org.apache.solr.core.CoreContainer;
 import org.apache.zookeeper.KeeperException;
 import org.apache.zookeeper.data.Stat;
@@ -34,7 +34,6 @@ import javax.servlet.http.HttpServletRequest;
 import javax.servlet.http.HttpServletResponse;
 import java.io.IOException;
 import java.io.PrintWriter;
-import java.io.UnsupportedEncodingException;
 import java.net.URLEncoder;
 import java.util.Date;
 import java.util.List;
@@ -72,11 +71,16 @@ public final class ZookeeperInfoServlet extends HttpServlet {
 
     String detailS = request.getParameter("detail");
     boolean detail = detailS != null && detailS.equals("true");
+
+    String dumpS = request.getParameter("dump");
+    boolean dump = dumpS != null && dumpS.equals("true");
+
     PrintWriter out = response.getWriter();
 
 
     ZKPrinter printer = new ZKPrinter(response, out, cores.getZkController(), addr);
     printer.detail = detail;
+    printer.dump = dump;
 
     try {
       printer.print(path);
@@ -103,6 +107,7 @@ public final class ZookeeperInfoServlet extends HttpServlet {
     boolean indent = true;
     boolean fullpath = FULLPATH_DEFAULT;
     boolean detail = false;
+    boolean dump = false;
 
     String addr; // the address passed to us
     String keeperAddr; // the address we're connected to
@@ -260,6 +265,7 @@ public final class ZookeeperInfoServlet extends HttpServlet {
 
       Stat stat = new Stat();
       try {
+        // Trickily, the call to zkClient.getData fills in the stat variable
         byte[] data = zkClient.getData(path, null, stat, true);
 
         if (stat.getEphemeralOwner() != 0) {
@@ -267,6 +273,11 @@ public final class ZookeeperInfoServlet extends HttpServlet {
           writeKeyValue(json, "version", stat.getVersion(), false);
         }
 
+        if (dump) {
+          json.writeValueSeparator();
+          printZnode(json, path);
+        }
+
         /*
         if (stat.getNumChildren() != 0)
         {
@@ -275,32 +286,12 @@ public final class ZookeeperInfoServlet extends HttpServlet {
         }
         */
 
-        //if (data != null)
-        if (stat.getDataLength() != 0) {
-          String str;
-          try {
-            str = new String(data, "UTF-8");
-            str = str.replaceAll("\\\"", "\\\\\"");
-
-            //writeKeyValue(json, "content", str, false );
-          } catch (UnsupportedEncodingException e) {
-            // not UTF8
-            StringBuilder sb = new StringBuilder("BIN(");
-            sb.append("len=" + data.length);
-            sb.append("hex=");
-            int limit = Math.min(data.length, maxData / 2);
-            for (int i = 0; i < limit; i++) {
-              byte b = data[i];
-              sb.append(StrUtils.HEX_DIGITS[(b >> 4) & 0xf]);
-              sb.append(StrUtils.HEX_DIGITS[b & 0xf]);
-            }
-            if (limit != data.length) {
-              sb.append("...");
-            }
-            sb.append(")");
-            str = sb.toString();
-            //?? writeKeyValue(json, "content", str, false );
-          }
+        //if (stat.getDataLength() != 0)
+        if (data != null) {
+          String str = new BytesRef(data).utf8ToString();
+          //?? writeKeyValue(json, "content", str, false );
+          // Does nothing now, but on the assumption this will be used later we'll leave it in. If it comes out
+          // the catches below need to be restructured.
         }
       } catch (IllegalArgumentException e) {
         // path doesn't exist (must have been removed)
@@ -375,6 +366,7 @@ public final class ZookeeperInfoServlet extends HttpServlet {
     boolean printZnode(JSONWriter json, String path) throws IOException {
       try {
         Stat stat = new Stat();
+        // Trickily, the call to zkClient.getData fills in the stat variable
         byte[] data = zkClient.getData(path, null, stat, true);
 
         json.writeString("znode");
@@ -400,28 +392,8 @@ public final class ZookeeperInfoServlet extends HttpServlet {
         writeKeyValue(json, "pzxid", stat.getPzxid(), false);
         json.endObject();
 
-        if (stat.getDataLength() != 0) {
-          String str;
-          try {
-            str = new String(data, "UTF-8");
-          } catch (UnsupportedEncodingException e) {
-            // The results are unspecified
-            // when the bytes are not properly encoded.
-
-            // not UTF8
-            StringBuilder sb = new StringBuilder(data.length * 2);
-            for (int i = 0; i < data.length; i++) {
-              byte b = data[i];
-              sb.append(StrUtils.HEX_DIGITS[(b >> 4) & 0xf]);
-              sb.append(StrUtils.HEX_DIGITS[b & 0xf]);
-              if ((i & 0x3f) == 0x3f) {
-                sb.append("\n");
-              }
-            }
-            str = sb.toString();
-          }
-          str = str.replaceAll("\\\"", "\\\\\"");
-          writeKeyValue(json, "data", str, false);
+        if (data != null) {
+          writeKeyValue(json, "data", new BytesRef(data).utf8ToString(), false);
         }
         json.endObject();
       } catch (KeeperException e) {
diff --git a/solr/webapp/web/admin.html b/solr/webapp/web/admin.html
index bdd1177..b89a4f1 100644
--- a/solr/webapp/web/admin.html
+++ b/solr/webapp/web/admin.html
@@ -19,104 +19,101 @@ limitations under the License.
 
 <head>
     
-    <title>solr-admin</title>
+  <title>Solr Admin</title>
     
-    <link rel="stylesheet" type="text/css" href="css/main.css">
-    <link rel="icon" type="image/ico" href="img/favicon.ico">
+  <link rel="icon" type="image/ico" href="img/favicon.ico">
+
+  <link rel="stylesheet" type="text/css" href="css/styles/common.css">
+  <link rel="stylesheet" type="text/css" href="css/styles/analysis.css">
+  <link rel="stylesheet" type="text/css" href="css/styles/cloud.css">
+  <link rel="stylesheet" type="text/css" href="css/styles/cores.css">
+  <link rel="stylesheet" type="text/css" href="css/styles/dashboard.css">
+  <link rel="stylesheet" type="text/css" href="css/styles/dataimport.css">
+  <link rel="stylesheet" type="text/css" href="css/styles/index.css">
+  <link rel="stylesheet" type="text/css" href="css/styles/java-properties.css">
+  <link rel="stylesheet" type="text/css" href="css/styles/logging.css">
+  <link rel="stylesheet" type="text/css" href="css/styles/menu.css">
+  <link rel="stylesheet" type="text/css" href="css/styles/plugins.css">
+  <link rel="stylesheet" type="text/css" href="css/styles/query.css">
+  <link rel="stylesheet" type="text/css" href="css/styles/replication.css">
+  <link rel="stylesheet" type="text/css" href="css/styles/schema-browser.css">
+  <link rel="stylesheet" type="text/css" href="css/styles/threads.css">
     
-    <script type="text/javascript">
+  <script type="text/javascript">
     
-    var app_config = {};
+  var app_config = {};
     
-    app_config.solr_path = '${contextPath}';
-    app_config.core_admin_path = '${adminPath}';
-    app_config.zookeeper_path = 'zookeeper';
-    app_config.schema_path = '/admin/file?file=schema.xml&contentType=text/xml;charset=utf-8';
-    app_config.config_path = '/admin/file?file=solrconfig.xml&contentType=text/xml;charset=utf-8';
+  app_config.solr_path = '${contextPath}';
+  app_config.core_admin_path = '${adminPath}';
+  app_config.schema_path = '/admin/file?file=schema.xml&contentType=text/xml;charset=utf-8';
+  app_config.config_path = '/admin/file?file=solrconfig.xml&contentType=text/xml;charset=utf-8';
     
-    </script>
+  </script>
     
 </head>
 <body>
     
-    <div id="wrapper">
+  <div id="wrapper">
     
-        <div id="header">
+    <div id="header">
             
-            <a href="./" id="solr"><span>Apache SOLR</span></a>
+      <a href="./" id="solr"><span>Apache SOLR</span></a>
 
-            <div id="wip-notice">
-                <p>This interface is work in progress.</p>
-                <p>Please report any <a href="https://issues.apache.org/jira/browse/SOLR-2667">Bugs/Requests/Suggestions: <span>SOLR-2667</span></a></p>
-            </div>
+      <div id="wip-notice">
+        <p>This interface is work in progress.</p>
+        <p><a href="https://issues.apache.org/jira/browse/SOLR-3162">Please report any Bugs/Requests/Suggestions: <span>SOLR-3162</span></a></p>
+      </div>
 
-            <p id="environment">&nbsp;</p>
+      <p id="environment">&nbsp;</p>
 
-        </div>
+    </div>
 
-        <div id="main" class="clearfix">
+    <div id="main" class="clearfix">
         
-            <div id="content-wrapper">
-            <div id="content">
-                
-                &nbsp;
-                
-            </div>
-            </div>
+      <div id="content-wrapper">
+        <div id="content">
+                  
+          &nbsp;
+                  
+        </div>
+      </div>
             
-            <div id="menu-wrapper">
-            <div id="menu">
-                
-                <ul>
-
-                    <li id="index" class="global">
-                        <p><a href="#/">Dashboard</a></p>
-                    </li>
-
-                    <li id="logging" class="global">
-                        <p><a href="#/logging">Logging</a></p>
-                    </li>
+      <div id="menu-wrapper">
+        <div id="menu">
+                  
+          <ul>
 
-                    <li id="cloud" class="global optional">
-                        <p><a href="#/cloud">Cloud</a></p>
-                    </li>
-
-                    <li id="cores" class="global optional">
-                        <p><a href="#/cores">Core Admin</a></p>
-                    </li>
-
-                    <li id="java-properties" class="global">
-                        <p><a href="#/java-properties">Java Properties</a>
-                    </li>
-
-                    <li id="threads" class="global">
-                        <p><a href="#/threads">Thread Dump</a></p>
-                    </li>
-                    
-                </ul>
-                
-            </div>
-            </div>
+            <li id="index" class="global"><p><a href="#/">Dashboard</a></p></li>
+            <li id="logging" class="global"><p><a href="#/logging">Logging</a></p></li>
+            <li id="cloud" class="global optional"><p><a href="#/cloud">Cloud</a></p></li>
+            <li id="cores" class="global optional"><p><a href="#/cores">Core Admin</a></p></li>
+            <li id="java-properties" class="global"><p><a href="#/java-properties">Java Properties</a></li>
+            <li id="threads" class="global"><p><a href="#/threads">Thread Dump</a></p></li>
+                      
+          </ul>
+                  
+        </div>
+      </div>
             
-            <div id="meta">
+      <div id="meta">
                 
-                <ul>
+        <ul>
                     
-                    <li class="documentation"><a href="http://lucene.apache.org/solr/"><span>Documentation</span></a></li>
-                    <li class="issues"><a href="http://issues.apache.org/jira/browse/SOLR"><span>Issue Tracker</span></a></li>
-                    <li class="irc"><a href="http://webchat.freenode.net/?channels=#solr"><span>IRC Channel</span></a></li>
-                    <li class="mailinglist"><a href="http://wiki.apache.org/solr/UsingMailingLists"><span>Community forum</span></a></li>
-                    <li class="wiki-query-syntax"><a href="http://wiki.apache.org/solr/SolrQuerySyntax"><span>Solr Query Syntax</span></a></li>
+          <li class="documentation"><a href="http://lucene.apache.org/solr/"><span>Documentation</span></a></li>
+          <li class="issues"><a href="http://issues.apache.org/jira/browse/SOLR"><span>Issue Tracker</span></a></li>
+          <li class="irc"><a href="http://webchat.freenode.net/?channels=#solr"><span>IRC Channel</span></a></li>
+          <li class="mailinglist"><a href="http://wiki.apache.org/solr/UsingMailingLists"><span>Community forum</span></a></li>
+          <li class="wiki-query-syntax"><a href="http://wiki.apache.org/solr/SolrQuerySyntax"><span>Solr Query Syntax</span></a></li>
                     
-                </ul>
+        </ul>
                 
-            </div>
+      </div>
             
-        </div>
-    
     </div>
     
-    <script src="js/require.js" data-main="js/main"></script>
+  </div>
+    
+  <script src="js/require.js" data-main="js/main"></script>
 
 </body>
-</html>
\ No newline at end of file
+</html>
diff --git a/solr/webapp/web/css/screen.css b/solr/webapp/web/css/screen.css
deleted file mode 100644
index f022d34..0000000
--- a/solr/webapp/web/css/screen.css
+++ /dev/null
@@ -1,3226 +0,0 @@
-*
-{
-    background-repeat: no-repeat;
-    margin: 0;
-    padding: 0;
-}
-
-body, h1, h2, h3, h4, h5, h6, a, button, input, select, option, textarea, th, td
-{
-    color: #333;
-    font: 12px/1.6em "Lucida Grande", "DejaVu Sans", "Bitstream Vera Sans", Verdana, Arial, sans-serif;
-}
-
-body
-{
-    padding: 30px;
-    text-align: center;
-}
-
-a, button
-{
-    cursor: pointer;
-}
-
-button, input, select, textarea
-{
-    border: 1px solid #c0c0c0;
-    padding: 2px;
-}
-
-a
-{
-    text-decoration: none;
-}
-
-pre
-{
-    color: #333;
-    text-align: left;
-}
-
-abbr
-{
-    cursor: help;
-}
-
-ul
-{
-    list-style: none;
-}
-
-.clearfix:after { clear: both; content: "."; display: block; font-size: 0; height: 0; visibility: hidden; }
-.clearfix       { display: block; }
-
-.loader
-{
-    background-image: url( ../img/loader.gif ) !important;
-}
-
-.loader-light
-{
-    background-image: url( ../img/loader-light.gif ) !important;
-}
-
-#wrapper
-{
-    margin: 0 auto;
-    margin-bottom: 30px;
-    text-align: left;
-}
-
-#header
-{
-    padding-bottom: 10px;
-    position: relative;
-}
-
-#header #solr
-{
-    background-image: url( ../img/solr.png );
-    display: block;
-    height: 78px;
-    width: 200px;
-}
-
-#header #solr span
-{
-    display: none;
-}
-
-#header #wip-notice
-{
-    background-color: #eceffa;
-    background-image: url( ../img/ico/information-button.png );
-    background-position: 8px 7px;
-    border: 1px solid #4465cb;
-    padding: 5px 10px;
-    padding-left: 31px;
-    left: 212px;
-    position: absolute;
-    top: 0;
-}
-
-#header #wip-notice a
-{
-    display: block;
-}
-
-#header #wip-notice span
-{
-    border-bottom: 1px solid #c0c0c0;
-}
-
-#main
-{
-    border: 1px solid #c0c0c0;
-    min-height: 600px;
-    min-width: 750px;
-    position: relative;
-}
-
-#meta
-{
-    position: absolute;
-    bottom: -26px;
-    right: 0;
-}
-
-#meta li
-{
-    float: left;
-}
-
-#meta li a
-{
-    background-position: 10px 50%;
-    display: block;
-    height: 25px;
-    line-height: 25px;
-    padding-left: 31px;
-    padding-right: 10px;
-}
-
-#meta li a:hover
-{
-    background-color: #f0f0f0;
-}
-
-#meta .documentation a { background-image: url( ../img/ico/document-text.png ); }
-#meta .issues a { background-image: url( ../img/ico/bug.png ); }
-#meta .irc a { background-image: url( ../img/ico/users.png ); }
-#meta .mailinglist a { background-image: url( ../img/ico/mail.png ); }
-#meta .wiki-query-syntax a { background-image: url( ../img/ico/script-code.png ); }
-
-#environment
-{
-    background-image: url( ../img/ico/box.png );
-    background-position: 10px 50%;
-    border: 1px solid #c0c0c0;
-    display: none;
-    font-weight: bold;
-    padding: 5px 10px;
-    padding-left: 31px;
-    position: absolute;
-    top: 0;
-    right: 0;
-}
-
-#environment.prod
-{
-    background-color: #c37f7f;
-    border-color: #b15757;
-    color: #fff;
-}
-
-#environment.test
-{
-    background-color: #f5f5b2;
-    border-color: #e4e433;
-}
-
-#environment.dev
-{
-    background-color: #cce7cc;
-    border-color: #66b866;
-}
-
-#menu-wrapper
-{
-    float: left;
-    width: 20%;
-}
-
-#menu p.loader
-{
-    background-position: 5px 50%;
-    color: #c0c0c0;
-    margin-top: 5px;
-    padding-left: 26px;
-}
-
-#menu a
-{
-    display: block;
-    padding: 4px 2px;
-}
-
-#menu .active
-{
-    background-color: #fafafa;
-}
-
-#menu p a
-{
-    background-position: 97% 50%;
-    background-image: url( ../img/ico/status-offline.png );
-    padding-left: 5px;
-    padding-top: 5px;
-    padding-bottom: 5px;
-}
-
-#menu p a:hover
-{
-    background-color: #f0f0f0;
-}
-
-#menu .active p a
-{
-    background-color: #c0c0c0; /* #a5a5a6 */
-    font-weight: bold;
-}
-
-#menu p a small
-{
-    color: #b5b5b5;
-    font-weight: normal;
-}
-
-#menu p a small span.txt
-{
-    display: none;
-}
-
-#menu p a small:hover span.txt
-{
-    display: inline;
-}
-
-#menu .busy
-{
-    border-right-color: #f6f5d9;
-}
-
-#menu .busy p a
-{
-    background-color: #f6f5d9;
-    background-image: url( ../img/ico/status-away.png );
-}
-
-#menu .offline
-{
-    border-right-color: #eccfcf;
-}
-
-#menu .offline p a
-{
-    background-color: #eccfcf;
-    background-image: url( ../img/ico/status-busy.png );
-}
-
-#menu .online
-{
-    border-right-color: #cfecd3;
-}
-
-#menu .online p a
-{
-    background-color: #cfecd3;
-    background-image: url( ../img/ico/status.png );
-}
-
-#menu .ping small
-{
-    color: #000
-}
-
-#menu li
-{
-    border-bottom: 1px solid #c0c0c0;
-}
-
-#menu li p
-{
-    border-right: 1px solid #c0c0c0;
-}
-
-#menu li.optional
-{
-    display: none;
-}
-
-#menu li.active:last-child
-{
-    border-bottom: 0;
-}
-
-#menu ul ul
-{
-    background-image: url( ../img/div.gif );
-    background-position: 100% 0;
-    background-repeat: repeat-y;
-    display: none;
-    padding-top: 5px;
-    padding-bottom: 10px;
-}
-
-#menu ul .active ul
-{
-    display: block;
-}
-
-#menu ul li.active:last-child ul
-{
-    border-bottom: 1px solid #f0f0f0;
-}
-
-#menu ul ul li
-{
-    border-bottom: 0;
-    /*border-right: 0;*/
-    border-right: 1px solid #f0f0f0;
-}
-
-#menu ul ul li a
-{
-    background-position: 7px 50%;
-    border-bottom: 1px solid #f0f0f0;
-    color: #bbb;
-    margin-left: 15px;
-    padding-left: 26px;
-}
-
-#menu ul ul li:last-child a
-{
-    border-bottom: 0;
-}
-
-#menu ul ul li a:hover
-{
-    background-color: #f0f0f0;
-    color: #333;
-}
-
-#menu ul ul li.active
-{
-    background-color: #fff;
-    border-right-color: #fff;
-}
-
-#menu ul ul li.active a
-{
-    color: #333;
-}
-
-#menu ul ul li.active a:hover
-{
-    background-color: transparent;
-}
-
-#menu .global p a
-{
-    background-position: 5px 50%;
-    padding-left: 26px;
-}
-
-#menu #index p a
-{
-    background-image: url( ../img/ico/dashboard.png );
-}
-
-#menu #logging p a
-{
-    background-image: url( ../img/ico/inbox-document-text.png );
-}
-
-#menu #java-properties p a
-{
-    background-image: url( ../img/ico/jar.png );
-}
-
-#menu #threads p a
-{
-    background-image: url( ../img/ico/ui-accordion.png );
-}
-
-#menu #cores p a
-{
-    background-image: url( ../img/ico/databases.png );
-}
-
-#menu #cloud p a
-{
-    background-image: url( ../img/ico/network-cloud.png );
-}
-
-#menu .query a { background-image: url( ../img/ico/magnifier.png ); }
-#menu .schema a { background-image: url( ../img/ico/table.png ); }
-#menu .config a { background-image: url( ../img/ico/gear.png ); }
-#menu .analysis a { background-image: url( ../img/ico/funnel.png ); }
-#menu .schema-browser a { background-image: url( ../img/ico/book-open-text.png ); }
-#menu .replication a { background-image: url( ../img/ico/node.png ); }
-#menu .distribution a { background-image: url( ../img/ico/node-select.png ); }
-#menu .ping a { background-image: url( ../img/ico/system-monitor.png ); }
-#menu .logging a { background-image: url( ../img/ico/inbox-document-text.png ); }
-#menu .plugins a { background-image: url( ../img/ico/block.png ); }
-#menu .dataimport a { background-image: url( ../img/ico/document-import.png ); }
-
-#menu .ping.error
-{
-    background-color: #f7f7e9;
-}
-
-#menu .ping.error a
-{
-    background-color: transparent;
-    background-image: url( ../img/ico/system-monitor--exclamation.png );
-    cursor: help;
-}
-
-#content-wrapper
-{
-    float: right;
-    width: 80%;
-}
-
-#content
-{
-    padding: 10px;
-}
-
-#content > .loader
-{
-    background-position: 0 50%;
-    padding-left: 21px;
-}
-
-#content iframe
-{
-    border: 0;
-    display: block;
-    min-height: 400px;
-    width: 100%;
-}
-
-#content > pre
-{
-    max-height: 600px;
-    overflow: auto;
-}
-
-#content .block
-{
-    margin-bottom: 10px;
-}
-
-#content .block h2
-{
-    background-color: #fafafa;
-    background-position: 5px 50%;
-    border-bottom: 1px solid #f0f0f0;
-    font-weight: bold;
-    padding: 5px;
-    padding-left: 26px;
-}
-
-#content .block.disabled,
-#content .block.disabled h2
-{
-    color: #c0c0c0;
-}
-
-#content .block .message,
-#content .block .content
-{
-    padding: 5px;
-}
-
-#content .block .message
-{
-    display: none;
-}
-
-/* syntax */
-
-pre.syntax
-{
-    overflow: auto;
-}
-
-pre.syntax code
-{
-    display: block;
-    color: #000;
-}
-
-pre.syntax .comment,
-pre.syntax .template_comment,
-pre.syntax .diff .header,
-pre.syntax .javadoc
-{
-    color: #998;
-    font-style: italic;
-}
-
-pre.syntax .keyword,
-pre.syntax .css .rule .keyword,
-pre.syntax .winutils,
-pre.syntax .javascript .title,
-pre.syntax .lisp .title,
-pre.syntax .subst
-{
-    color: #000;
-    font-weight: bold;
-}
-
-pre.syntax .number,
-pre.syntax .hexcolor
-{
-    color: #40a070;
-}
-
-pre.syntax .string,
-pre.syntax .tag .value,
-pre.syntax .phpdoc,
-pre.syntax .tex .formula
-{
-    color: #d14;
-}
-
-pre.syntax .title,
-pre.syntax .id
-{
-    color: #900;
-    font-weight: bold;
-}
-
-pre.syntax .javascript .title,
-pre.syntax .lisp .title,
-pre.syntax .subst
-{
-    font-weight: normal;
-}
-
-pre.syntax .class .title,
-pre.syntax .tex .command
-{
-    color: #458;
-    font-weight: bold;
-}
-
-pre.syntax .tag,
-pre.syntax .css .keyword,
-pre.syntax .html .keyword,
-pre.syntax .tag .title,
-pre.syntax .django .tag .keyword
-{
-    color: #000080;
-    font-weight: normal;
-}
-
-pre.syntax .attribute,
-pre.syntax .variable,
-pre.syntax .instancevar,
-pre.syntax .lisp .body
-{
-    color: #008080;
-}
-
-pre.syntax .regexp
-{
-    color: #009926;
-}
-
-pre.syntax .class
-{
-    color: #458;
-    font-weight: bold;
-}
-
-pre.syntax .symbol,
-pre.syntax .ruby .symbol .string,
-pre.syntax .ruby .symbol .keyword,
-pre.syntax .ruby .symbol .keymethods,
-pre.syntax .lisp .keyword,
-pre.syntax .tex .special
-{
-    color: #990073;
-}
-
-pre.syntax .builtin,
-pre.syntax .built_in,
-pre.syntax .lisp .title
-{
-    color: #0086b3;
-}
-
-pre.syntax .preprocessor,
-pre.syntax .pi,
-pre.syntax .doctype,
-pre.syntax .shebang,
-pre.syntax .cdata
-{
-    color: #999;
-    font-weight: bold;
-}
-
-pre.syntax .deletion
-{
-    background: #fdd;
-}
-
-pre.syntax .addition
-{
-    background: #dfd;
-}
-
-pre.syntax .diff .change
-{
-    background: #0086b3;
-}
-
-pre.syntax .chunk
-{
-    color: #aaa;
-}
-
-pre.syntax .tex .formula
-{
-    opacity: 0.5;
-}
-
-/* dashboard */
-
-#content #dashboard .block
-{
-    background-image: none;
-    width: 49%;
-}
-
-#content #dashboard #statistics
-{
-    float: left;
-}
-
-#content #dashboard #statistics dt,
-#content #dashboard #statistics dd
-{
-    display: block;
-    float: left;
-}
-
-#content #dashboard #statistics dt
-{
-    clear: left;
-    margin-right: 2%;
-    text-align: right;
-    width: 23%;
-}
-
-#content #dashboard #statistics dd
-{
-    width: 74%;
-}
-
-#content #dashboard #statistics .index_optimized
-{
-    margin-top: 10px;
-}
-
-#content #dashboard #statistics .ico
-{
-    background-image: url( ../img/ico/slash.png );
-    height: 20px;
-}
-
-#content #dashboard #statistics .ico.ico-1
-{
-    background-image: url( ../img/ico/tick.png );
-}
-
-#content #dashboard #statistics .ico span
-{
-    display: none;
-}
-
-#content #dashboard #statistics .index_optimized.value a
-{
-    display: none;
-}
-
-#content #dashboard #statistics .index_optimized.value.ico-0 a
-{
-    background-color: #f0f0f0;
-    background-image: url( ../img/ico/hammer-screwdriver.png );
-    background-position: 5px 50%;
-    border: 1px solid #c0c0c0;
-    display: block;
-    float: left;
-    margin-left: 50px;
-    padding: 1px 5px;
-    padding-left: 26px;
-}
-
-#content #dashboard #statistics .index_has-deletions
-{
-    display: none;
-}
-
-#content #dashboard #statistics .index_has-deletions.value.ico-0
-{
-    background-image: url( ../img/ico/tick-red.png );
-}
-
-#content #dashboard #replication
-{
-    float: left;
-}
-
-#content #dashboard #replication .is-replicating
-{
-    background-position: 99% 50%;
-    display: block;
-}
-
-#content #dashboard #replication #details table thead td span
-{
-    display: none;
-}
-
-#content #dashboard #dataimport
-{
-    float: right;
-}
-
-
-#content #dashboard #admin-extra
-{
-    float: right;
-}
-
-#content #dashboard #system h2 { background-image: url( ../img/ico/server.png ); }
-#content #dashboard #statistics h2 { background-image: url( ../img/ico/chart.png ); }
-#content #dashboard #replication h2 { background-image: url( ../img/ico/node.png ); }
-#content #dashboard #replication.is-master h2 { background-image: url( ../img/ico/node-master.png ); }
-#content #dashboard #replication.is-slave h2 { background-image: url( ../img/ico/node-slave.png ); }
-#content #dashboard #dataimport h2 { background-image: url( ../img/ico/document-import.png ); }
-#content #dashboard #admin-extra h2 { background-image: url( ../img/ico/plus-button.png ); }
-
-/* analysis */
-
-#content #analysis-holder
-{
-    background-image: url( ../img/div.gif );
-    background-position: 50% 0;
-    background-repeat: repeat-y;
-}
-
-#content #analysis #field-analysis
-{
-    margin-bottom: 0;
-}
-
-#content #analysis #field-analysis .content
-{
-    padding-bottom: 0;
-}
-
-#content #analysis .settings-holder
-{
-    clear: both;
-    padding-top: 15px;
-}
-
-#content #analysis .settings
-{
-    background-color: #fff;
-    border-top: 1px solid #fafafa;
-    border-bottom: 1px solid #fafafa;
-    padding-top: 10px;
-    padding-bottom: 10px;
-}
-
-#content #analysis .settings select.loader
-{
-    background-position: 3px 50%;
-    padding-left: 21px;
-}
-
-#content #analysis .settings select optgroup
-{
-    font-style: normal;
-    padding: 5px;
-}
-
-#content #analysis .settings select option
-{
-    padding-left: 10px;
-}
-
-#content #analysis .settings div
-{
-    float: right;
-    width: 47%;
-}
-
-#content #analysis .settings button
-{
-    float: right;
-}
-
-#content #analysis .settings button.loader
-{
-    background-position: 2px 50%;
-    padding-left: 21px;
-}
-
-#content #analysis .settings .verbose_output
-{
-    float: left;
-    width: auto;
-}
-
-#content #analysis .settings .verbose_output a
-{
-    background-image: url( ../img/ico/ui-check-box-uncheck.png );
-    background-position: 0 50%;
-    color: #999;
-    display: block;
-    padding-left: 21px;
-}
-
-#content #analysis .settings .verbose_output.active a
-{
-    background-image: url( ../img/ico/ui-check-box.png );
-}
-
-#content #analysis .index label,
-#content #analysis .query label
-{
-    display: block;
-}
-
-#content #analysis .index textarea,
-#content #analysis .query textarea
-{
-    display: block;
-    width: 100%;
-}
-
-#content #analysis .index
-{
-    float: left;
-    margin-right: 0.5%;
-    min-width: 47%;
-    max-width: 99%;
-}
-
-#content #analysis .query
-{
-    float: right;
-    margin-left: 0.5%;
-    min-width: 47%;
-    max-width: 99%;
-}
-
-#content #analysis #analysis-error
-{
-    background-color: #f00;
-    background-image: url( ../img/ico/construction.png );
-    background-position: 10px 50%;
-    color: #fff;
-    display: none;
-    font-weight: bold;
-    margin-bottom: 20px;
-    padding: 10px;
-    padding-left: 35px;
-}
-
-#content #analysis #analysis-result
-{
-    overflow: auto;
-}
-
-#content #analysis #analysis-result .index,
-#content #analysis #analysis-result .query
-{
-    background-color: #fff;
-    padding-top: 20px;
-}
-
-#content #analysis #analysis-result table
-{
-    border-collapse: collapse;
-}
-
-#content #analysis #analysis-result td
-{
-    vertical-align: top;
-    white-space: nowrap;
-}
-
-#content #analysis #analysis-result td.part.analyzer div,
-#content #analysis #analysis-result td.part.spacer .holder,
-#content #analysis #analysis-result td td td
-{
-    padding-top: 1px;
-    padding-bottom: 1px;
-}
-
-#content #analysis #analysis-result td.legend,
-#content #analysis #analysis-result td.data tr.verbose_output
-{
-    display: none;
-}
-
-#content #analysis #analysis-result.verbose_output td.legend
-{
-    display: table-cell;
-}
-
-#content #analysis #analysis-result.verbose_output td.data tr.verbose_output
-{
-    display: table-row;
-}
-
-#content #analysis #analysis-result .match
-{
-    background-color: #e9eff7;
-    background-color: #f2f2ff;
-}
-
-#content #analysis #analysis-result td.part
-{
-    padding-bottom: 10px;
-}
-
-#content #analysis #analysis-result td.part.analyzer div
-{
-    border-right: 1px solid #f0f0f0;
-    padding-right: 10px;
-}
-
-#content #analysis #analysis-result td.part.analyzer abbr
-{
-    color: #c0c0c0;
-}
-
-#content #analysis #analysis-result td.part.legend .holder,
-#content #analysis #analysis-result td.part.data .holder
-{
-    padding-left: 10px;
-    padding-right: 10px;
-    border-right: 1px solid #c0c0c0;
-}
-
-#content #analysis #analysis-result td.part.legend td
-{
-    color: #c0c0c0;
-}
-
-#content #analysis #analysis-result td.part.legend .holder
-{
-    border-right-color: #f0f0f0;
-}
-
-#content #analysis #analysis-result td.part.data:last-child .holder
-{
-    padding-right: 0;
-    border-right: 0;
-}
-
-#content #analysis #analysis-result td.details 
-{
-    padding-left: 10px;
-    padding-right: 10px;
-    border-left: 1px solid #f0f0f0;
-    border-right: 1px solid #f0f0f0;
-}
-
-#content #analysis #analysis-result td.details:first-child
-{
-    padding-left: 0;
-    border-left: 0;
-}
-
-#content #analysis #analysis-result td.details:last-child
-{
-    padding-right: 0;
-    border-right: 0;
-}
-
-#content #analysis #analysis-result td.details tr.empty td
-{
-    color: #f0f0f0;
-}
-
-#content #analysis #analysis-result td.details tr.raw_bytes td
-{
-    letter-spacing: -1px;
-}
-
-#content #analysis #analysis-result .part table table td
-{
-    border-top: 1px solid #f0f0f0;
-}
-
-#content #analysis #analysis-result .part table table tr:first-child td
-{
-    border-top: 0;
-}
-
-#content #analysis #field-analysis h2 { background-image: url( ../img/ico/receipt.png ); }
-#content #analysis .analysis-result h2 { background-image: url( ../img/ico/receipt-invoice.png ); }
-
-/* plugins */
-
-#content #plugins #navigation
-{
-    background-image: url( ../img/div.gif );
-    background-position: 100% 0;
-    background-repeat: repeat-y;
-    width: 20%;
-}
-
-#content #plugins #navigation a
-{
-    background-position: 0 50%;
-    border-right: 1px solid #f0f0f0;
-    display: block;
-    margin-left: 1px;
-    padding: 3px 0;
-    padding-left: 21px;
-}
-
-#content #plugins #navigation .cache a { background-image: url( ../img/ico/disk-black.png ); }
-#content #plugins #navigation .core a { background-image: url( ../img/ico/toolbox.png ); }
-#content #plugins #navigation .other a { background-image: url( ../img/ico/zone.png ); }
-#content #plugins #navigation .highlighting a { background-image: url( ../img/ico/highlighter-text.png ); }
-#content #plugins #navigation .updatehandler a{ background-image: url( ../img/ico/arrow-circle.png ); }
-#content #plugins #navigation .queryhandler a { background-image: url( ../img/ico/magnifier.png ); }
-
-#content #plugins #navigation a:hover
-{
-    background-color: #fafafa;
-}
-
-#content #plugins #navigation .current a
-{
-    background-color: #fff;
-    border-right-color: #fff;
-    border-top: 1px solid #f0f0f0;
-    border-bottom: 1px solid #f0f0f0;
-    font-weight: bold;
-}
-
-#content #plugins #frame
-{
-    float: right;
-    width: 78%;
-}
-
-#content #plugins #frame .entry
-{
-    margin-bottom: 10px;
-}
-
-#content #plugins #frame .entry:last-child
-{
-    margin-bottom: 0;
-}
-
-#content #plugins #frame .entry a
-{
-    background-image: url( ../img/ico/chevron-small-expand.png );
-    background-position: 0 50%;
-    display: block;
-    font-weight: bold;
-    padding-left: 21px;
-}
-
-#content #plugins #frame .entry.expanded a
-{
-    background-image: url( ../img/ico/chevron-small.png );
-}
-
-#content #plugins #frame .entry.expanded ul
-{
-    display: block;
-}
-
-#content #plugins #frame .entry ul
-{
-    display: none;
-    padding-top: 5px;
-    margin-left: 21px;
-}
-
-#content #plugins #frame .entry li
-{
-    padding-top: 2px;
-    padding-bottom: 2px;
-}
-
-#content #plugins #frame .entry li.stats
-{
-    border-top: 1px solid #c0c0c0;
-    margin-top: 5px;
-    padding-top: 5px;
-}
-
-#content #plugins #frame .entry li.odd
-{
-    background-color: #f8f8f8;
-}
-
-#content #plugins #frame .entry dt,
-#content #plugins #frame .entry .stats span
-{
-    float: left;
-    width: 11%;
-}
-
-#content #plugins #frame .entry dd,
-#content #plugins #frame .entry .stats ul
-{
-    float: right;
-    width: 88%;
-}
-
-#content #plugins #frame .entry .stats ul
-{
-    margin: 0;
-    padding: 0;
-}
-
-#content #plugins #frame .entry .stats dt
-{
-    width: 27%;
-}
-
-#content #plugins #frame .entry .stats dd
-{
-    width: 72%;
-}
-
-/* query */
-
-#content #query
-{
-    background-image: url( ../img/div.gif );
-    background-position: 22% 0;
-    background-repeat: repeat-y;
-}
-
-#content #query #form
-{
-    float: left;
-    width: 21%;
-}
-
-#content #query #form label
-{
-    cursor: pointer;
-    display: block;
-    margin-top: 5px;
-}
-
-#content #query #form input,
-#content #query #form textarea
-{
-    margin-bottom: 2px;
-    width: 100%;
-}
-
-#content #query #form #start
-{
-    float: left;
-    margin-right: 2%;
-    width: 49%;
-}
-
-#content #query #form #rows
-{
-    width: 49%;
-}
-
-#content #query #form .checkbox input
-{
-    margin-bottom: 0;
-    width: auto;
-}
-
-#content #query #form fieldset,
-#content #query #form .optional.expanded
-{
-    border: 1px solid #fff;
-    border-top: 1px solid #c0c0c0;
-    margin-bottom: 10px;
-}
-
-#content #query #form fieldset legend,
-#content #query #form .optional.expanded legend
-{
-    display: block;
-    margin-left: 10px;
-    padding: 0px 5px;
-}
-
-#content #query #form fieldset legend label
-{
-    margin-top: 0;
-}
-
-#content #query #form fieldset .fieldset
-{
-    border-bottom: 1px solid #f0f0f0;
-    margin-bottom: 5px;
-    padding-bottom: 5px;
-}
-
-#content #query #form .optional
-{
-    border: 0;
-}
-
-#content #query #form .optional .fieldset
-{
-    display: none;
-}
-
-#content #query #form .optional legend
-{
-    margin-left: 0;
-    padding-left: 0;
-}
-
-#content #query #form .optional.expanded .fieldset
-{
-    display: block;
-}
-
-#content #query #result
-{
-    display: none;
-    float: right;
-    width: 77%;
-}
-
-#content #query #result #url
-{
-    margin-bottom: 10px;
-}
-
-#content #query #result #url input
-{
-    background-image: url( ../img/ico/ui-address-bar.png );
-    background-position: 5px 50%;
-    border-color: #f0f0f0;
-    box-shadow: 1px 1px 0 #f0f0f0;
-    -moz-box-shadow: 1px 1px 0 #f0f0f0;
-    -webkit-box-shadow: 1px 1px 0 #f0f0f0;
-    color: #c0c0c0;
-    display: block;
-    padding: 5px;
-    padding-left: 26px;
-    width: 100%;
-}
-
-#content #query #result #url input:focus,
-#content #query #result #url input:hover
-{
-    border-color: #c0c0c0;
-    box-shadow: 1px 1px 0 #d8d8d8;
-    -moz-box-shadow: 1px 1px 0 #d8d8d8;
-    -webkit-box-shadow: 1px 1px 0 #d8d8d8;
-    color: #333;
-}
-
-#content #query #result #response
-{
-}
-
-/* zookeeper */
-
-#content #zookeeper .loader
-{
-    background-position: 0 50%;
-    padding-left: 21px;
-}
-
-/* tree */
-
-#content .tree li, 
-#content .tree ins
-{
-    background-color: transparent;
-    background-image: url( ../img/tree.png );
-    background-repeat: no-repeat; 
-}
-
-#content .tree li
-{
-    background-position: -54px 0;
-    background-repeat: repeat-y;
-    line-height: 22px;
-}
-
-#content .tree li.jstree-last
-{
-    background:transparent;
-}
-
-#content .tree .jstree-open > ins
-{
-    background-position: -36px 0;
-}
-
-#content .tree .jstree-closed > ins
-{
-    background-position: -18px 0;
-}
-
-#content .tree .jstree-leaf > ins
-{
-    background-position: 0 0;
-}
-
-#content .tree .jstree-hovered
-{
-    background:#e7f4f9; border:1px solid #d8f0fa; padding:0 2px 0 1px;
-}
-
-#content .tree .jstree-clicked
-{
-    background:#beebff; border:1px solid #99defd; padding:0 2px 0 1px;
-}
-
-#content .tree a .jstree-icon
-{
-    background-image: url( ../img/ico/folder.png );
-}
-
-#content .tree .jstree-leaf a .jstree-icon
-{
-    background-image: url( ../img/ico/document-text.png );
-}
-
-#content .tree .jstree-search
-{
-    font-style:italic;
-}
-
-#content .tree a.jstree-search
-{
-    color:aqua;
-}
-
-/* index */
-
-#content #index .loader
-{
-    background-position: 0 50%;
-    padding-left: 21px;
-}
-
-#content #index #data
-{
-    float: left;
-    width: 74%;
-}
-
-#content #index #memory
-{
-    float: right;
-    width: 24%;
-}
-
-#content #index #data h2 { background-image: url( ../img/ico/server.png ); }
-#content #index #memory h2 { background-image: url( ../img/ico/battery.png ); }
-
-#content #index #data li
-{
-    display: none;
-    padding-top: 3px;
-    padding-bottom: 3px;
-}
-
-#content #index #data li.odd
-{
-    background-color: #f8f8f8;
-}
-
-#content #index #data li dt
-{
-    float: left;
-    width: 27%;
-}
-
-#content #index #data li dd
-{
-    float: right;
-    width: 72%
-}
-
-#content #index #data li dd.odd
-{
-    color: #999;
-}
-
-#content #index #data dt span
-{
-    background-position: 0 50%;
-    display: block;
-    padding-left: 21px;
-}
-
-#content #index #data .start_time dt span
-{
-    background-image: url( ../img/ico/clock-select.png );
-}
-
-#content #index #data .host dt span
-{
-    background-image: url( ../img/ico/globe.png );
-}
-
-#content #index #data .cwd dt span
-{
-    background-image: url( ../img/ico/folder-export.png );
-}
-
-#content #index #data .jvm dt span
-{
-    background-image: url( ../img/ico/jar.png );
-}
-
-#content #index #data .command_line_args dt span
-{
-    background-image: url( ../img/ico/terminal.png );
-}
-
-#content #index #data .lucene dt span
-{
-    background-image: url( ../img/lucene-ico.png );
-}
-
-#content #index #memory #memory-bar
-{
-    background-color: #00f;
-    box-shadow: 5px 5px 10px #c0c0c0;
-    -moz-box-shadow: 5px 5px 10px #c0c0c0;
-    -webkit-box-shadow: 5px 5px 10px #c0c0c0;
-    margin-top: 20px;
-    width: 100px;
-}
-
-#content #index #memory .bar
-{
-    bottom: 0;
-    position: absolute;
-    width: 100%;
-}
-
-#content #index #memory div .value
-{
-    border-top: 1px solid #f00;
-    display: block;
-    font-size: 10px;
-    line-height: 12px;
-    padding-left: 10px;
-    padding-right: 2px;
-    position: absolute;
-    margin-left: 100px;
-    white-space: nowrap;
-}
-
-#content #index #memory div .value.upper
-{
-    border-top-width: 0;
-    border-bottom-width: 1px;
-    border-bottom-style: solid;
-}
-
-#content #index #memory #memory-bar-max
-{
-    background-color: #f0f0f0;
-    height: 200px;
-    position: relative;
-}
-
-#content #index #memory #memory-bar-max .value
-{
-    border-color: #f0f0f0;
-    color: #d6d6d6;
-}
-
-#content #index #memory #memory-bar-total
-{
-    background-color: #c0c0c0;
-}
-
-#content #index #memory #memory-bar-total .value
-{
-    border-color: #c0c0c0;
-    color: #c0c0c0;
-}
-
-#content #index #memory #memory-bar-used
-{
-    background-color: #969696;
-}
-
-#content #index #memory #memory-bar-used .value
-{
-    border-color: #969696;
-    color: #969696;
-}
-
-/* schema-browser */
-
-#content #schema-browser .loader
-{
-    background-position: 0 50%;
-    padding-left: 21px;   
-}
-
-#content #schema-browser.loaded
-{
-    background-image: url( ../img/div.gif );
-    background-position: 21% 0;
-    background-repeat: repeat-y;
-}
-
-#content #schema-browser #data
-{
-    float: right;
-    width: 78%;
-}
-
-#content #schema-browser #related
-{
-    float: left;
-    width: 20%;
-}
-
-#content #schema-browser #related select
-{
-    width: 100%;
-}
-
-#content #schema-browser #related select optgroup
-{
-    font-style: normal;
-    padding: 5px;
-}
-
-#content #schema-browser #related select option
-{
-    padding-left: 10px;
-}
-
-#content #schema-browser #related #f-df-t
-{
-    border-bottom: 1px solid #f0f0f0;
-    padding-bottom: 15px;
-}
-
-#content #schema-browser #related dl
-{
-    margin-top: 15px;
-}
-
-#content #schema-browser #related dl dt,
-#content #schema-browser #related dl dd a
-{
-    color: #c0c0c0;
-}
-
-#content #schema-browser #related dl dt
-{
-    font-weight: bold;
-    margin-top: 5px;
-}
-
-#content #schema-browser #related dl dd a
-{
-    display: block;
-    padding-left: 10px;
-}
-
-#content #schema-browser #related dl dd a:hover
-{
-    background-color: #f8f8f8;
-}
-
-#content #schema-browser #related .field .field,
-#content #schema-browser #related .field .field a,
-#content #schema-browser #related .dynamic-field .dynamic-field,
-#content #schema-browser #related .dynamic-field .dynamic-field a,
-#content #schema-browser #related .type .type,
-#content #schema-browser #related .type .type a,
-#content #schema-browser #related .active,
-#content #schema-browser #related .active a
-{
-    color: #333;
-}
-
-#content #schema-browser #related .copyfield,
-#content #schema-browser #related .copyfield a
-{
-    color: #666;
-}
-
-#content #schema-browser #data
-{
-    display: none;
-}
-
-#content #schema-browser #data #index dt
-{
-    display: none;
-    float: left;
-    margin-right: 5px;
-    width: 150px;
-}
-
-#content #schema-browser #data #field .field-options
-{
-    margin-bottom: 20px;
-}
-
-#content #schema-browser #data #field .field-options .options dt,
-#content #schema-browser #data #field .field-options .options dd
-{
-    float: left;
-}
-
-#content #schema-browser #data #field .field-options .options dt
-{
-    clear: left;
-    display: none;
-    margin-right: 5px;
-    width: 100px;
-}
-
-#content #schema-browser #data #field .field-options .options dd
-{
-    margin-right: 5px;
-}
-
-#content #schema-browser #data #field .field-options .analyzer,
-#content #schema-browser #data #field .field-options .analyzer li,
-#content #schema-browser #data #field .field-options .analyzer ul,
-#content #schema-browser #data #field .field-options .analyzer ul li
-{
-    display: none;
-}
-
-#content #schema-browser #data #field .field-options .analyzer p,
-#content #schema-browser #data #field .field-options .analyzer dl
-{
-    float: left;
-}
-
-#content #schema-browser #data #field .field-options .analyzer p
-{
-    margin-right: 5px;
-    text-align: right;
-    width: 100px;
-}
-
-#content #schema-browser #data #field .field-options .analyzer li
-{
-    border-top: 1px solid #f0f0f0;
-    margin-top: 10px;
-    padding-top: 10px;
-}
-
-#content #schema-browser #data #field .field-options .analyzer ul
-{
-    clear: left;
-    display: block;
-    margin-left: 30px;
-    padding-top: 5px;
-}
-
-#content #schema-browser #data #field .field-options .analyzer ul li
-{
-    border-top: 1px solid #f8f8f8;
-    margin-top: 5px;
-    padding-top: 5px;
-}
-
-#content #schema-browser #data #field .field-options .analyzer ul p
-{
-    color: #999;
-    margin-right: 5px;
-    text-align: right;
-    width: 70px;
-}
-
-#content #schema-browser #data #field .field-options .analyzer ul dd
-{
-    margin-left: 20px;
-}
-
-#content #schema-browser #data #field .field-options .analyzer ul dd
-{
-    background-image: url( ../img/ico/document-list.png );
-    background-position: 0 50%;
-    color: #c0c0c0;
-    padding-left: 21px;
-}
-
-#content #schema-browser #data #field .field-options .analyzer ul dd.ico-0
-{
-    background-image: url( ../img/ico/slash.png );
-}
-
-#content #schema-browser #data #field .field-options .analyzer ul dd.ico-1
-{
-    background-image: url( ../img/ico/tick.png );
-}
-
-#content #schema-browser #data #field .head
-{
-    margin-bottom: 5px;
-}
-
-#content #schema-browser #data #field .topterms-holder
-{
-    display: none;
-    float: left;
-}
-
-#content #schema-browser #data #field .topterms-holder .head .max-holder
-{
-    color: #c0c0c0;
-}
-
-#content #schema-browser #data #field .topterms-holder table
-{
-    border-collapse: collapse;
-    width: 100%;
-}
-
-#content #schema-browser #data #field .topterms-holder th,
-#content #schema-browser #data #field .topterms-holder td
-{
-    border: 1px solid #f0f0f0;
-    padding: 1px 4px;
-}
-
-#content #schema-browser #data #field .topterms-holder thead tr
-{
-    background-color: #c0c0c0;
-}
-
-#content #schema-browser #data #field .topterms-holder thead th
-{
-    text-align: left;
-}
-
-#content #schema-browser #data #field .topterms-holder tbody
-{
-    display: none;
-}
-
-#content #schema-browser #data #field .topterms-holder tbody .odd
-{
-    background-color: #f0f0f0;
-}
-
-#content #schema-browser #data #field .topterms-holder tbody .position
-{
-    color: #c0c0c0;
-    text-align: right;
-}
-
-#content #schema-browser #data #field .topterms-holder .navi
-{
-    margin-top: 5px;
-}
-
-#content #schema-browser #data #field .topterms-holder .navi a
-{
-    color: #c0c0c0;
-    display: block;
-    padding-top: 2px;
-    padding-bottom: 2px;
-    width: 49%;
-}
-
-#content #schema-browser #data #field .topterms-holder .navi a:hover
-{
-    background-color: #f8f8f8;
-    color: #333;
-}
-
-#content #schema-browser #data #field .topterms-holder .navi .less
-{
-    float: left;
-}
-
-#content #schema-browser #data #field .topterms-holder .navi .less span
-{
-    background-image: url( ../img/ico/chevron-small.png );
-    background-position: 0 50%;
-    padding-left: 18px;
-}
-
-#content #schema-browser #data #field .topterms-holder .navi .more
-{
-    float: right;
-    text-align: right;
-}
-
-#content #schema-browser #data #field .topterms-holder .navi .more span
-{
-    background-image: url( ../img/ico/chevron-small-expand.png );
-    background-position: 100% 50%;
-    padding-right: 18px;
-}
-
-#content #schema-browser #data #field .histogram-holder
-{
-    display: none;
-    float: left;
-    margin-left: 50px;
-}
-
-#content #schema-browser #data #field .histogram-holder .histogram
-{
-    height: 150px;
-}
-
-#content #schema-browser #data #field .histogram-holder dt,
-#content #schema-browser #data #field .histogram-holder dd
-{
-    float: left;
-    font-size: 10px;
-    text-align: center;
-}
-
-#content #schema-browser #data #field .histogram-holder span
-{
-    background-color: #f0f0f0;
-    display: block;
-    width: 20px;
-}
-
-#content #schema-browser #data #field .histogram-holder dt
-{
-    padding-right: 1px;
-}
-
-#content #schema-browser #data #field .histogram-holder dd
-{
-    padding-right: 3px;
-}
-
-#content #schema-browser #data #field .histogram-holder dd span
-{
-    width: 25px;
-}
-
-/* java-properties */
-
-#content #java-properties .loader
-{
-    background-position: 0 50%;
-    padding-left: 21px;   
-}
-
-#content #java-properties li
-{
-    padding-top: 3px;
-    padding-bottom: 3px;
-}
-
-#content #java-properties li.odd
-{
-    background-color: #f8f8f8;
-}
-
-#content #java-properties li dt
-{
-    float: left;
-    width: 24%;
-}
-
-#content #java-properties li dd
-{
-    float: right;
-    width: 75%
-}
-
-#content #java-properties li dd.odd
-{
-    color: #999;
-}
-
-/* logging */
-
-#content #logging .loader
-{
-    background-position: 0 50%;
-    padding-left: 21px;
-}
-
-#content #logging .jstree
-{
-    position: relative;
-}
-
-#content #logging .jstree a
-{
-    cursor: auto;
-}
-
-#content #logging .jstree .trigger span
-{
-    background-position: 100% 50%;
-    cursor: pointer;
-    padding-right: 21px;
-}
-
-#content #logging .jstree a.trigger:hover span
-{
-    background-image: url( ../img/ico/pencil-small.png );
-}
-
-#content #logging .jstree .inactive,
-#content #logging .jstree .inactive .effective_level
-{
-    color: #c0c0c0;
-}
-
-#content #logging .jstree li
-{
-    position: relative;
-}
-
-#content #logging .jstree .odd
-{
-    background-color: #f8f8f8;
-}
-
-#content #logging .jstree .loglevel
-{
-    position: absolute;
-    margin-top: 3px;
-    top: 0;
-}
-
-#content #logging .jstree li .loglevel { left: 340px; }
-#content #logging .jstree li li .loglevel { left: 322px; }
-#content #logging .jstree li li li .loglevel { left: 304px; }
-#content #logging .jstree li li li li .loglevel { left: 286px; }
-#content #logging .jstree li li li li li .loglevel { left: 268px; }
-#content #logging .jstree li li li li li li .loglevel { left: 250px; }
-
-#content #logging .jstree .loglevel a
-{
-    display: block;
-}
-
-#content #logging .jstree .loglevel .effective_level
-{
-    height: 22px;
-    line-height: 22px;
-    padding-left: 5px;
-    width: 150px;
-}
-
-#content #logging .jstree .loglevel.open .effective_level
-{
-    background-color: #f0f0f0;
-}
-
-#content #logging .jstree .loglevel.open .effective_level
-{
-    background-image: url( ../img/ico/arrow-000-small.png );
-    background-position: 75px 50%;
-}
-
-#content #logging .jstree .loglevel.open .effective_level span
-{
-    background-image: none;
-}
-
-#content #logging .jstree .loglevel ul
-{
-    background-color: #fff;
-    border: 1px solid #f0f0f0;
-    display: none;
-    position: absolute;
-    left: 100px;
-    top: 0;
-}
-
-#content #logging .jstree .loglevel.open ul
-{
-    display: block;
-}
-
-#content #logging .jstree .loglevel ul li
-{
-    background-image: none;
-    line-height: auto;
-    margin-left: 0;
-}
-
-#content #logging .jstree .loglevel ul li a
-{
-    background-image: url( ../img/ico/ui-radio-button-uncheck.png );
-    background-position: 2px 50%;
-    cursor: pointer;
-    display: block;
-    height: 22px;
-    line-height: 22px;
-    padding-left: 21px;
-    padding-right: 5px;
-}
-
-#content #logging .jstree .loglevel ul li.selected a
-{
-    background-image: url( ../img/ico/ui-radio-button.png );
-}
-
-#content #logging .jstree .loglevel ul li a:hover
-{
-    background-color: #f8f8f8;
-    color: #008;
-}
-
-#content #logging .jstree .loglevel ul li.unset
-{
-    border-top: 1px solid #f0f0f0;
-}
-
-#content #logging .jstree .loglevel ul li.unset a
-{
-    background-image: url( ../img/ico/cross-0.png );
-    background-position: 4px 50%;
-    padding-top: 3px;
-    padding-bottom: 3px;
-}
-
-#content #logging .jstree .loglevel ul li.unset a:hover
-{
-    background-image: url( ../img/ico/cross-1.png );
-    color: #800;
-}
-
-/* threads */
-
-#content #threads .loader
-{
-    background-position: 0 50%;
-    padding-left: 21px;
-}
-
-#content #threads #thread-dump table
-{
-    border-collapse: collapse;
-    width: 100%;
-}
-
-#content #threads #thread-dump table .spacer,
-#content #threads #thread-dump tbody .state
-{
-    background-color: #fff;
-    border: 0;
-}
-
-#content #threads #thread-dump table th,
-#content #threads #thread-dump table td
-{
-    border: 1px solid #c0c0c0;
-    padding: 3px;
-    vertical-align: top;
-}
-
-#content #threads #thread-dump thead th
-{
-    background-color: #c8c8c8;
-    font-weight: bold;
-    text-align: left;
-}
-
-#content #threads #thread-dump tbody .odd
-{
-    background-color: #f0f0f0;
-}
-
-#content #threads #thread-dump tbody .state
-{
-    width: 20px;
-}
-
-#content #threads #thread-dump tbody .state a
-{
-    background-position: 50% 50%;
-    display: block;
-    height: 20px;
-}
-
-#content #threads #thread-dump tbody .open .state a
-{
-    background-image: url( ../img/ico/chevron-small.png );
-}
-
-#content #threads #thread-dump tbody .state a span
-{
-    display: none;
-}
-
-#content #threads #thread-dump tbody .id
-{
-    text-align: right;
-}
-
-#content #threads #thread-dump tbody .ico
-{
-    background-position: 50% 3px;
-    cursor: help;
-    width: 20px;
-}
-
-#content #threads #thread-dump tbody .RUNNABLE .ico
-{
-    background-image: url( ../img/ico/tick-circle.png );
-}
-
-#content #threads #thread-dump tbody .WAITING .ico,
-#content #threads #thread-dump tbody .TIMED_WAITING .ico
-{
-    background-image: url( ../img/ico/hourglass.png );
-}
-
-#content #threads #thread-dump tbody .WAITING.lock .ico,
-#content #threads #thread-dump tbody .TIMED_WAITING.lock .ico
-{
-    background-image: url( ../img/ico/hourglass--exclamation.png );
-}
-
-#content #threads #thread-dump tbody .ico span
-{
-    display: none;
-}
-
-#content #threads #thread-dump tbody .name a
-{
-    cursor: auto;
-    display: block;
-}
-
-#content #threads #thread-dump tbody .stacktrace .name a
-{
-    cursor: pointer;
-}
-
-#content #threads #thread-dump tbody .stacktrace .name a span
-{    
-    background-image: url( ../img/ico/chevron-small-expand.png );
-    background-position: 100% 50%;
-    padding-right: 21px;
-}
-
-#content #threads #thread-dump tbody .stacktrace.open .name a span
-{   
-    background-image: url( ../img/ico/chevron-small.png );
-}
-
-#content #threads #thread-dump tbody .name p
-{
-    background-image: url( ../img/ico/arrow-000-small.png );
-    background-position: 0 50%;
-    color: #c0c0c0;
-    font-size: 11px;
-    padding-left: 21px;
-}
-
-#content #threads #thread-dump tbody .name div
-{
-    border-top: 1px solid #c0c0c0;
-    display: none;
-    margin-top: 5px;
-    padding-top: 5px;
-}
-
-#content #threads #thread-dump tbody .open .name div
-{
-    display: block;
-}
-
-#content #threads #thread-dump tbody .name ul
-{
-    list-style-type: disc;
-    margin-left: 0.7em;
-    padding-left: 0.7em;
-}
-
-#content #threads #thread-dump tbody .time
-{
-    text-align: right;
-}
-
-#content #threads #thread-dump tbody .details
-{
-    display: none;
-}
-
-#content #threads .controls
-{
-    padding-top: 5px;
-    padding-bottom: 5px;
-}
-
-#content #threads .controls a
-{
-    background-image: url( ../img/ico/chevron-small-expand.png );
-    padding-left: 21px;
-}
-
-#content #threads.expanded .controls a
-{
-    background-image: url( ../img/ico/chevron-small.png );
-}
-
-#content #threads.expanded .controls .expand,
-#content #threads.collapsed .controls .collapse
-{
-    display: none;
-}
-
-/* dataimport */
-
-#content #dataimport
-{
-    background-image: url( ../img/div.gif );
-    background-position: 21% 0;
-    background-repeat: repeat-y;
-}
-
-#content #dataimport #frame
-{
-    float: right;
-    width: 78%;
-}
-
-#content #dataimport #form
-{
-    float: left;
-    width: 20%;
-}
-
-#content #dataimport.error #form form
-{
-    display: none !important;
-}
-
-#content #dataimport #form label
-{
-    cursor: pointer;
-    display: block;
-    margin-top: 5px;
-}
-
-#content #dataimport #form input,
-#content #dataimport #form select,
-#content #dataimport #form textarea
-{
-    margin-bottom: 2px;
-    width: 100%;
-}
-
-#content #dataimport #form #start
-{
-    float: left;
-    margin-right: 2%;
-    width: 49%;
-}
-
-#content #dataimport #form #rows
-{
-    width: 49%;
-}
-
-#content #dataimport #form .checkbox input
-{
-    margin-bottom: 0;
-    width: auto;
-}
-
-#content #dataimport #form fieldset,
-#content #dataimport #form .optional.expanded
-{
-    border: 1px solid #fff;
-    border-top: 1px solid #c0c0c0;
-    margin-bottom: 10px;
-}
-
-#content #dataimport #form fieldset legend,
-#content #dataimport #form .optional.expanded legend
-{
-    display: block;
-    margin-left: 10px;
-    padding: 0px 5px;
-}
-
-#content #dataimport #form fieldset legend label
-{
-    margin-top: 0;
-}
-
-#content #dataimport #form .handler
-{
-    display: none;
-}
-
-#content #dataimport #form .handler ul
-{
-    list-style: disc;
-    margin-left: 0.7em;
-    padding-left: 0.7em;
-}
-
-#content #dataimport #form .handler ul li a
-{
-    color: #c0c0c0;
-    display: block;
-}
-
-#content #dataimport #form .handler ul li.active a
-{
-    color: #333;
-}
-
-#content #dataimport #current_state
-{
-    display: none;
-    padding: 10px;
-    margin-bottom: 20px;
-}
-
-#content #dataimport.error #current_state
-{
-    display: none !important;
-}
-
-#content #dataimport #current_state .time,
-#content #dataimport #current_state .info
-{
-    display: block;
-    padding-left: 21px;
-}
-
-#content #dataimport #current_state .time
-{
-    color: #c0c0c0;
-    font-size: 11px;
-}
-
-#content #dataimport #current_state .info
-{
-    background-position: 0 1px;
-}
-
-#content #dataimport #current_state.indexing
-{
-    background-color: #f9f9f9;
-}
-
-#content #dataimport #current_state.success
-{
-    background-color: #e6f3e6;
-}
-
-#content #dataimport #current_state.success .info
-{
-    background-image: url( ../img/ico/tick-circle.png );
-}
-
-#content #dataimport #current_state.success .info strong
-{
-    color: #080;
-}
-
-#content #dataimport #current_state.failure
-{
-    background-color: #f3e6e6;
-}
-
-#content #dataimport #current_state.failure .info
-{
-    background-image: url( ../img/ico/slash.png );
-}
-
-#content #dataimport #current_state.failure .info strong
-{
-    color: #800;
-}
-
-#content #dataimport #config-error
-{
-    background-color: #f00;
-    background-image: url( ../img/ico/construction.png );
-    background-position: 10px 50%;
-    color: #fff;
-    display: none;
-    font-weight: bold;
-    margin-bottom: 20px;
-    padding: 10px;
-    padding-left: 35px;
-}
-
-#content #dataimport #config h2
-{
-    border-color: #c0c0c0;
-    padding-left: 5px;
-    position: relative;
-}
-
-#content #dataimport #config.hidden h2
-{
-    border-color: #fafafa;
-}
-
-#content #dataimport #config h2 a.toggle
-{
-    background-image: url( ../img/ico/toggle-small.png );
-    background-position: 0 50%;
-    padding-left: 21px;
-}
-
-#content #dataimport #config.hidden h2 a.toggle
-{
-    background-image: url( ../img/ico/toggle-small-expand.png );
-}
-
-#content #dataimport #config h2 a.reload_config
-{
-    background-image: url( ../img/ico/arrow-circle.png );
-    padding-left: 21px;
-    position: absolute;
-    right: 5px;
-    top: 5px;
-}
-
-#content #dataimport #config h2 a.reload_config.success
-{
-    background-image: url( ../img/ico/tick.png );
-}
-
-#content #dataimport #config h2 a.reload_config.error
-{
-    background-image: url( ../img/ico/slash.png );
-}
-
-#content #dataimport #config.hidden .content
-{
-    display: none;
-}
-
-#content #dataimport #dataimport_config .loader
-{
-    background-position: 0 50%;
-    padding-left: 21px;
-}
-
-/* cores */
-
-#content #cores
-{
-}
-
-#content #cores #frame
-{
-    float: right;
-    width: 78%;
-}
-
-#content #cores #navigation
-{
-    background-image: url( ../img/div.gif );
-    background-position: 100% 0;
-    background-repeat: repeat-y;
-    width: 20%;
-}
-
-#content #cores #list
-{
-    float: left;
-    padding-top: 15px;
-    width: 100%;
-}
-
-#content #cores #list a
-{
-    border-right: 1px solid #f0f0f0;
-    display: block;
-    margin-left: 1px;
-    padding: 3px 0;
-}
-
-#content #cores #list a:hover
-{
-    background-color: #fafafa;
-}
-
-#content #cores #list .current a
-{
-    background-color: #fff;
-    border-right-color: #fff;
-    border-top: 1px solid #f0f0f0;
-    border-bottom: 1px solid #f0f0f0;
-    font-weight: bold;
-}
-
-#content #cores #frame .actions
-{
-    margin-bottom: 20px;
-}
-
-#content #cores .actions form .buttons
-{
-    padding-left: 40px;
-}
-
-#content #cores .actions form a
-{
-    display: block;
-    float: left;
-    height: 20px;
-    margin-right: 5px;
-    padding-left: 21px;
-}
-
-#content #cores .actions form a span
-{
-    display: none;
-}
-
-#content #cores .actions form a.submit
-{
-    background-image: url( ../img/ico/tick.png );
-    background-position: 50% 50%;
-}
-
-#content #cores .actions form a.submit:hover
-{
-    background-color: #e6f3e6;
-}
-
-#content #cores .actions form a.reset
-{
-    background-image: url( ../img/ico/cross.png );
-    background-position: 50% 50%;
-}
-
-#content #cores .actions form a.reset:hover
-{
-    background-color: #f3e6e6;
-}
-
-#content #cores .actions form p
-{
-    padding-bottom: 3px;
-}
-
-#content #cores .actions form label
-{
-    float: left;
-    width: 40px;
-}
-
-#content #cores .actions form input,
-#content #cores .actions form select
-{
-    width: 100px;
-}
-
-#content #cores .actions form select option.disabled
-{
-    color: #c0c0c0;
-}
-
-#content #cores .actions .button-holder
-{
-    float: left;
-    margin-right: 10px;
-    margin-bottom: 5px;
-}
-
-#content #cores .actions .button-holder.active
-{
-    margin-bottom: 0;
-}
-
-#content #cores .actions .button-holder .button
-{
-    background-color: #f5f5f5;
-    border: 1px solid #c0c0c0;
-    position: relative;
-    z-index: 100;
-}
-
-#content #cores .actions .button-holder.active .button
-{
-    background-color: #fff;
-    border-bottom-color: #fff;
-    padding-bottom: 5px;
-}
-
-#content #cores .actions .button-holder .button a
-{
-    background-position: 5px 50%;
-    display: block;
-    padding: 1px 5px;
-    padding-left: 24px;
-}
-
-#content #cores .actions .button-holder .button a.success
-{
-    background-image: url( ../img/ico/tick.png );
-}
-
-#content #cores .actions .button-holder.active .button a
-{
-    cursor: auto;
-}
-
-#content #cores .actions .button-holder .button-content
-{
-    background-color: #fff;
-    border: 1px solid #c0c0c0;
-    box-shadow: 5px 5px 10px #c0c0c0;
-    -moz-box-shadow: 5px 5px 10px #c0c0c0;
-    -webkit-box-shadow: 5px 5px 10px #c0c0c0;
-    display: none;
-    margin-top: -1px;
-    padding: 5px;
-    padding-top: 15px;
-    position: absolute;
-    z-index: 99;
-}
-
-#content #cores .actions .button-holder.active .button-content
-{
-    display: block;
-}
-
-#content #cores .actions .button .reload
-{
-    background-image: url( ../img/ico/arrow-circle.png );
-}
-
-#content #cores .actions .button .rename
-{
-    background-image: url( ../img/ico/ui-text-field-select.png );
-}
-
-#content #cores .actions .button .swap
-{
-    background-image: url( ../img/ico/arrow-switch.png );
-}
-
-#content #cores .actions .button .unload
-{
-    background-image: url( ../img/ico/cross.png );
-}
-
-#content #cores .actions .button .optimize
-{
-    background-image: url( ../img/ico/hammer-screwdriver.png );
-    display: none;
-}
-
-#content #cores #navigation .add
-{
-    background-image: url( ../img/ico/plus-button.png );
-}
-
-#content #cores #navigation .add label
-{
-    width: 85px;
-}
-
-#content #cores #navigation .add input
-{
-    width: 155px;
-}
-
-#content #cores #navigation .add .buttons
-{
-    padding-left: 85px;
-}
-
-#content #cores #data #core-data h2 { background-image: url( ../img/ico/database.png ); }
-#content #cores #data #index-data h2 { background-image: url( ../img/ico/chart.png ); }
-
-#content #cores #data #index-data
-{
-    margin-top: 10px;
-}
-
-#content #cores #data li
-{
-    padding-bottom: 3px;
-    padding-top: 3px;
-}
-
-#content #cores #data li.odd
-{
-    background-color: #f8f8f8;
-}
-
-#content #cores #data li dt
-{
-    float: left;
-    width: 17%;
-}
-
-#content #cores #data li dd
-{
-    float: right;
-    width: 82%;
-}
-
-#content #cores #data li dd.ico
-{
-    background-image: url( ../img/ico/slash.png );
-    height: 20px;
-}
-
-#content #cores #data li dd.ico.ico-1
-{
-    background-image: url( ../img/ico/tick.png );
-}
-
-#content #cores #data li dd.ico span
-{
-    display: none;
-}
-
-/* replication */
-
-#content #replication
-{
-    background-image: url( ../img/div.gif );
-    background-position: 21% 0;
-    background-repeat: repeat-y;
-}
-
-#content #replication #frame
-{
-    float: right;
-    width: 78%;
-}
-
-#content #replication #navigation
-{
-    float: left;
-    width: 20%;
-}
-
-#content #replication #error
-{
-    background-color: #f00;
-    background-image: url( ../img/ico/construction.png );
-    background-position: 10px 50%;
-    color: #fff;
-    display: none;
-    font-weight: bold;
-    margin-bottom: 20px;
-    padding: 10px;
-    padding-left: 35px;
-}
-
-#content #replication .block
-{
-    border-bottom: 1px solid #c0c0c0;
-    margin-bottom: 20px;
-    padding-bottom: 20px;
-}
-
-#content #replication .block.last
-{
-    border-bottom: 0;
-}
-
-#content #replication .masterOnly,
-#content #replication .slaveOnly
-{
-    display: none;
-}
-
-#content #replication.master .masterOnly
-{
-    display: block;
-}
-
-#content #replication.slave .slaveOnly
-{
-    display: block;
-}
-
-#content #replication .replicating
-{
-    display: none;
-}
-
-#content #replication.replicating .replicating
-{
-    display: block;
-}
-
-#content #replication #progress
-{
-    padding-bottom: 80px;
-    position: relative;
-}
-
-#content #replication #progress .info
-{
-    padding: 5px;
-}
-
-#content #replication #progress #start
-{
-    margin-left: 100px;
-    border-left: 1px solid #c0c0c0;
-}
-
-#content #replication #progress #bar
-{
-    background-color: #f0f0f0;
-    margin-left: 100px;
-    margin-right: 100px;
-    position: relative;
-}
-
-#content #replication #progress #bar #bar-info,
-#content #replication #progress #bar #eta
-{
-    position: absolute;
-    right: -100px;
-    width: 100px;
-}
-
-#content #replication #progress #bar #bar-info
-{
-    border-left: 1px solid #f0f0f0;
-    margin-top: 30px;
-}
-
-#content #replication #progress #eta .info
-{
-    color: #c0c0c0;
-    height: 30px;
-    line-height: 30px;
-    padding-top: 0;
-    padding-bottom: 0;
-}
-
-#content #replication #progress #speed
-{
-    color: #c0c0c0;
-    position: absolute;
-    right: 100px;
-    top: 0;
-}
-
-#content #replication #progress #bar #done
-{
-    background-color: #c0c0c0;
-    box-shadow: 5px 5px 10px #c0c0c0;
-    -moz-box-shadow: 5px 5px 10px #c0c0c0;
-    -webkit-box-shadow: 5px 5px 10px #c0c0c0;
-    height: 30px;
-    position: relative;
-}
-
-#content #replication #progress #bar #done .percent
-{
-    font-weight: bold;
-    height: 30px;
-    line-height: 30px;
-    padding-left: 5px;
-    padding-right: 5px;
-    position: absolute;
-    right: 0;
-    text-align: right;
-}
-
-#content #replication #progress #bar #done #done-info
-{
-    border-right: 1px solid #c0c0c0;
-    position: absolute;
-    right: 0;
-    margin-top: 30px;
-    text-align: right;
-    width: 100px;
-}
-
-#content #replication #progress #bar #done #done-info .percent
-{
-    font-weight: bold;
-}
-
-#content #replication .block .label,
-#content #replication #current-file .file,
-#content #replication #current-file .progress,
-#content #replication #iterations .iterations
-{
-    float: left;
-}
-
-#content #replication .block .label
-{
-    width: 100px;
-}
-
-#content #replication .block .label span
-{
-    display: block;
-    padding-left: 21px;
-}
-
-#content #replication #current-file
-{
-    border-top: 1px solid #f0f0f0;
-    margin-top: 10px;
-    padding-top: 10px;
-}
-
-#content #replication #current-file .progress
-{
-    color: #c0c0c0;
-    margin-left: 20px;
-}
-
-#content #replication #iterations
-{
-    display: none;
-}
-
-#content #replication #iterations .label span
-{
-    background-image: url( ../img/ico/node-design.png );
-}
-
-#content #replication #iterations .iterations li
-{
-    background-position: 100% 50%;
-    display: none;
-    padding-right: 21px;
-}
-
-#content #replication #iterations .iterations.expanded li
-{
-    display: block;
-}
-
-#content #replication #iterations .iterations .latest
-{
-    display: block;
-}
-
-#content #replication #iterations .iterations .replicated
-{
-    color: #80c480;
-}
-
-#content #replication #iterations .iterations ul:hover .replicated,
-#content #replication #iterations .iterations .replicated.latest
-{
-    color: #080;
-}
-
-#content #replication #iterations .iterations .replicated.latest
-{
-    background-image: url( ../img/ico/tick.png );
-}
-
-#content #replication #iterations .iterations .failed
-{
-    color: #c48080;
-}
-
-#content #replication #iterations .iterations ul:hover .failed,
-#content #replication #iterations .iterations .failed.latest
-{
-    color: #800;
-}
-
-#content #replication #iterations .iterations .failed.latest
-{
-    background-image: url( ../img/ico/cross.png );
-}
-
-#content #replication #iterations .iterations a
-{
-    border-top: 1px solid #f0f0f0;
-    display: none;
-    margin-top: 2px;
-    padding-top: 2px;
-}
-
-#content #replication #iterations .iterations a span
-{
-    background-position: 0 50%;
-    color: #c0c0c0;
-    display: none;
-    padding-left: 21px;
-}
-
-#content #replication #iterations .iterations a span.expand
-{
-    background-image: url( ../img/ico/chevron-small-expand.png );
-    display: block;
-}
-
-#content #replication #iterations .iterations.expanded a span.expand
-{
-    display: none;
-}
-
-#content #replication #iterations .iterations.expanded a span.collapse
-{
-    background-image: url( ../img/ico/chevron-small.png );
-    display: block;
-}
-
-#content #replication #details table
-{
-    border-collapse: collapse;
-}
-
-#content #replication #details table th
-{
-    text-align: left;
-}
-
-#content #replication.slave #details table .slaveOnly
-{
-    display: table-row;
-}
-
-#content #replication #details table thead th
-{
-    color: #c0c0c0;
-}
-
-#content #replication #details table thead th,
-#content #replication #details table tbody td
-{
-    padding-right: 20px;
-}
-
-#content #replication #details table thead td,
-#content #replication #details table thead th,
-#content #replication #details table tbody th,
-#content #replication #details table tbody td div
-{
-    padding-top: 3px;
-    padding-bottom: 3px;
-}
-
-#content #replication #details table tbody td,
-#content #replication #details table tbody th
-{
-    border-top: 1px solid #f0f0f0;
-}
-
-#content #replication #details table thead td
-{
-    width: 100px;
-}
-
-#content #replication #details table thead td span
-{
-    background-image: url( ../img/ico/clipboard-list.png );
-    background-position: 0 50%;
-    display: block;
-    padding-left: 21px;
-}
-
-#content #replication #details table tbody th
-{
-    padding-right: 10px;
-    text-align: right;
-}
-
-#content #replication #details table tbody .size
-{
-    text-align: right;
-    white-space: nowrap;
-}
-
-#content #replication #details table tbody .generation div
-{
-    text-align: center;
-}
-
-#content #replication #details table tbody .diff div
-{
-    background-color: #fcfcc9;
-    padding-left: 1px;
-    padding-right: 1px;
-}
-
-#content #replication .settings .label span
-{
-    background-image: url( ../img/ico/hammer-screwdriver.png );
-}
-
-#content #replication .settings ul,
-#content #replication .settings dl dt,
-#content #replication .settings dl dd
-{
-    float: left;
-}
-
-#content #replication .settings ul li
-{
-    border-top: 1px solid #f0f0f0;
-    display: none;
-    padding-top: 3px;
-    padding-top: 3px;
-}
-
-#content #replication .settings ul li:first-child
-{
-    border-top: 0;
-    padding-top: 0;
-}
-
-#content #replication .settings dl dt
-{
-    clear: left;
-    margin-right: 5px;
-    width: 120px;
-}
-
-#content #replication .settings dl .ico
-{
-    background-position: 0 50%;
-    padding-left: 21px;
-}
-
-#content #replication .settings dl .ico.ico-0
-{
-    background-image: url( ../img/ico/slash.png );
-}
-
-#content #replication .settings dl .ico.ico-1
-{
-    background-image: url( ../img/ico/tick.png );
-}
-
-#content #replication #navigation button
-{
-    background-position: 2px 50%;
-    margin-bottom: 10px;
-    padding-left: 21px;
-}
-
-#content #replication #navigation button.optional
-{
-    display: none;
-}
-
-#content #replication #navigation .replicate-now
-{
-    background-image: url( ../img/ico/document-convert.png );
-}
-
-#content #replication #navigation .abort-replication
-{
-    background-color: #800;
-    background-image: url( ../img/ico/hand.png );
-    border-color: #800;
-    color: #fff;
-}
-
-#content #replication #navigation .disable-polling
-{
-    background-image: url( ../img/ico/cross.png );
-}
-
-#content #replication #navigation .enable-polling
-{
-    background-image: url( ../img/ico/tick.png );
-}
-
-#content #replication #navigation .disable-replication
-{
-    background-image: url( ../img/ico/cross.png );
-}
-
-#content #replication #navigation .enable-replication
-{
-    background-image: url( ../img/ico/tick.png );
-}
-
-#content #replication #navigation .refresh-status
-{
-    background-image: url( ../img/ico/arrow-circle.png );
-}
-
-/* cloud */
-
-#content #cloud #zookeeper h2 { background-image: url( ../img/ico/sitemap.png ); }
\ No newline at end of file
diff --git a/solr/webapp/web/css/styles/analysis.css b/solr/webapp/web/css/styles/analysis.css
index c820b0e..8163e58 100644
--- a/solr/webapp/web/css/styles/analysis.css
+++ b/solr/webapp/web/css/styles/analysis.css
@@ -1,263 +1,269 @@
 #content #analysis-holder
 {
-    background-image: url( ../../img/div.gif );
-    background-position: 50% 0;
-    background-repeat: repeat-y;
+  background-image: url( ../../img/div.gif );
+  background-position: 50% 0;
+  background-repeat: repeat-y;
 }
 
 #content #analysis #field-analysis
 {
-    margin-bottom: 0;
+  margin-bottom: 0;
 }
 
 #content #analysis #field-analysis .content
 {
-    padding-bottom: 0;
+  padding-bottom: 0;
 }
 
 #content #analysis .settings-holder
 {
-    clear: both;
-    padding-top: 15px;
+  clear: both;
+  padding-top: 15px;
 }
 
 #content #analysis .settings
 {
-    background-color: #fff;
-    border-top: 1px solid #fafafa;
-    border-bottom: 1px solid #fafafa;
-    padding-top: 10px;
-    padding-bottom: 10px;
+  background-color: #fff;
+  border-top: 1px solid #fafafa;
+  border-bottom: 1px solid #fafafa;
+  padding-top: 10px;
+  padding-bottom: 10px;
 }
 
 #content #analysis .settings select.loader
 {
-    background-position: 3px 50%;
-    padding-left: 21px;
+  background-position: 3px 50%;
+  padding-left: 21px;
 }
 
 #content #analysis .settings select optgroup
 {
-    font-style: normal;
-    padding: 5px;
+  font-style: normal;
+  padding: 5px;
 }
 
 #content #analysis .settings select option
 {
-    padding-left: 10px;
+  padding-left: 10px;
 }
 
 #content #analysis .settings div
 {
-    float: right;
-    width: 47%;
+  float: right;
+  width: 47%;
 }
 
 #content #analysis .settings button
 {
-    float: right;
+  float: right;
 }
 
 #content #analysis .settings button.loader
 {
-    background-position: 2px 50%;
-    padding-left: 21px;
+  background-position: 2px 50%;
+  padding-left: 21px;
 }
 
 #content #analysis .settings .verbose_output
 {
-    float: left;
-    width: auto;
+  float: left;
+  width: auto;
 }
 
 #content #analysis .settings .verbose_output a
 {
-    background-image: url( ../../img/ico/ui-check-box-uncheck.png );
-    background-position: 0 50%;
-    color: #999;
-    display: block;
-    padding-left: 21px;
+  background-image: url( ../../img/ico/ui-check-box-uncheck.png );
+  background-position: 0 50%;
+  color: #999;
+  display: block;
+  padding-left: 21px;
 }
 
 #content #analysis .settings .verbose_output.active a
 {
-    background-image: url( ../../img/ico/ui-check-box.png );
+  background-image: url( ../../img/ico/ui-check-box.png );
 }
 
 #content #analysis .index label,
 #content #analysis .query label
 {
-    display: block;
+  display: block;
 }
 
 #content #analysis .index textarea,
 #content #analysis .query textarea
 {
-    display: block;
-    width: 100%;
+  display: block;
+  width: 100%;
 }
 
 #content #analysis .index
 {
-    float: left;
-    margin-right: 0.5%;
-    min-width: 47%;
-    max-width: 99%;
+  float: left;
+  margin-right: 0.5%;
+  min-width: 47%;
+  max-width: 99%;
 }
 
 #content #analysis .query
 {
-    float: right;
-    margin-left: 0.5%;
-    min-width: 47%;
-    max-width: 99%;
+  float: right;
+  margin-left: 0.5%;
+  min-width: 47%;
+  max-width: 99%;
 }
 
 #content #analysis .analysis-error
 {
-    background-color: #f00;
-    background-image: url( ../../img/ico/construction.png );
-    background-position: 10px 50%;
-    color: #fff;
-    display: none;
-    font-weight: bold;
-    margin-bottom: 20px;
-    padding: 10px;
-    padding-left: 35px;
+  background-color: #f00;
+  background-image: url( ../../img/ico/construction.png );
+  background-position: 10px 50%;
+  color: #fff;
+  display: none;
+  font-weight: bold;
+  margin-bottom: 20px;
+  padding: 10px;
+  padding-left: 35px;
+}
+
+#content #analysis .analysis-error .head a
+{
+  color: #fff;
+  cursor: auto;
 }
 
 #content #analysis #analysis-result
 {
-    overflow: auto;
+  overflow: auto;
 }
 
 #content #analysis #analysis-result .index,
 #content #analysis #analysis-result .query
 {
-    background-color: #fff;
-    padding-top: 20px;
+  background-color: #fff;
+  padding-top: 20px;
 }
 
 #content #analysis #analysis-result table
 {
-    border-collapse: collapse;
+  border-collapse: collapse;
 }
 
 #content #analysis #analysis-result td
 {
-    vertical-align: top;
-    white-space: nowrap;
+  vertical-align: top;
+  white-space: nowrap;
 }
 
 #content #analysis #analysis-result td.part.analyzer div,
 #content #analysis #analysis-result td.part.spacer .holder,
 #content #analysis #analysis-result td td td
 {
-    padding-top: 1px;
-    padding-bottom: 1px;
+  padding-top: 1px;
+  padding-bottom: 1px;
 }
 
 #content #analysis #analysis-result td.legend,
 #content #analysis #analysis-result td.data tr.verbose_output
 {
-    display: none;
+  display: none;
 }
 
 #content #analysis #analysis-result.verbose_output td.legend
 {
-    display: table-cell;
+  display: table-cell;
 }
 
 #content #analysis #analysis-result.verbose_output td.data tr.verbose_output
 {
-    display: table-row;
+  display: table-row;
 }
 
 #content #analysis #analysis-result .match
 {
-    background-color: #e9eff7;
-    background-color: #f2f2ff;
+  background-color: #e9eff7;
+  background-color: #f2f2ff;
 }
 
 #content #analysis #analysis-result td.part
 {
-    padding-bottom: 10px;
+  padding-bottom: 10px;
 }
 
 #content #analysis #analysis-result td.part.analyzer div
 {
-    border-right: 1px solid #f0f0f0;
-    padding-right: 10px;
+  border-right: 1px solid #f0f0f0;
+  padding-right: 10px;
 }
 
 #content #analysis #analysis-result td.part.analyzer abbr
 {
-    color: #c0c0c0;
+  color: #c0c0c0;
 }
 
 #content #analysis #analysis-result td.part.legend .holder,
 #content #analysis #analysis-result td.part.data .holder
 {
-    padding-left: 10px;
-    padding-right: 10px;
-    border-right: 1px solid #c0c0c0;
+  padding-left: 10px;
+  padding-right: 10px;
+  border-right: 1px solid #c0c0c0;
 }
 
 #content #analysis #analysis-result td.part.legend td
 {
-    color: #c0c0c0;
+  color: #c0c0c0;
 }
 
 #content #analysis #analysis-result td.part.legend .holder
 {
-    border-right-color: #f0f0f0;
+  border-right-color: #f0f0f0;
 }
 
 #content #analysis #analysis-result td.part.data:last-child .holder
 {
-    padding-right: 0;
-    border-right: 0;
+  padding-right: 0;
+  border-right: 0;
 }
 
 #content #analysis #analysis-result td.details 
 {
-    padding-left: 10px;
-    padding-right: 10px;
-    border-left: 1px solid #f0f0f0;
-    border-right: 1px solid #f0f0f0;
+  padding-left: 10px;
+  padding-right: 10px;
+  border-left: 1px solid #f0f0f0;
+  border-right: 1px solid #f0f0f0;
 }
 
 #content #analysis #analysis-result td.details:first-child
 {
-    padding-left: 0;
-    border-left: 0;
+  padding-left: 0;
+  border-left: 0;
 }
 
 #content #analysis #analysis-result td.details:last-child
 {
-    padding-right: 0;
-    border-right: 0;
+  padding-right: 0;
+  border-right: 0;
 }
 
 #content #analysis #analysis-result td.details tr.empty td
 {
-    color: #f0f0f0;
+  color: #f0f0f0;
 }
 
 #content #analysis #analysis-result td.details tr.raw_bytes td
 {
-    letter-spacing: -1px;
+  letter-spacing: -1px;
 }
 
 #content #analysis #analysis-result .part table table td
 {
-    border-top: 1px solid #f0f0f0;
+  border-top: 1px solid #f0f0f0;
 }
 
 #content #analysis #analysis-result .part table table tr:first-child td
 {
-    border-top: 0;
+  border-top: 0;
 }
 
 #content #analysis #field-analysis h2 { background-image: url( ../../img/ico/receipt.png ); }
-#content #analysis .analysis-result h2 { background-image: url( ../../img/ico/receipt-invoice.png ); }
\ No newline at end of file
+#content #analysis .analysis-result h2 { background-image: url( ../../img/ico/receipt-invoice.png ); }
diff --git a/solr/webapp/web/css/styles/cloud.css b/solr/webapp/web/css/styles/cloud.css
index 2b8a121..f39936b 100644
--- a/solr/webapp/web/css/styles/cloud.css
+++ b/solr/webapp/web/css/styles/cloud.css
@@ -1,100 +1,208 @@
 #content #cloud .loader
 {
-    background-position: 0 50%;
-    padding-left: 21px;
+  background-position: 0 50%;
+  padding-left: 21px;
 }
 
 #content #cloud #error
 {
-    background-color: #f00;
-    background-image: url( ../../img/ico/construction.png );
-    background-position: 10px 50%;
-    color: #fff;
-    font-weight: bold;
-    margin-bottom: 20px;
-    padding: 10px;
-    padding-left: 35px;
+  background-color: #f00;
+  background-image: url( ../../img/ico/construction.png );
+  background-position: 10px 50%;
+  color: #fff;
+  font-weight: bold;
+  margin-bottom: 20px;
+  padding: 10px;
+  padding-left: 35px;
 }
 
 #content #cloud h2 { background-image: url( ../../img/ico/sitemap.png ); }
 
+#content #cloud
+{
+  position: relative;
+}
+
+#content #cloud a.debug
+{
+  background-color: #c0c0c0;
+  background-image: url( ../../img/ico/exclamation-button.png );
+  background-position: 5px 50%;
+  border-radius: 5px;
+  display: block;
+  padding: 2px 5px;
+  padding-left: 26px;
+  position: absolute;
+  left: 150px;
+  top: 3px;
+}
+
+#content #cloud a.debug:hover
+{
+  background-color: #fff;
+  color: #00f;
+}
+
+#content #cloud #debug
+{
+  background-color: #fff;
+  box-shadow: 5px 5px 10px #c0c0c0;
+  -moz-box-shadow: 5px 5px 10px #c0c0c0;
+  -webkit-box-shadow: 5px 5px 10px #c0c0c0;
+  display: none;
+  padding: 20px;
+  position: absolute;
+  left: 50px;
+  top: 50px;
+}
+
+#content #cloud #debug ul
+{
+  margin-bottom: 5px;
+}
+
+#content #cloud #debug ul a
+{
+  background-position: 4px 50%;
+  display: block;
+  padding: 2px 4px;
+  padding-left: 25px;
+}
+
+#content #cloud #debug ul a:hover,
+#content #cloud #debug ul a.hover
+{
+  background-color: #f0f0f0;
+}
+
+#content #cloud #debug .clipboard
+{
+  float: left;
+  position: relative;
+}
+
+#content #cloud #debug .clipboard a
+{
+  background-image: url( ../../img/ico/clipboard-paste.png );
+  z-index: 98;
+}
+
+#content #cloud #debug .clipboard a:hover,
+#content #cloud #debug .clipboard a.hover,
+#content #cloud #debug .clipboard.copied a
+{
+  background-image: url( ../../img/ico/clipboard-paste-document-text.png );
+}
+
+#content #cloud #debug .close
+{
+  float: right;
+}
+
+#content #cloud #debug .close a
+{
+  background-image: url( ../../img/ico/cross-0.png );
+  padding-left: 21px;
+}
+
+#content #cloud #debug .close a:hover
+{
+  background-image: url( ../../img/ico/cross-1.png );
+}
+
+#content #cloud #debug .debug
+{
+  border: 1px solid #f0f0f0;
+  max-height: 400px;
+  overflow: auto;
+  padding: 5px;
+  width: 500px;
+}
+
+#content #cloud #debug .debug .loader
+{
+  background-position: 5px 50%;
+  display: block;
+  padding: 10px 26px;
+}
+
 #content #cloud .content
 {
-    padding-left: 0;
-    padding-right: 0;
+  padding-left: 0;
+  padding-right: 0;
 }
 
 #content #cloud .content.show
 {
-    background-image: url( ../../img/div.gif );
-    background-repeat: repeat-y;
-    background-position: 31% 0;
+  background-image: url( ../../img/div.gif );
+  background-repeat: repeat-y;
+  background-position: 31% 0;
 }
 
 #content #cloud #tree
 {
-    float: left;
-    width: 30%;
+  float: left;
+  width: 30%;
 }
 
 #content #cloud .show #tree
 {
-    overflow: hidden;
+  overflow: hidden;
 }
 
 #content #cloud #file-content
 {
-    display: none;
-    float: right;
-    position: relative;
-    width: 68%;
-    min-height: 100px
+  display: none;
+  float: right;
+  position: relative;
+  width: 68%;
+  min-height: 100px
 }
 
 #content #cloud .show #file-content
 {
-    display: block;
+  display: block;
 }
 
 #content #cloud #file-content .close
 {
-    background-image: url( ../../img/ico/cross-0.png );
-    background-position: 50% 50%;
-    display: block;
-    height: 20px;
-    position: absolute;
-    right: 0;
-    top: 0;
-    width: 20px;
+  background-image: url( ../../img/ico/cross-0.png );
+  background-position: 50% 50%;
+  display: block;
+  height: 20px;
+  position: absolute;
+  right: 0;
+  top: 0;
+  width: 20px;
 }
 
 #content #cloud #file-content .close:hover
 {
-    background-image: url( ../../img/ico/cross-1.png );
+  background-image: url( ../../img/ico/cross-1.png );
 }
 
 #content #cloud #file-content .close span
 {
-    display: none;
+  display: none;
 }
 
 #content #cloud #file-content #data
 {
-    border-top: 1px solid #c0c0c0;
-    margin-top: 10px;
-    padding-top: 10px;
+  border-top: 1px solid #c0c0c0;
+  margin-top: 10px;
+  padding-top: 10px;
 }
 
 #content #cloud #file-content #data pre
 {
-    display: block;
-    max-height: 600px;
-    overflow: auto;
+  display: block;
+  max-height: 600px;
+  overflow: auto;
 }
 
 #content #cloud #file-content #data em
 {
-    color: #c0c0c0;
+  color: #c0c0c0;
 }
 
 #content #cloud #file-content #prop
@@ -103,31 +211,31 @@
 
 #content #cloud #file-content li
 {
-    padding-top: 3px;
-    padding-bottom: 3px;
+  padding-top: 3px;
+  padding-bottom: 3px;
 }
 
 #content #cloud #file-content li.odd
 {
-    background-color: #F8F8F8;
+  background-color: #F8F8F8;
 }
 
 #content #cloud #file-content li dt
 {
-    float: left;
-    width: 19%;
+  float: left;
+  width: 19%;
 }
 
 #content #cloud #file-content li dd
 {
-    float: right;
-    width: 80%;
+  float: right;
+  width: 80%;
 }
 
 /* tree */
 
 #content #cloud .tree a.active
 {
-    background-color: #f0f0f0;
-    color: #00f;
+  background-color: #f0f0f0;
+  color: #00f;
 }
\ No newline at end of file
diff --git a/solr/webapp/web/css/styles/common.css b/solr/webapp/web/css/styles/common.css
index 5452ead..374f493 100644
--- a/solr/webapp/web/css/styles/common.css
+++ b/solr/webapp/web/css/styles/common.css
@@ -1,52 +1,52 @@
 *
 {
-    background-repeat: no-repeat;
-    margin: 0;
-    padding: 0;
+  background-repeat: no-repeat;
+  margin: 0;
+  padding: 0;
 }
 
 body, h1, h2, h3, h4, h5, h6, a, button, input, select, option, textarea, th, td
 {
-    color: #333;
-    font: 12px/1.6em "Lucida Grande", "DejaVu Sans", "Bitstream Vera Sans", Verdana, Arial, sans-serif;
+  color: #333;
+  font: 12px/1.6em "Lucida Grande", "DejaVu Sans", "Bitstream Vera Sans", Verdana, Arial, sans-serif;
 }
 
 body
 {
-    padding: 30px;
-    text-align: center;
+  padding: 30px;
+  text-align: center;
 }
 
 a, button
 {
-    cursor: pointer;
+  cursor: pointer;
 }
 
 button, input, select, textarea
 {
-    border: 1px solid #c0c0c0;
-    padding: 2px;
+  border: 1px solid #c0c0c0;
+  padding: 2px;
 }
 
 a
 {
-    text-decoration: none;
+  text-decoration: none;
 }
 
 pre
 {
-    color: #333;
-    text-align: left;
+  color: #333;
+  text-align: left;
 }
 
 abbr
 {
-    cursor: help;
+  cursor: help;
 }
 
 ul
 {
-    list-style: none;
+  list-style: none;
 }
 
 .clearfix:after { clear: both; content: "."; display: block; font-size: 0; height: 0; visibility: hidden; }
@@ -54,96 +54,121 @@ ul
 
 .loader
 {
-    background-image: url( ../../img/loader.gif ) !important;
+  background-image: url( ../../img/loader.gif ) !important;
 }
 
 .loader-light
 {
-    background-image: url( ../../img/loader-light.gif ) !important;
+  background-image: url( ../../img/loader-light.gif ) !important;
 }
 
 #wrapper
 {
-    margin: 0 auto;
-    margin-bottom: 30px;
-    text-align: left;
+  margin: 0 auto;
+  margin-bottom: 30px;
+  text-align: left;
 }
 
 #header
 {
-    padding-bottom: 10px;
-    position: relative;
+  padding-bottom: 10px;
+  position: relative;
 }
 
 #header #solr
 {
-    background-image: url( ../../img/solr.png );
-    display: block;
-    height: 78px;
-    width: 200px;
+  background-image: url( ../../img/solr.png );
+  display: block;
+  height: 78px;
+  width: 200px;
 }
 
 #header #solr span
 {
-    display: none;
+  display: none;
 }
 
 #header #wip-notice
 {
-    background-color: #eceffa;
-    background-image: url( ../../img/ico/information-button.png );
-    background-position: 8px 7px;
-    border: 1px solid #4465cb;
-    padding: 5px 10px;
-    padding-left: 31px;
-    left: 212px;
-    position: absolute;
-    top: 0;
+  background-color: #eceffa;
+  background-image: url( ../../img/ico/information-button.png );
+  background-position: 8px 7px;
+  border: 1px solid #4465cb;
+  padding: 5px 10px;
+  padding-left: 31px;
+  left: 212px;
+  position: absolute;
+  top: 0;
 }
 
 #header #wip-notice a
 {
-    display: block;
+  display: block;
 }
 
 #header #wip-notice span
 {
-    border-bottom: 1px solid #c0c0c0;
+  border-bottom: 1px solid #c0c0c0;
 }
 
 #main
 {
-    border: 1px solid #c0c0c0;
-    min-height: 600px;
-    min-width: 750px;
-    position: relative;
+  border: 1px solid #c0c0c0;
+  min-height: 600px;
+  min-width: 750px;
+  position: relative;
+}
+
+#main.error
+{
+  border: 0;
+  min-height: 0;
+  padding-top: 20px;
+}
+
+#main.error .message
+{
+  background-color: #f00;
+  background-image: url( ../../img/ico/construction.png );
+  background-position: 10px 50%;
+  color: #fff;
+  font-weight: bold;
+  margin-bottom: 20px;
+  padding: 10px;
+  padding-left: 35px;
+}
+
+#main.error .code
+{
+  border: 1px solid #c0c0c0;
+  padding: 5px;
 }
 
 #meta
 {
-    position: absolute;
-    bottom: -26px;
-    right: 0;
+  position: absolute;
+  bottom: -26px;
+  right: 0;
 }
 
 #meta li
 {
-    float: left;
+  float: left;
 }
 
 #meta li a
 {
-    background-position: 10px 50%;
-    display: block;
-    height: 25px;
-    line-height: 25px;
-    padding-left: 31px;
-    padding-right: 10px;
+  background-position: 10px 50%;
+  display: block;
+  height: 25px;
+  line-height: 25px;
+  padding-left: 31px;
+  padding-right: 10px;
 }
 
 #meta li a:hover
 {
-    background-color: #f0f0f0;
+  background-color: #f0f0f0;
 }
 
 #meta .documentation a { background-image: url( ../../img/ico/document-text.png ); }
@@ -154,112 +179,112 @@ ul
 
 #environment
 {
-    background-image: url( ../../img/ico/box.png );
-    background-position: 10px 50%;
-    border: 1px solid #c0c0c0;
-    display: none;
-    font-weight: bold;
-    padding: 5px 10px;
-    padding-left: 31px;
-    position: absolute;
-    top: 0;
-    right: 0;
+  background-image: url( ../../img/ico/box.png );
+  background-position: 10px 50%;
+  border: 1px solid #c0c0c0;
+  display: none;
+  font-weight: bold;
+  padding: 5px 10px;
+  padding-left: 31px;
+  position: absolute;
+  top: 0;
+  right: 0;
 }
 
 #environment.prod
 {
-    background-color: #c37f7f;
-    border-color: #b15757;
-    color: #fff;
+  background-color: #c37f7f;
+  border-color: #b15757;
+  color: #fff;
 }
 
 #environment.test
 {
-    background-color: #f5f5b2;
-    border-color: #e4e433;
+  background-color: #f5f5b2;
+  border-color: #e4e433;
 }
 
 #environment.dev
 {
-    background-color: #cce7cc;
-    border-color: #66b866;
+  background-color: #cce7cc;
+  border-color: #66b866;
 }
 
 
 #content-wrapper
 {
-    float: right;
-    width: 80%;
+  float: right;
+  width: 80%;
 }
 
 #content
 {
-    padding: 10px;
+  padding: 10px;
 }
 
 #content > .loader
 {
-    background-position: 0 50%;
-    padding-left: 21px;
+  background-position: 0 50%;
+  padding-left: 21px;
 }
 
 #content iframe
 {
-    border: 0;
-    display: block;
-    min-height: 400px;
-    width: 100%;
+  border: 0;
+  display: block;
+  min-height: 400px;
+  width: 100%;
 }
 
 #content > pre
 {
-    max-height: 600px;
-    overflow: auto;
+  max-height: 600px;
+  overflow: auto;
 }
 
 #content .block
 {
-    margin-bottom: 10px;
+  margin-bottom: 10px;
 }
 
 #content .block h2
 {
-    background-color: #fafafa;
-    background-position: 5px 50%;
-    border-bottom: 1px solid #f0f0f0;
-    font-weight: bold;
-    padding: 5px;
-    padding-left: 26px;
+  background-color: #fafafa;
+  background-position: 5px 50%;
+  border-bottom: 1px solid #f0f0f0;
+  font-weight: bold;
+  padding: 5px;
+  padding-left: 26px;
 }
 
 #content .block.disabled,
 #content .block.disabled h2
 {
-    color: #c0c0c0;
+  color: #c0c0c0;
 }
 
 #content .block .message,
 #content .block .content
 {
-    padding: 5px;
+  padding: 5px;
 }
 
 #content .block .message
 {
-    display: none;
+  display: none;
 }
 
 /* syntax */
 
 pre.syntax
 {
-    overflow: auto;
+  overflow: auto;
 }
 
 pre.syntax code
 {
-    display: block;
-    color: #000;
+  display: block;
+  color: #000;
 }
 
 pre.syntax .comment,
@@ -267,8 +292,8 @@ pre.syntax .template_comment,
 pre.syntax .diff .header,
 pre.syntax .javadoc
 {
-    color: #998;
-    font-style: italic;
+  color: #998;
+  font-style: italic;
 }
 
 pre.syntax .keyword,
@@ -278,14 +303,14 @@ pre.syntax .javascript .title,
 pre.syntax .lisp .title,
 pre.syntax .subst
 {
-    color: #000;
-    font-weight: bold;
+  color: #000;
+  font-weight: bold;
 }
 
 pre.syntax .number,
 pre.syntax .hexcolor
 {
-    color: #40a070;
+  color: #40a070;
 }
 
 pre.syntax .string,
@@ -293,28 +318,28 @@ pre.syntax .tag .value,
 pre.syntax .phpdoc,
 pre.syntax .tex .formula
 {
-    color: #d14;
+  color: #d14;
 }
 
 pre.syntax .title,
 pre.syntax .id
 {
-    color: #900;
-    font-weight: bold;
+  color: #900;
+  font-weight: bold;
 }
 
 pre.syntax .javascript .title,
 pre.syntax .lisp .title,
 pre.syntax .subst
 {
-    font-weight: normal;
+  font-weight: normal;
 }
 
 pre.syntax .class .title,
 pre.syntax .tex .command
 {
-    color: #458;
-    font-weight: bold;
+  color: #458;
+  font-weight: bold;
 }
 
 pre.syntax .tag,
@@ -323,8 +348,8 @@ pre.syntax .html .keyword,
 pre.syntax .tag .title,
 pre.syntax .django .tag .keyword
 {
-    color: #000080;
-    font-weight: normal;
+  color: #000080;
+  font-weight: normal;
 }
 
 pre.syntax .attribute,
@@ -332,18 +357,18 @@ pre.syntax .variable,
 pre.syntax .instancevar,
 pre.syntax .lisp .body
 {
-    color: #008080;
+  color: #008080;
 }
 
 pre.syntax .regexp
 {
-    color: #009926;
+  color: #009926;
 }
 
 pre.syntax .class
 {
-    color: #458;
-    font-weight: bold;
+  color: #458;
+  font-weight: bold;
 }
 
 pre.syntax .symbol,
@@ -353,14 +378,14 @@ pre.syntax .ruby .symbol .keymethods,
 pre.syntax .lisp .keyword,
 pre.syntax .tex .special
 {
-    color: #990073;
+  color: #990073;
 }
 
 pre.syntax .builtin,
 pre.syntax .built_in,
 pre.syntax .lisp .title
 {
-    color: #0086b3;
+  color: #0086b3;
 }
 
 pre.syntax .preprocessor,
@@ -369,96 +394,96 @@ pre.syntax .doctype,
 pre.syntax .shebang,
 pre.syntax .cdata
 {
-    color: #999;
-    font-weight: bold;
+  color: #999;
+  font-weight: bold;
 }
 
 pre.syntax .deletion
 {
-    background: #fdd;
+  background: #fdd;
 }
 
 pre.syntax .addition
 {
-    background: #dfd;
+  background: #dfd;
 }
 
 pre.syntax .diff .change
 {
-    background: #0086b3;
+  background: #0086b3;
 }
 
 pre.syntax .chunk
 {
-    color: #aaa;
+  color: #aaa;
 }
 
 pre.syntax .tex .formula
 {
-    opacity: 0.5;
+  opacity: 0.5;
 }
 
 #content .tree li, 
 #content .tree ins
 {
-    background-color: transparent;
-    background-image: url( ../../img/tree.png );
-    background-repeat: no-repeat; 
+  background-color: transparent;
+  background-image: url( ../../img/tree.png );
+  background-repeat: no-repeat; 
 }
 
 #content .tree li
 {
-    background-position: -54px 0;
-    background-repeat: repeat-y;
-    line-height: 22px;
+  background-position: -54px 0;
+  background-repeat: repeat-y;
+  line-height: 22px;
 }
 
 #content .tree li.jstree-last
 {
-    background:transparent;
+  background:transparent;
 }
 
 #content .tree .jstree-open > ins
 {
-    background-position: -36px 0;
+  background-position: -36px 0;
 }
 
 #content .tree .jstree-closed > ins
 {
-    background-position: -18px 0;
+  background-position: -18px 0;
 }
 
 #content .tree .jstree-leaf > ins
 {
-    background-position: 0 0;
+  background-position: 0 0;
 }
 
 #content .tree .jstree-hovered
 {
-    background:#e7f4f9; border:1px solid #d8f0fa; padding:0 2px 0 1px;
+  background:#e7f4f9; border:1px solid #d8f0fa; padding:0 2px 0 1px;
 }
 
 #content .tree .jstree-clicked
 {
-    background:#beebff; border:1px solid #99defd; padding:0 2px 0 1px;
+  background:#beebff; border:1px solid #99defd; padding:0 2px 0 1px;
 }
 
 #content .tree a .jstree-icon
 {
-    background-image: url( ../../img/ico/folder.png );
+  background-image: url( ../../img/ico/folder.png );
 }
 
 #content .tree .jstree-leaf a .jstree-icon
 {
-    background-image: url( ../../img/ico/document-text.png );
+  background-image: url( ../../img/ico/document-text.png );
 }
 
 #content .tree .jstree-search
 {
-    font-style:italic;
+  font-style:italic;
 }
 
 #content .tree a.jstree-search
 {
-    color:aqua;
+  color:aqua;
 }
\ No newline at end of file
diff --git a/solr/webapp/web/css/styles/cores.css b/solr/webapp/web/css/styles/cores.css
index 7eb6653..8c47a3b 100644
--- a/solr/webapp/web/css/styles/cores.css
+++ b/solr/webapp/web/css/styles/cores.css
@@ -4,224 +4,224 @@
 
 #content #cores #frame
 {
-    float: right;
-    width: 78%;
+  float: right;
+  width: 78%;
 }
 
 #content #cores #navigation
 {
-    background-image: url( ../../img/div.gif );
-    background-position: 100% 0;
-    background-repeat: repeat-y;
-    width: 20%;
+  background-image: url( ../../img/div.gif );
+  background-position: 100% 0;
+  background-repeat: repeat-y;
+  width: 20%;
 }
 
 #content #cores #list
 {
-    float: left;
-    padding-top: 15px;
-    width: 100%;
+  float: left;
+  padding-top: 15px;
+  width: 100%;
 }
 
 #content #cores #list a
 {
-    border-right: 1px solid #f0f0f0;
-    display: block;
-    margin-left: 1px;
-    padding: 3px 0;
+  border-right: 1px solid #f0f0f0;
+  display: block;
+  margin-left: 1px;
+  padding: 3px 0;
 }
 
 #content #cores #list a:hover
 {
-    background-color: #fafafa;
+  background-color: #fafafa;
 }
 
 #content #cores #list .current a
 {
-    background-color: #fff;
-    border-right-color: #fff;
-    border-top: 1px solid #f0f0f0;
-    border-bottom: 1px solid #f0f0f0;
-    font-weight: bold;
+  background-color: #fff;
+  border-right-color: #fff;
+  border-top: 1px solid #f0f0f0;
+  border-bottom: 1px solid #f0f0f0;
+  font-weight: bold;
 }
 
 #content #cores #frame .actions
 {
-    margin-bottom: 20px;
+  margin-bottom: 20px;
 }
 
 #content #cores .actions form .buttons
 {
-    padding-left: 40px;
+  padding-left: 40px;
 }
 
 #content #cores .actions form a
 {
-    display: block;
-    float: left;
-    height: 20px;
-    margin-right: 5px;
-    padding-left: 21px;
+  display: block;
+  float: left;
+  height: 20px;
+  margin-right: 5px;
+  padding-left: 21px;
 }
 
 #content #cores .actions form a span
 {
-    display: none;
+  display: none;
 }
 
 #content #cores .actions form a.submit
 {
-    background-image: url( ../../img/ico/tick.png );
-    background-position: 50% 50%;
+  background-image: url( ../../img/ico/tick.png );
+  background-position: 50% 50%;
 }
 
 #content #cores .actions form a.submit:hover
 {
-    background-color: #e6f3e6;
+  background-color: #e6f3e6;
 }
 
 #content #cores .actions form a.reset
 {
-    background-image: url( ../../img/ico/cross.png );
-    background-position: 50% 50%;
+  background-image: url( ../../img/ico/cross.png );
+  background-position: 50% 50%;
 }
 
 #content #cores .actions form a.reset:hover
 {
-    background-color: #f3e6e6;
+  background-color: #f3e6e6;
 }
 
 #content #cores .actions form p
 {
-    padding-bottom: 3px;
+  padding-bottom: 3px;
 }
 
 #content #cores .actions form label
 {
-    float: left;
-    width: 40px;
+  float: left;
+  width: 40px;
 }
 
 #content #cores .actions form input,
 #content #cores .actions form select
 {
-    width: 100px;
+  width: 100px;
 }
 
 #content #cores .actions form select option.disabled
 {
-    color: #c0c0c0;
+  color: #c0c0c0;
 }
 
 #content #cores .actions .button-holder
 {
-    float: left;
-    margin-right: 10px;
-    margin-bottom: 5px;
+  float: left;
+  margin-right: 10px;
+  margin-bottom: 5px;
 }
 
 #content #cores .actions .button-holder.active
 {
-    margin-bottom: 0;
+  margin-bottom: 0;
 }
 
 #content #cores .actions .button-holder .button
 {
-    background-color: #f5f5f5;
-    border: 1px solid #c0c0c0;
-    position: relative;
-    z-index: 100;
+  background-color: #f5f5f5;
+  border: 1px solid #c0c0c0;
+  position: relative;
+  z-index: 100;
 }
 
 #content #cores .actions .button-holder.active .button
 {
-    background-color: #fff;
-    border-bottom-color: #fff;
-    padding-bottom: 5px;
+  background-color: #fff;
+  border-bottom-color: #fff;
+  padding-bottom: 5px;
 }
 
 #content #cores .actions .button-holder .button a
 {
-    background-position: 5px 50%;
-    display: block;
-    padding: 1px 5px;
-    padding-left: 24px;
+  background-position: 5px 50%;
+  display: block;
+  padding: 1px 5px;
+  padding-left: 24px;
 }
 
 #content #cores .actions .button-holder .button a.success
 {
-    background-image: url( ../../img/ico/tick.png );
+  background-image: url( ../../img/ico/tick.png );
 }
 
 #content #cores .actions .button-holder.active .button a
 {
-    cursor: auto;
+  cursor: auto;
 }
 
 #content #cores .actions .button-holder .button-content
 {
-    background-color: #fff;
-    border: 1px solid #c0c0c0;
-    box-shadow: 5px 5px 10px #c0c0c0;
-    -moz-box-shadow: 5px 5px 10px #c0c0c0;
-    -webkit-box-shadow: 5px 5px 10px #c0c0c0;
-    display: none;
-    margin-top: -1px;
-    padding: 5px;
-    padding-top: 15px;
-    position: absolute;
-    z-index: 99;
+  background-color: #fff;
+  border: 1px solid #c0c0c0;
+  box-shadow: 5px 5px 10px #c0c0c0;
+  -moz-box-shadow: 5px 5px 10px #c0c0c0;
+  -webkit-box-shadow: 5px 5px 10px #c0c0c0;
+  display: none;
+  margin-top: -1px;
+  padding: 5px;
+  padding-top: 15px;
+  position: absolute;
+  z-index: 99;
 }
 
 #content #cores .actions .button-holder.active .button-content
 {
-    display: block;
+  display: block;
 }
 
 #content #cores .actions .button .reload
 {
-    background-image: url( ../../img/ico/arrow-circle.png );
+  background-image: url( ../../img/ico/arrow-circle.png );
 }
 
 #content #cores .actions .button .rename
 {
-    background-image: url( ../../img/ico/ui-text-field-select.png );
+  background-image: url( ../../img/ico/ui-text-field-select.png );
 }
 
 #content #cores .actions .button .swap
 {
-    background-image: url( ../../img/ico/arrow-switch.png );
+  background-image: url( ../../img/ico/arrow-switch.png );
 }
 
 #content #cores .actions .button .unload
 {
-    background-image: url( ../../img/ico/cross.png );
+  background-image: url( ../../img/ico/cross.png );
 }
 
 #content #cores .actions .button .optimize
 {
-    background-image: url( ../../img/ico/hammer-screwdriver.png );
-    display: none;
+  background-image: url( ../../img/ico/hammer-screwdriver.png );
+  display: none;
 }
 
 #content #cores #navigation .add
 {
-    background-image: url( ../../img/ico/plus-button.png );
+  background-image: url( ../../img/ico/plus-button.png );
 }
 
 #content #cores #navigation .add label
 {
-    width: 85px;
+  width: 85px;
 }
 
 #content #cores #navigation .add input
 {
-    width: 155px;
+  width: 155px;
 }
 
 #content #cores #navigation .add .buttons
 {
-    padding-left: 85px;
+  padding-left: 85px;
 }
 
 #content #cores #data #core-data h2 { background-image: url( ../../img/ico/database.png ); }
@@ -229,44 +229,44 @@
 
 #content #cores #data #index-data
 {
-    margin-top: 10px;
+  margin-top: 10px;
 }
 
 #content #cores #data li
 {
-    padding-bottom: 3px;
-    padding-top: 3px;
+  padding-bottom: 3px;
+  padding-top: 3px;
 }
 
 #content #cores #data li.odd
 {
-    background-color: #f8f8f8;
+  background-color: #f8f8f8;
 }
 
 #content #cores #data li dt
 {
-    float: left;
-    width: 17%;
+  float: left;
+  width: 17%;
 }
 
 #content #cores #data li dd
 {
-    float: right;
-    width: 82%;
+  float: right;
+  width: 82%;
 }
 
 #content #cores #data li dd.ico
 {
-    background-image: url( ../../img/ico/slash.png );
-    height: 20px;
+  background-image: url( ../../img/ico/slash.png );
+  height: 20px;
 }
 
 #content #cores #data li dd.ico.ico-1
 {
-    background-image: url( ../../img/ico/tick.png );
+  background-image: url( ../../img/ico/tick.png );
 }
 
 #content #cores #data li dd.ico span
 {
-    display: none;
+  display: none;
 }
\ No newline at end of file
diff --git a/solr/webapp/web/css/styles/dashboard.css b/solr/webapp/web/css/styles/dashboard.css
index 1cac25c..ac2460c 100644
--- a/solr/webapp/web/css/styles/dashboard.css
+++ b/solr/webapp/web/css/styles/dashboard.css
@@ -1,108 +1,108 @@
 #content #dashboard .block
 {
-    background-image: none;
-    width: 49%;
+  background-image: none;
+  width: 49%;
 }
 
 #content #dashboard #statistics
 {
-    float: left;
+  float: left;
 }
 
 #content #dashboard #statistics dt,
 #content #dashboard #statistics dd
 {
-    display: block;
-    float: left;
+  display: block;
+  float: left;
 }
 
 #content #dashboard #statistics dt
 {
-    clear: left;
-    margin-right: 2%;
-    text-align: right;
-    width: 23%;
+  clear: left;
+  margin-right: 2%;
+  text-align: right;
+  width: 23%;
 }
 
 #content #dashboard #statistics dd
 {
-    width: 74%;
+  width: 74%;
 }
 
 #content #dashboard #statistics .index_optimized
 {
-    margin-top: 10px;
+  margin-top: 10px;
 }
 
 #content #dashboard #statistics .ico
 {
-    background-image: url( ../../img/ico/slash.png );
-    height: 20px;
+  background-image: url( ../../img/ico/slash.png );
+  height: 20px;
 }
 
 #content #dashboard #statistics .ico.ico-1
 {
-    background-image: url( ../../img/ico/tick.png );
+  background-image: url( ../../img/ico/tick.png );
 }
 
 #content #dashboard #statistics .ico span
 {
-    display: none;
+  display: none;
 }
 
 #content #dashboard #statistics .index_optimized.value a
 {
-    display: none;
+  display: none;
 }
 
 #content #dashboard #statistics .index_optimized.value.ico-0 a
 {
-    background-color: #f0f0f0;
-    background-image: url( ../../img/ico/hammer-screwdriver.png );
-    background-position: 5px 50%;
-    border: 1px solid #c0c0c0;
-    display: block;
-    float: left;
-    margin-left: 50px;
-    padding: 1px 5px;
-    padding-left: 26px;
+  background-color: #f0f0f0;
+  background-image: url( ../../img/ico/hammer-screwdriver.png );
+  background-position: 5px 50%;
+  border: 1px solid #c0c0c0;
+  display: block;
+  float: left;
+  margin-left: 50px;
+  padding: 1px 5px;
+  padding-left: 26px;
 }
 
 #content #dashboard #statistics .index_has-deletions
 {
-    display: none;
+  display: none;
 }
 
 #content #dashboard #statistics .index_has-deletions.value.ico-0
 {
-    background-image: url( ../../img/ico/tick-red.png );
+  background-image: url( ../../img/ico/tick-red.png );
 }
 
 #content #dashboard #replication
 {
-    float: left;
+  float: left;
 }
 
 #content #dashboard #replication .is-replicating
 {
-    background-position: 99% 50%;
-    display: block;
+  background-position: 99% 50%;
+  display: block;
 }
 
 #content #dashboard #replication #details table thead td span
 {
-    display: none;
+  display: none;
 }
 
 #content #dashboard #dataimport
 {
-    float: right;
+  float: right;
 }
 
 
 #content #dashboard #admin-extra
 {
-    float: right;
+  float: right;
 }
 
 #content #dashboard #system h2 { background-image: url( ../../img/ico/server.png ); }
@@ -111,4 +111,4 @@
 #content #dashboard #replication.is-master h2 { background-image: url( ../../img/ico/node-master.png ); }
 #content #dashboard #replication.is-slave h2 { background-image: url( ../../img/ico/node-slave.png ); }
 #content #dashboard #dataimport h2 { background-image: url( ../../img/ico/document-import.png ); }
-#content #dashboard #admin-extra h2 { background-image: url( ../../img/ico/plus-button.png ); }
\ No newline at end of file
+#content #dashboard #admin-extra h2 { background-image: url( ../../img/ico/plus-button.png ); }
diff --git a/solr/webapp/web/css/styles/dataimport.css b/solr/webapp/web/css/styles/dataimport.css
index b7b1156..2de9cec 100644
--- a/solr/webapp/web/css/styles/dataimport.css
+++ b/solr/webapp/web/css/styles/dataimport.css
@@ -1,232 +1,232 @@
 #content #dataimport
 {
-    background-image: url( ../../img/div.gif );
-    background-position: 21% 0;
-    background-repeat: repeat-y;
+  background-image: url( ../../img/div.gif );
+  background-position: 21% 0;
+  background-repeat: repeat-y;
 }
 
 #content #dataimport #frame
 {
-    float: right;
-    width: 78%;
+  float: right;
+  width: 78%;
 }
 
 #content #dataimport #form
 {
-    float: left;
-    width: 20%;
+  float: left;
+  width: 20%;
 }
 
 #content #dataimport.error #form form
 {
-    display: none !important;
+  display: none !important;
 }
 
 #content #dataimport #form label
 {
-    cursor: pointer;
-    display: block;
-    margin-top: 5px;
+  cursor: pointer;
+  display: block;
+  margin-top: 5px;
 }
 
 #content #dataimport #form input,
 #content #dataimport #form select,
 #content #dataimport #form textarea
 {
-    margin-bottom: 2px;
-    width: 100%;
+  margin-bottom: 2px;
+  width: 100%;
 }
 
 #content #dataimport #form #start
 {
-    float: left;
-    margin-right: 2%;
-    width: 49%;
+  float: left;
+  margin-right: 2%;
+  width: 49%;
 }
 
 #content #dataimport #form #rows
 {
-    width: 49%;
+  width: 49%;
 }
 
 #content #dataimport #form .checkbox input
 {
-    margin-bottom: 0;
-    width: auto;
+  margin-bottom: 0;
+  width: auto;
 }
 
 #content #dataimport #form fieldset,
 #content #dataimport #form .optional.expanded
 {
-    border: 1px solid #fff;
-    border-top: 1px solid #c0c0c0;
-    margin-bottom: 10px;
+  border: 1px solid #fff;
+  border-top: 1px solid #c0c0c0;
+  margin-bottom: 10px;
 }
 
 #content #dataimport #form fieldset legend,
 #content #dataimport #form .optional.expanded legend
 {
-    display: block;
-    margin-left: 10px;
-    padding: 0px 5px;
+  display: block;
+  margin-left: 10px;
+  padding: 0px 5px;
 }
 
 #content #dataimport #form fieldset legend label
 {
-    margin-top: 0;
+  margin-top: 0;
 }
 
 #content #dataimport #form .handler
 {
-    display: none;
+  display: none;
 }
 
 #content #dataimport #form .handler ul
 {
-    list-style: disc;
-    margin-left: 0.7em;
-    padding-left: 0.7em;
+  list-style: disc;
+  margin-left: 0.7em;
+  padding-left: 0.7em;
 }
 
 #content #dataimport #form .handler ul li a
 {
-    color: #c0c0c0;
-    display: block;
+  color: #c0c0c0;
+  display: block;
 }
 
 #content #dataimport #form .handler ul li.active a
 {
-    color: #333;
+  color: #333;
 }
 
 #content #dataimport #current_state
 {
-    display: none;
-    padding: 10px;
-    margin-bottom: 20px;
+  display: none;
+  padding: 10px;
+  margin-bottom: 20px;
 }
 
 #content #dataimport.error #current_state
 {
-    display: none !important;
+  display: none !important;
 }
 
 #content #dataimport #current_state .time,
 #content #dataimport #current_state .info
 {
-    display: block;
-    padding-left: 21px;
+  display: block;
+  padding-left: 21px;
 }
 
 #content #dataimport #current_state .time
 {
-    color: #c0c0c0;
-    font-size: 11px;
+  color: #c0c0c0;
+  font-size: 11px;
 }
 
 #content #dataimport #current_state .info
 {
-    background-position: 0 1px;
+  background-position: 0 1px;
 }
 
 #content #dataimport #current_state.indexing
 {
-    background-color: #f9f9f9;
+  background-color: #f9f9f9;
 }
 
 #content #dataimport #current_state.success
 {
-    background-color: #e6f3e6;
+  background-color: #e6f3e6;
 }
 
 #content #dataimport #current_state.success .info
 {
-    background-image: url( ../../img/ico/tick-circle.png );
+  background-image: url( ../../img/ico/tick-circle.png );
 }
 
 #content #dataimport #current_state.success .info strong
 {
-    color: #080;
+  color: #080;
 }
 
 #content #dataimport #current_state.failure
 {
-    background-color: #f3e6e6;
+  background-color: #f3e6e6;
 }
 
 #content #dataimport #current_state.failure .info
 {
-    background-image: url( ../../img/ico/slash.png );
+  background-image: url( ../../img/ico/slash.png );
 }
 
 #content #dataimport #current_state.failure .info strong
 {
-    color: #800;
+  color: #800;
 }
 
 #content #dataimport #config-error
 {
-    background-color: #f00;
-    background-image: url( ../../img/ico/construction.png );
-    background-position: 10px 50%;
-    color: #fff;
-    display: none;
-    font-weight: bold;
-    margin-bottom: 20px;
-    padding: 10px;
-    padding-left: 35px;
+  background-color: #f00;
+  background-image: url( ../../img/ico/construction.png );
+  background-position: 10px 50%;
+  color: #fff;
+  display: none;
+  font-weight: bold;
+  margin-bottom: 20px;
+  padding: 10px;
+  padding-left: 35px;
 }
 
 #content #dataimport #config h2
 {
-    border-color: #c0c0c0;
-    padding-left: 5px;
-    position: relative;
+  border-color: #c0c0c0;
+  padding-left: 5px;
+  position: relative;
 }
 
 #content #dataimport #config.hidden h2
 {
-    border-color: #fafafa;
+  border-color: #fafafa;
 }
 
 #content #dataimport #config h2 a.toggle
 {
-    background-image: url( ../../img/ico/toggle-small.png );
-    background-position: 0 50%;
-    padding-left: 21px;
+  background-image: url( ../../img/ico/toggle-small.png );
+  background-position: 0 50%;
+  padding-left: 21px;
 }
 
 #content #dataimport #config.hidden h2 a.toggle
 {
-    background-image: url( ../../img/ico/toggle-small-expand.png );
+  background-image: url( ../../img/ico/toggle-small-expand.png );
 }
 
 #content #dataimport #config h2 a.reload_config
 {
-    background-image: url( ../../img/ico/arrow-circle.png );
-    padding-left: 21px;
-    position: absolute;
-    right: 5px;
-    top: 5px;
+  background-image: url( ../../img/ico/arrow-circle.png );
+  padding-left: 21px;
+  position: absolute;
+  right: 5px;
+  top: 5px;
 }
 
 #content #dataimport #config h2 a.reload_config.success
 {
-    background-image: url( ../../img/ico/tick.png );
+  background-image: url( ../../img/ico/tick.png );
 }
 
 #content #dataimport #config h2 a.reload_config.error
 {
-    background-image: url( ../../img/ico/slash.png );
+  background-image: url( ../../img/ico/slash.png );
 }
 
 #content #dataimport #config.hidden .content
 {
-    display: none;
+  display: none;
 }
 
 #content #dataimport #dataimport_config .loader
 {
-    background-position: 0 50%;
-    padding-left: 21px;
+  background-position: 0 50%;
+  padding-left: 21px;
 }
\ No newline at end of file
diff --git a/solr/webapp/web/css/styles/index.css b/solr/webapp/web/css/styles/index.css
index 2cf82a6..86fae43 100644
--- a/solr/webapp/web/css/styles/index.css
+++ b/solr/webapp/web/css/styles/index.css
@@ -1,158 +1,195 @@
-#content #index .loader
+#content #index .bar-desc
 {
-    background-position: 0 50%;
-    padding-left: 21px;
+  color: #c0c0c0;
+  font-weight: normal;
+  margin-left: 10px;
+  white-space: pre;
 }
 
-#content #index #data
+#content #index .bar-holder
 {
-    float: left;
-    width: 74%;
+  box-shadow: 5px 5px 10px #c0c0c0;
+  -moz-box-shadow: 5px 5px 10px #c0c0c0;
+  -webkit-box-shadow: 5px 5px 10px #c0c0c0;
+  height: 35px;
 }
 
-#content #index #memory
+#content #index .bar-holder .bar
 {
-    float: right;
-    width: 24%;
+  height: 100%;
+  position: relative;
 }
 
-#content #index #data h2 { background-image: url( ../../img/ico/server.png ); }
-#content #index #memory h2 { background-image: url( ../../img/ico/battery.png ); }
+#content #index .bar-holder div .val
+{
+  border-right: 1px solid #f00;
+  display: block;
+  padding-right: 5px;
+  position: absolute;
+  right: 0;
+  top: 35px;
+  white-space: nowrap;
+}
 
-#content #index #data li
+#content #index .bar-holder .bar-max.bar
 {
-    display: none;
-    padding-top: 3px;
-    padding-bottom: 3px;
+  background-color: #f0f0f0;
 }
 
-#content #index #data li.odd
+#content #index .bar-holder .bar-max.val
 {
-    background-color: #f8f8f8;
+  border-color: #f0f0f0;
+  color: #d6d6d6;
 }
 
-#content #index #data li dt
+#content #index .bar-holder .bar-total.bar
 {
-    float: left;
-    width: 27%;
+  background-color: #c0c0c0;
 }
 
-#content #index #data li dd
+#content #index .bar-holder .bar-total.val
 {
-    float: right;
-    width: 72%
+  border-color: #c0c0c0;
+  color: #c0c0c0;
 }
 
-#content #index #data li dd.odd
+#content #index .bar-holder .bar-used.bar
 {
-    color: #999;
+  background-color: #969696;
 }
 
-#content #index #data dt span
+#content #index .bar-holder .bar-used.val
 {
-    background-position: 0 50%;
-    display: block;
-    padding-left: 21px;
+  border-color: #969696;
+  color: #969696;
 }
 
-#content #index #data .start_time dt span
+#content #index .bar-holder.bar-lvl-2 .bar-max.val { padding-top: 25px; }
+#content #index .bar-holder.bar-lvl-2 .bar-total.val { padding-top: 5px; }
+#content #index .bar-holder.bar-lvl-2 { margin-bottom: 45px; }
+
+#content #index .bar-holder.bar-lvl-3 .bar-max.val { padding-top: 45px; }
+#content #index .bar-holder.bar-lvl-3 .bar-total.val { padding-top: 25px; }
+#content #index .bar-holder.bar-lvl-3 .bar-used.val { padding-top: 5px; }
+#content #index .bar-holder.bar-lvl-3 { margin-bottom: 65px; }
+
+#content #index .loader
 {
-    background-image: url( ../../img/ico/clock-select.png );
+  background-position: 0 50%;
+  padding-left: 21px;
 }
 
-#content #index #data .host dt span
+#content #index .index-left
 {
-    background-image: url( ../../img/ico/globe.png );
+  float: left;
+  width: 55%;
 }
 
-#content #index #data .cwd dt span
+#content #index .index-right
 {
-    background-image: url( ../../img/ico/folder-export.png );
+  float: right;
+  width: 40%;
 }
 
-#content #index #data .jvm dt span
+#content #index .data li
 {
-    background-image: url( ../../img/ico/jar.png );
+  display: none;
+  padding-top: 3px;
+  padding-bottom: 3px;
 }
 
-#content #index #data .command_line_args dt span
+#content #index .data li.odd
 {
-    background-image: url( ../../img/ico/terminal.png );
+  color: #c0c0c0;
 }
 
-#content #index #data .lucene dt span
+#content #index .data li dt
 {
-    background-image: url( ../../img/lucene-ico.png );
+  float: left;
+  white-space: nowrap;
+  width: 20%;
 }
 
-#content #index #memory #memory-bar
+#content #index .data li dd
 {
-    background-color: #00f;
-    box-shadow: 5px 5px 10px #c0c0c0;
-    -moz-box-shadow: 5px 5px 10px #c0c0c0;
-    -webkit-box-shadow: 5px 5px 10px #c0c0c0;
-    margin-top: 20px;
-    width: 100px;
+  float: right;
+  text-overflow: ellipsis;
+  overflow: hidden;
+  white-space: nowrap;
+  width: 80%
 }
 
-#content #index #memory .bar
+#content #index .data li dd.odd
 {
-    bottom: 0;
-    position: absolute;
-    width: 100%;
+  color: #999;
 }
 
-#content #index #memory div .value
+#content #index .data dt span
 {
-    border-top: 1px solid #f00;
-    display: block;
-    font-size: 10px;
-    line-height: 12px;
-    padding-left: 10px;
-    padding-right: 2px;
-    position: absolute;
-    margin-left: 100px;
-    white-space: nowrap;
+  background-position: 1px 50%;
+  display: block;
+  padding-left: 22px;
 }
 
-#content #index #memory div .value.upper
+#content #index #instance h2 { background-image: url( ../../img/ico/server.png ); }
+#content #index #instance .start_time dt span { background-image: url( ../../img/ico/clock-select.png ); }
+#content #index #instance .host dt span { background-image: url( ../../img/ico/globe.png ); }
+#content #index #instance .dir dt span { background-image: url( ../../img/ico/folder.png ); }
+
+#content #index #versions h2 { background-image: url( ../../img/ico/property.png ); }
+#content #index #versions .solr span { background-image: url( ../../img/solr-ico.png ); }
+#content #index #versions .lucene span { background-image: url( ../../img/lucene-ico.png ); }
+
+#content #index #jvm h2 { background-image: url( ../../img/ico/jar.png ); }
+#content #index #jvm .jvm_version dt span { background-image: url( ../../img/ico/jar.png ); }
+#content #index #jvm .processors dt span { background-image: url( ../../img/ico/processor.png ); }
+#content #index #jvm .command_line_args dt span { background-image: url( ../../img/ico/terminal.png ); }
+
+#content #index #system h2 { background-image: url( ../../img/ico/system-monitor.png ); }
+
+#content #index #system
 {
-    border-top-width: 0;
-    border-bottom-width: 1px;
-    border-bottom-style: solid;
+  position: relative;
 }
 
-#content #index #memory #memory-bar-max
+#content #index #system .reload
 {
-    background-color: #f0f0f0;
-    height: 200px;
-    position: relative;
+  background-image: url( ../../img/ico/arrow-circle.png );
+  background-position: 50% 50%;
+  display: block;
+  height: 30px;
+  position: absolute;
+  right: 0;
+  top: 0;
+  width: 30px;
 }
 
-#content #index #memory #memory-bar-max .value
+#content #index #system .reload.loader
 {
-    border-color: #f0f0f0;
-    color: #d6d6d6;
+  padding-left: 0;
 }
 
-#content #index #memory #memory-bar-total
+#content #index #system .reload span
 {
-    background-color: #c0c0c0;
+  display: none;
 }
 
-#content #index #memory #memory-bar-total .value
+#content #index #system .content p
 {
-    border-color: #c0c0c0;
-    color: #c0c0c0;
+  margin-top: 10px;
+  margin-bottom: 5px;
 }
 
-#content #index #memory #memory-bar-used
+#content #index #system .content .no-info
 {
-    background-color: #969696;
+  color: #c0c0c0;
+  display: none;
+  font-style: italic;
 }
 
-#content #index #memory #memory-bar-used .value
+#content #index #jvm-memory h2 { background-image: url( ../../img/ico/memory.png ); }
+
+#content #index #jvm-memory-bar
 {
-    border-color: #969696;
-    color: #969696;
+  margin-top: 20px;
 }
\ No newline at end of file
diff --git a/solr/webapp/web/css/styles/java-properties.css b/solr/webapp/web/css/styles/java-properties.css
index be0e988..8a46223 100644
--- a/solr/webapp/web/css/styles/java-properties.css
+++ b/solr/webapp/web/css/styles/java-properties.css
@@ -1,33 +1,33 @@
 #content #java-properties .loader
 {
-    background-position: 0 50%;
-    padding-left: 21px;   
+  background-position: 0 50%;
+  padding-left: 21px;   
 }
 
 #content #java-properties li
 {
-    padding-top: 3px;
-    padding-bottom: 3px;
+  padding-top: 3px;
+  padding-bottom: 3px;
 }
 
 #content #java-properties li.odd
 {
-    background-color: #f8f8f8;
+  background-color: #f8f8f8;
 }
 
 #content #java-properties li dt
 {
-    float: left;
-    width: 29%;
+  float: left;
+  width: 29%;
 }
 
 #content #java-properties li dd
 {
-    float: right;
-    width: 70%
+  float: right;
+  width: 70%
 }
 
 #content #java-properties li dd.odd
 {
-    color: #999;
+  color: #999;
 }
\ No newline at end of file
diff --git a/solr/webapp/web/css/styles/logging.css b/solr/webapp/web/css/styles/logging.css
index 36965cd..d3d34c7 100644
--- a/solr/webapp/web/css/styles/logging.css
+++ b/solr/webapp/web/css/styles/logging.css
@@ -1,150 +1,185 @@
 #content #logging .loader
 {
-    background-position: 0 50%;
-    padding-left: 21px;
+  background-position: 0 50%;
+  padding-left: 21px;
 }
 
-#content #logging .jstree
+#content #logging .jstree li
 {
-    position: relative;
+  position: relative;
 }
 
 #content #logging .jstree a
 {
-    cursor: auto;
+  color: #c0c0c0;
+  height: 17px;
+  line-height: 17px;
+  padding: 0;
+  width: 90%;
 }
 
-#content #logging .jstree .trigger span
+#content #logging .jstree a.set
 {
-    background-position: 100% 50%;
-    cursor: pointer;
-    padding-right: 21px;
+  color: #333;
 }
 
-#content #logging .jstree a.trigger:hover span
+#content #logging .jstree a.null
 {
-    background-image: url( ../../img/ico/pencil-small.png );
+  color: #f0f0f0;
 }
 
-#content #logging .jstree .inactive,
-#content #logging .jstree .inactive .effective_level
+#content #logging .jstree a:hover,
+#content #logging .jstree a.open
 {
-    color: #c0c0c0;
+  background-color: #f0f0f0;
 }
 
-#content #logging .jstree li
+#content #logging .jstree a:hover
+{
+  color: #008;
+}
+
+#content #logging .jstree a span.ns
+{
+  display: none;
+}
+
+#content #logging.ns .jstree a span.ns
+{
+  display: inline;
+}
+
+#content #logging .jstree a span.name
 {
-    position: relative;
+  background-position: 100% 50%;
+  cursor: pointer;
+  padding-right: 21px;
 }
 
-#content #logging .jstree .odd
+#content #logging .jstree a:hover span.name
 {
-    background-color: #f8f8f8;
+  background-image: url( ../../img/ico/pencil-small.png );
 }
 
-#content #logging .jstree .loglevel
+#content #logging .jstree .selector-holder
 {
-    position: absolute;
-    margin-top: 3px;
-    top: 0;
+  position: absolute;
+  top: -2px;
+  z-index: 700;
 }
 
-#content #logging .jstree li .loglevel { left: 340px; }
-#content #logging .jstree li li .loglevel { left: 322px; }
-#content #logging .jstree li li li .loglevel { left: 304px; }
-#content #logging .jstree li li li li .loglevel { left: 286px; }
-#content #logging .jstree li li li li li .loglevel { left: 268px; }
-#content #logging .jstree li li li li li li .loglevel { left: 250px; }
+#content #logging .jstree .selector-holder.open
+{
+  background-color: #fff;
+  margin-left: -19px;
+  z-index: 800;
+}
+
+#content #logging .jstree li .selector-holder { left: 440px; }
+#content #logging .jstree li li .selector-holder { left: 422px; }
+#content #logging .jstree li li li .selector-holder { left: 404px; }
+#content #logging .jstree li li li li .selector-holder { left: 386px; }
+#content #logging .jstree li li li li li .selector-holder { left: 368px; }
+#content #logging .jstree li li li li li li .selector-holder { left: 350px; }
+
+#content #logging .jstree .selector
+{
+  border: 1px solid #fff;
+  position: relative;
+}
+
+#content #logging .jstree .open .selector
+{
+  border-color: #f0f0f0;
+  box-shadow: 5px 5px 10px #c0c0c0;
+  -moz-box-shadow: 5px 5px 10px #c0c0c0;
+  -webkit-box-shadow: 5px 5px 10px #c0c0c0;
+}
+
+#content #logging .jstree .selector a
+{
+  display: block;
+  padding: 2px;
+  width: auto;
+}
 
-#content #logging .jstree .loglevel a
+#content #logging .jstree .selector .close
 {
-    display: block;
+  display: none;
 }
 
-#content #logging .jstree .loglevel .effective_level
+#content #logging .jstree .open .selector .close
 {
-    height: 22px;
-    line-height: 22px;
-    padding-left: 5px;
-    width: 150px;
+  background-image: url( ../../img/ico/cross-0.png );
+  background-position: 50% 50%;
+  display: block;
+  position: absolute;
+  right: -25px;
+  top: 0;
+  width: 20px;
 }
 
-#content #logging .jstree .loglevel.open .effective_level
+#content #logging .jstree .open .selector .close:hover
 {
-    background-color: #f0f0f0;
+  background-image: url( ../../img/ico/cross-1.png );
 }
 
-#content #logging .jstree .loglevel.open .effective_level
+#content #logging .jstree .open .selector .close span
 {
-    background-image: url( ../../img/ico/arrow-000-small.png );
-    background-position: 75px 50%;
+  display: none;
 }
 
-#content #logging .jstree .loglevel.open .effective_level span
+#content #logging .jstree .open .selector a.trigger
 {
-    background-image: none;
+  display: none;
 }
 
-#content #logging .jstree .loglevel ul
+#content #logging .jstree .selector ul
 {
-    background-color: #fff;
-    border: 1px solid #f0f0f0;
-    display: none;
-    position: absolute;
-    left: 100px;
-    top: 0;
+  display: none;
 }
 
-#content #logging .jstree .loglevel.open ul
+#content #logging .jstree .open .selector ul
 {
-    display: block;
+  display: block;
 }
 
-#content #logging .jstree .loglevel ul li
+#content #logging .jstree .selector ul li
 {
-    background-image: none;
-    line-height: auto;
-    margin-left: 0;
+  background: none;
+  margin-left: 0;
 }
 
-#content #logging .jstree .loglevel ul li a
+#content #logging .jstree .selector ul li a
 {
-    background-image: url( ../../img/ico/ui-radio-button-uncheck.png );
-    background-position: 2px 50%;
-    cursor: pointer;
-    display: block;
-    height: 22px;
-    line-height: 22px;
-    padding-left: 21px;
-    padding-right: 5px;
+  background-image: url( ../../img/ico/ui-radio-button-uncheck.png );
+  background-position: 2px 50%;
+  padding-left: 21px;
 }
 
-#content #logging .jstree .loglevel ul li.selected a
+#content #logging .jstree .selector ul li a.level
 {
-    background-image: url( ../../img/ico/ui-radio-button.png );
+  background-color: #f0f0f0;
 }
 
-#content #logging .jstree .loglevel ul li a:hover
+#content #logging .jstree .selector ul li a:hover
 {
-    background-color: #f8f8f8;
-    color: #008;
+  background-image: url( ../../img/ico/ui-radio-button.png );
 }
 
-#content #logging .jstree .loglevel ul li.unset
+#content #logging .jstree .selector li.unset
 {
-    border-top: 1px solid #f0f0f0;
+  border-top: 1px solid #f0f0f0;
 }
 
-#content #logging .jstree .loglevel ul li.unset a
+#content #logging .jstree .selector li.unset a
 {
-    background-image: url( ../../img/ico/cross-0.png );
-    background-position: 4px 50%;
-    padding-top: 3px;
-    padding-bottom: 3px;
+  background-image: url( ../../img/ico/cross-0.png );
+  background-position: 4px 50%;
 }
 
-#content #logging .jstree .loglevel ul li.unset a:hover
+#content #logging .jstree .selector li.unset a:hover
 {
-    background-image: url( ../../img/ico/cross-1.png );
-    color: #800;
+  background-image: url( ../../img/ico/cross-1.png );
+  color: #800;
 }
\ No newline at end of file
diff --git a/solr/webapp/web/css/styles/menu.css b/solr/webapp/web/css/styles/menu.css
index e53dee4..63ef789 100644
--- a/solr/webapp/web/css/styles/menu.css
+++ b/solr/webapp/web/css/styles/menu.css
@@ -1,219 +1,219 @@
 #menu-wrapper
 {
-    float: left;
-    width: 20%;
+  float: left;
+  width: 20%;
 }
 
 #menu p.loader
 {
-    background-position: 5px 50%;
-    color: #c0c0c0;
-    margin-top: 5px;
-    padding-left: 26px;
+  background-position: 5px 50%;
+  color: #c0c0c0;
+  margin-top: 5px;
+  padding-left: 26px;
 }
 
 #menu a
 {
-    display: block;
-    padding: 4px 2px;
+  display: block;
+  padding: 4px 2px;
 }
 
 #menu .active
 {
-    background-color: #fafafa;
+  background-color: #fafafa;
 }
 
 #menu p a
 {
-    background-position: 97% 50%;
-    background-image: url( ../../img/ico/status-offline.png );
-    padding-left: 5px;
-    padding-top: 5px;
-    padding-bottom: 5px;
+  background-position: 97% 50%;
+  background-image: url( ../../img/ico/status-offline.png );
+  padding-left: 5px;
+  padding-top: 5px;
+  padding-bottom: 5px;
 }
 
 #menu p a:hover
 {
-    background-color: #f0f0f0;
+  background-color: #f0f0f0;
 }
 
 #menu .active p a
 {
-    background-color: #c0c0c0; /* #a5a5a6 */
-    font-weight: bold;
+  background-color: #c0c0c0; /* #a5a5a6 */
+  font-weight: bold;
 }
 
 #menu p a small
 {
-    color: #b5b5b5;
-    font-weight: normal;
+  color: #b5b5b5;
+  font-weight: normal;
 }
 
 #menu p a small span.txt
 {
-    display: none;
+  display: none;
 }
 
 #menu p a small:hover span.txt
 {
-    display: inline;
+  display: inline;
 }
 
 #menu .busy
 {
-    border-right-color: #f6f5d9;
+  border-right-color: #f6f5d9;
 }
 
 #menu .busy p a
 {
-    background-color: #f6f5d9;
-    background-image: url( ../../img/ico/status-away.png );
+  background-color: #f6f5d9;
+  background-image: url( ../../img/ico/status-away.png );
 }
 
 #menu .offline
 {
-    border-right-color: #eccfcf;
+  border-right-color: #eccfcf;
 }
 
 #menu .offline p a
 {
-    background-color: #eccfcf;
-    background-image: url( ../../img/ico/status-busy.png );
+  background-color: #eccfcf;
+  background-image: url( ../../img/ico/status-busy.png );
 }
 
 #menu .online
 {
-    border-right-color: #cfecd3;
+  border-right-color: #cfecd3;
 }
 
 #menu .online p a
 {
-    background-color: #cfecd3;
-    background-image: url( ../../img/ico/status.png );
+  background-color: #cfecd3;
+  background-image: url( ../../img/ico/status.png );
 }
 
 #menu .ping small
 {
-    color: #000
+  color: #000
 }
 
 #menu li
 {
-    border-bottom: 1px solid #c0c0c0;
+  border-bottom: 1px solid #c0c0c0;
 }
 
 #menu li p
 {
-    border-right: 1px solid #c0c0c0;
+  border-right: 1px solid #c0c0c0;
 }
 
 #menu li.optional
 {
-    display: none;
+  display: none;
 }
 
 #menu li.active:last-child
 {
-    border-bottom: 0;
+  border-bottom: 0;
 }
 
 #menu ul ul
 {
-    background-image: url( ../../img/div.gif );
-    background-position: 100% 0;
-    background-repeat: repeat-y;
-    display: none;
-    padding-top: 5px;
-    padding-bottom: 10px;
+  background-image: url( ../../img/div.gif );
+  background-position: 100% 0;
+  background-repeat: repeat-y;
+  display: none;
+  padding-top: 5px;
+  padding-bottom: 10px;
 }
 
 #menu ul .active ul
 {
-    display: block;
+  display: block;
 }
 
 #menu ul li.active:last-child ul
 {
-    border-bottom: 1px solid #f0f0f0;
+  border-bottom: 1px solid #f0f0f0;
 }
 
 #menu ul ul li
 {
-    border-bottom: 0;
-    /*border-right: 0;*/
-    border-right: 1px solid #f0f0f0;
+  border-bottom: 0;
+  /*border-right: 0;*/
+  border-right: 1px solid #f0f0f0;
 }
 
 #menu ul ul li a
 {
-    background-position: 7px 50%;
-    border-bottom: 1px solid #f0f0f0;
-    color: #bbb;
-    margin-left: 15px;
-    padding-left: 26px;
+  background-position: 7px 50%;
+  border-bottom: 1px solid #f0f0f0;
+  color: #bbb;
+  margin-left: 15px;
+  padding-left: 26px;
 }
 
 #menu ul ul li:last-child a
 {
-    border-bottom: 0;
+  border-bottom: 0;
 }
 
 #menu ul ul li a:hover
 {
-    background-color: #f0f0f0;
-    color: #333;
+  background-color: #f0f0f0;
+  color: #333;
 }
 
 #menu ul ul li.active
 {
-    background-color: #fff;
-    border-right-color: #fff;
+  background-color: #fff;
+  border-right-color: #fff;
 }
 
 #menu ul ul li.active a
 {
-    color: #333;
+  color: #333;
 }
 
 #menu ul ul li.active a:hover
 {
-    background-color: transparent;
+  background-color: transparent;
 }
 
 #menu .global p a
 {
-    background-position: 5px 50%;
-    padding-left: 26px;
+  background-position: 5px 50%;
+  padding-left: 26px;
 }
 
 #menu #index p a
 {
-    background-image: url( ../../img/ico/dashboard.png );
+  background-image: url( ../../img/ico/dashboard.png );
 }
 
 #menu #logging p a
 {
-    background-image: url( ../../img/ico/inbox-document-text.png );
+  background-image: url( ../../img/ico/inbox-document-text.png );
 }
 
 #menu #java-properties p a
 {
-    background-image: url( ../../img/ico/jar.png );
+  background-image: url( ../../img/ico/jar.png );
 }
 
 #menu #threads p a
 {
-    background-image: url( ../../img/ico/ui-accordion.png );
+  background-image: url( ../../img/ico/ui-accordion.png );
 }
 
 #menu #cores p a
 {
-    background-image: url( ../../img/ico/databases.png );
+  background-image: url( ../../img/ico/databases.png );
 }
 
 #menu #cloud p a
 {
-    background-image: url( ../../img/ico/network-cloud.png );
+  background-image: url( ../../img/ico/network-cloud.png );
 }
 
 #menu .query a { background-image: url( ../../img/ico/magnifier.png ); }
@@ -230,13 +230,13 @@
 
 #menu .ping.error
 {
-    background-color: #f7f7e9;
-    background-color: #ffcccc;
+  background-color: #f7f7e9;
+  background-color: #ffcccc;
 }
 
 #menu .ping.error a
 {
-    background-color: transparent;
-    background-image: url( ../../img/ico/system-monitor--exclamation.png );
-    cursor: help;
+  background-color: transparent;
+  background-image: url( ../../img/ico/system-monitor--exclamation.png );
+  cursor: help;
 }
\ No newline at end of file
diff --git a/solr/webapp/web/css/styles/plugins.css b/solr/webapp/web/css/styles/plugins.css
index b99748f..9951df1 100644
--- a/solr/webapp/web/css/styles/plugins.css
+++ b/solr/webapp/web/css/styles/plugins.css
@@ -1,19 +1,19 @@
 #content #plugins #navigation
 {
-    background-image: url( ../../img/div.gif );
-    background-position: 100% 0;
-    background-repeat: repeat-y;
-    width: 20%;
+  background-image: url( ../../img/div.gif );
+  background-position: 100% 0;
+  background-repeat: repeat-y;
+  width: 20%;
 }
 
 #content #plugins #navigation a
 {
-    background-position: 0 50%;
-    border-right: 1px solid #f0f0f0;
-    display: block;
-    margin-left: 1px;
-    padding: 3px 0;
-    padding-left: 21px;
+  background-position: 0 50%;
+  border-right: 1px solid #f0f0f0;
+  display: block;
+  margin-left: 1px;
+  padding: 3px 0;
+  padding-left: 21px;
 }
 
 #content #plugins #navigation .cache a { background-image: url( ../../img/ico/disk-black.png ); }
@@ -25,104 +25,104 @@
 
 #content #plugins #navigation a:hover
 {
-    background-color: #fafafa;
+  background-color: #fafafa;
 }
 
 #content #plugins #navigation .current a
 {
-    background-color: #fff;
-    border-right-color: #fff;
-    border-top: 1px solid #f0f0f0;
-    border-bottom: 1px solid #f0f0f0;
-    font-weight: bold;
+  background-color: #fff;
+  border-right-color: #fff;
+  border-top: 1px solid #f0f0f0;
+  border-bottom: 1px solid #f0f0f0;
+  font-weight: bold;
 }
 
 #content #plugins #frame
 {
-    float: right;
-    width: 78%;
+  float: right;
+  width: 78%;
 }
 
 #content #plugins #frame .entry
 {
-    margin-bottom: 10px;
+  margin-bottom: 10px;
 }
 
 #content #plugins #frame .entry:last-child
 {
-    margin-bottom: 0;
+  margin-bottom: 0;
 }
 
 #content #plugins #frame .entry a
 {
-    background-image: url( ../../img/ico/chevron-small-expand.png );
-    background-position: 0 50%;
-    display: block;
-    font-weight: bold;
-    padding-left: 21px;
+  background-image: url( ../../img/ico/chevron-small-expand.png );
+  background-position: 0 50%;
+  display: block;
+  font-weight: bold;
+  padding-left: 21px;
 }
 
 #content #plugins #frame .entry.expanded a
 {
-    background-image: url( ../../img/ico/chevron-small.png );
+  background-image: url( ../../img/ico/chevron-small.png );
 }
 
 #content #plugins #frame .entry.expanded ul
 {
-    display: block;
+  display: block;
 }
 
 #content #plugins #frame .entry ul
 {
-    display: none;
-    padding-top: 5px;
-    margin-left: 21px;
+  display: none;
+  padding-top: 5px;
+  margin-left: 21px;
 }
 
 #content #plugins #frame .entry li
 {
-    padding-top: 2px;
-    padding-bottom: 2px;
+  padding-top: 2px;
+  padding-bottom: 2px;
 }
 
 #content #plugins #frame .entry li.stats
 {
-    border-top: 1px solid #c0c0c0;
-    margin-top: 5px;
-    padding-top: 5px;
+  border-top: 1px solid #c0c0c0;
+  margin-top: 5px;
+  padding-top: 5px;
 }
 
 #content #plugins #frame .entry li.odd
 {
-    background-color: #f8f8f8;
+  background-color: #f8f8f8;
 }
 
 #content #plugins #frame .entry dt,
 #content #plugins #frame .entry .stats span
 {
-    float: left;
-    width: 11%;
+  float: left;
+  width: 11%;
 }
 
 #content #plugins #frame .entry dd,
 #content #plugins #frame .entry .stats ul
 {
-    float: right;
-    width: 88%;
+  float: right;
+  width: 88%;
 }
 
 #content #plugins #frame .entry .stats ul
 {
-    margin: 0;
-    padding: 0;
+  margin: 0;
+  padding: 0;
 }
 
 #content #plugins #frame .entry .stats dt
 {
-    width: 27%;
+  width: 27%;
 }
 
 #content #plugins #frame .entry .stats dd
 {
-    width: 72%;
+  width: 72%;
 }
\ No newline at end of file
diff --git a/solr/webapp/web/css/styles/query.css b/solr/webapp/web/css/styles/query.css
index f6dd28a..d3ced70 100644
--- a/solr/webapp/web/css/styles/query.css
+++ b/solr/webapp/web/css/styles/query.css
@@ -1,132 +1,132 @@
 #content #query
 {
-    background-image: url( ../../img/div.gif );
-    background-position: 22% 0;
-    background-repeat: repeat-y;
+  background-image: url( ../../img/div.gif );
+  background-position: 22% 0;
+  background-repeat: repeat-y;
 }
 
 #content #query #form
 {
-    float: left;
-    width: 21%;
+  float: left;
+  width: 21%;
 }
 
 #content #query #form label
 {
-    cursor: pointer;
-    display: block;
-    margin-top: 5px;
+  cursor: pointer;
+  display: block;
+  margin-top: 5px;
 }
 
 #content #query #form input,
 #content #query #form select,
 #content #query #form textarea
 {
-    margin-bottom: 2px;
-    width: 100%;
+  margin-bottom: 2px;
+  width: 100%;
 }
 
 #content #query #form #start
 {
-    float: left;
-    margin-right: 2%;
-    width: 49%;
+  float: left;
+  margin-right: 2%;
+  width: 49%;
 }
 
 #content #query #form #rows
 {
-    width: 49%;
+  width: 49%;
 }
 
 #content #query #form .checkbox input
 {
-    margin-bottom: 0;
-    width: auto;
+  margin-bottom: 0;
+  width: auto;
 }
 
 #content #query #form fieldset,
 #content #query #form .optional.expanded
 {
-    border: 1px solid #fff;
-    border-top: 1px solid #c0c0c0;
-    margin-bottom: 10px;
+  border: 1px solid #fff;
+  border-top: 1px solid #c0c0c0;
+  margin-bottom: 10px;
 }
 
 #content #query #form fieldset legend,
 #content #query #form .optional.expanded legend
 {
-    display: block;
-    margin-left: 10px;
-    padding: 0px 5px;
+  display: block;
+  margin-left: 10px;
+  padding: 0px 5px;
 }
 
 #content #query #form fieldset legend label
 {
-    margin-top: 0;
+  margin-top: 0;
 }
 
 #content #query #form fieldset .fieldset
 {
-    border-bottom: 1px solid #f0f0f0;
-    margin-bottom: 5px;
-    padding-bottom: 5px;
+  border-bottom: 1px solid #f0f0f0;
+  margin-bottom: 5px;
+  padding-bottom: 5px;
 }
 
 #content #query #form .optional
 {
-    border: 0;
+  border: 0;
 }
 
 #content #query #form .optional .fieldset
 {
-    display: none;
+  display: none;
 }
 
 #content #query #form .optional legend
 {
-    margin-left: 0;
-    padding-left: 0;
+  margin-left: 0;
+  padding-left: 0;
 }
 
 #content #query #form .optional.expanded .fieldset
 {
-    display: block;
+  display: block;
 }
 
 #content #query #result
 {
-    display: none;
-    float: right;
-    width: 77%;
+  display: none;
+  float: right;
+  width: 77%;
 }
 
 #content #query #result #url
 {
-    margin-bottom: 10px;
-    background-image: url( ../../img/ico/ui-address-bar.png );
-    background-position: 5px 50%;
-    border: 1px solid #f0f0f0;
-    box-shadow: 1px 1px 0 #f0f0f0;
-    -moz-box-shadow: 1px 1px 0 #f0f0f0;
-    -webkit-box-shadow: 1px 1px 0 #f0f0f0;
-    color: #c0c0c0;
-    display: block;
-    overflow: hidden;
-    padding: 5px;
-    padding-left: 26px;
-    white-space: nowrap;
+  margin-bottom: 10px;
+  background-image: url( ../../img/ico/ui-address-bar.png );
+  background-position: 5px 50%;
+  border: 1px solid #f0f0f0;
+  box-shadow: 1px 1px 0 #f0f0f0;
+  -moz-box-shadow: 1px 1px 0 #f0f0f0;
+  -webkit-box-shadow: 1px 1px 0 #f0f0f0;
+  color: #c0c0c0;
+  display: block;
+  overflow: hidden;
+  padding: 5px;
+  padding-left: 26px;
+  white-space: nowrap;
 }
 
 #content #query #result #url:focus,
 #content #query #result #url:hover
 {
-    border-color: #c0c0c0;
-    box-shadow: 1px 1px 0 #d8d8d8;
-    -moz-box-shadow: 1px 1px 0 #d8d8d8;
-    -webkit-box-shadow: 1px 1px 0 #d8d8d8;
-    color: #333;
+  border-color: #c0c0c0;
+  box-shadow: 1px 1px 0 #d8d8d8;
+  -moz-box-shadow: 1px 1px 0 #d8d8d8;
+  -webkit-box-shadow: 1px 1px 0 #d8d8d8;
+  color: #333;
 }
 
 #content #query #result #response
 {
-}
\ No newline at end of file
+}
diff --git a/solr/webapp/web/css/styles/replication.css b/solr/webapp/web/css/styles/replication.css
index 3b33ad7..4af5dbd 100644
--- a/solr/webapp/web/css/styles/replication.css
+++ b/solr/webapp/web/css/styles/replication.css
@@ -1,164 +1,164 @@
 #content #replication
 {
-    background-image: url( ../../img/div.gif );
-    background-position: 21% 0;
-    background-repeat: repeat-y;
+  background-image: url( ../../img/div.gif );
+  background-position: 21% 0;
+  background-repeat: repeat-y;
 }
 
 #content #replication #frame
 {
-    float: right;
-    width: 78%;
+  float: right;
+  width: 78%;
 }
 
 #content #replication #navigation
 {
-    float: left;
-    width: 20%;
+  float: left;
+  width: 20%;
 }
 
 #content #replication #error
 {
-    background-color: #f00;
-    background-image: url( ../../img/ico/construction.png );
-    background-position: 10px 50%;
-    color: #fff;
-    display: none;
-    font-weight: bold;
-    margin-bottom: 20px;
-    padding: 10px;
-    padding-left: 35px;
+  background-color: #f00;
+  background-image: url( ../../img/ico/construction.png );
+  background-position: 10px 50%;
+  color: #fff;
+  display: none;
+  font-weight: bold;
+  margin-bottom: 20px;
+  padding: 10px;
+  padding-left: 35px;
 }
 
 #content #replication .block
 {
-    border-bottom: 1px solid #c0c0c0;
-    margin-bottom: 20px;
-    padding-bottom: 20px;
+  border-bottom: 1px solid #c0c0c0;
+  margin-bottom: 20px;
+  padding-bottom: 20px;
 }
 
 #content #replication .block.last
 {
-    border-bottom: 0;
+  border-bottom: 0;
 }
 
 #content #replication .masterOnly,
 #content #replication .slaveOnly
 {
-    display: none;
+  display: none;
 }
 
 #content #replication.master .masterOnly
 {
-    display: block;
+  display: block;
 }
 
 #content #replication.slave .slaveOnly
 {
-    display: block;
+  display: block;
 }
 
 #content #replication .replicating
 {
-    display: none;
+  display: none;
 }
 
 #content #replication.replicating .replicating
 {
-    display: block;
+  display: block;
 }
 
 #content #replication #progress
 {
-    padding-bottom: 80px;
-    position: relative;
+  padding-bottom: 80px;
+  position: relative;
 }
 
 #content #replication #progress .info
 {
-    padding: 5px;
+  padding: 5px;
 }
 
 #content #replication #progress #start
 {
-    margin-left: 100px;
-    border-left: 1px solid #c0c0c0;
+  margin-left: 100px;
+  border-left: 1px solid #c0c0c0;
 }
 
 #content #replication #progress #bar
 {
-    background-color: #f0f0f0;
-    margin-left: 100px;
-    margin-right: 100px;
-    position: relative;
+  background-color: #f0f0f0;
+  margin-left: 100px;
+  margin-right: 100px;
+  position: relative;
 }
 
 #content #replication #progress #bar #bar-info,
 #content #replication #progress #bar #eta
 {
-    position: absolute;
-    right: -100px;
-    width: 100px;
+  position: absolute;
+  right: -100px;
+  width: 100px;
 }
 
 #content #replication #progress #bar #bar-info
 {
-    border-left: 1px solid #f0f0f0;
-    margin-top: 30px;
+  border-left: 1px solid #f0f0f0;
+  margin-top: 30px;
 }
 
 #content #replication #progress #eta .info
 {
-    color: #c0c0c0;
-    height: 30px;
-    line-height: 30px;
-    padding-top: 0;
-    padding-bottom: 0;
+  color: #c0c0c0;
+  height: 30px;
+  line-height: 30px;
+  padding-top: 0;
+  padding-bottom: 0;
 }
 
 #content #replication #progress #speed
 {
-    color: #c0c0c0;
-    position: absolute;
-    right: 100px;
-    top: 0;
+  color: #c0c0c0;
+  position: absolute;
+  right: 100px;
+  top: 0;
 }
 
 #content #replication #progress #bar #done
 {
-    background-color: #c0c0c0;
-    box-shadow: 5px 5px 10px #c0c0c0;
-    -moz-box-shadow: 5px 5px 10px #c0c0c0;
-    -webkit-box-shadow: 5px 5px 10px #c0c0c0;
-    height: 30px;
-    position: relative;
+  background-color: #c0c0c0;
+  box-shadow: 5px 5px 10px #c0c0c0;
+  -moz-box-shadow: 5px 5px 10px #c0c0c0;
+  -webkit-box-shadow: 5px 5px 10px #c0c0c0;
+  height: 30px;
+  position: relative;
 }
 
 #content #replication #progress #bar #done .percent
 {
-    font-weight: bold;
-    height: 30px;
-    line-height: 30px;
-    padding-left: 5px;
-    padding-right: 5px;
-    position: absolute;
-    right: 0;
-    text-align: right;
+  font-weight: bold;
+  height: 30px;
+  line-height: 30px;
+  padding-left: 5px;
+  padding-right: 5px;
+  position: absolute;
+  right: 0;
+  text-align: right;
 }
 
 #content #replication #progress #bar #done #done-info
 {
-    border-right: 1px solid #c0c0c0;
-    position: absolute;
-    right: 0;
-    margin-top: 30px;
-    text-align: right;
-    width: 100px;
+  border-right: 1px solid #c0c0c0;
+  position: absolute;
+  right: 0;
+  margin-top: 30px;
+  text-align: right;
+  width: 100px;
 }
 
 #content #replication #progress #bar #done #done-info .percent
 {
-    font-weight: bold;
+  font-weight: bold;
 }
 
 #content #replication .block .label,
@@ -166,149 +166,144 @@
 #content #replication #current-file .progress,
 #content #replication #iterations .iterations
 {
-    float: left;
+  float: left;
 }
 
 #content #replication .block .label
 {
-    width: 100px;
+  width: 100px;
 }
 
 #content #replication .block .label span
 {
-    display: block;
-    padding-left: 21px;
+  display: block;
+  padding-left: 21px;
 }
 
 #content #replication #current-file
 {
-    border-top: 1px solid #f0f0f0;
-    margin-top: 10px;
-    padding-top: 10px;
+  border-top: 1px solid #f0f0f0;
+  margin-top: 10px;
+  padding-top: 10px;
 }
 
 #content #replication #current-file .progress
 {
-    color: #c0c0c0;
-    margin-left: 20px;
-}
-
-#content #replication #iterations
-{
-    display: none;
+  color: #c0c0c0;
+  margin-left: 20px;
 }
 
 #content #replication #iterations .label span
 {
-    background-image: url( ../../img/ico/node-design.png );
+  background-image: url( ../../img/ico/node-design.png );
 }
 
 #content #replication #iterations .iterations li
 {
-    background-position: 100% 50%;
-    display: none;
-    padding-right: 21px;
+  background-position: 100% 50%;
+  display: none;
+  padding-right: 21px;
 }
 
 #content #replication #iterations .iterations.expanded li
 {
-    display: block;
+  display: block;
 }
 
 #content #replication #iterations .iterations .latest
 {
-    display: block;
+  display: block;
 }
 
 #content #replication #iterations .iterations .replicated
 {
-    color: #80c480;
+  color: #80c480;
 }
 
 #content #replication #iterations .iterations ul:hover .replicated,
 #content #replication #iterations .iterations .replicated.latest
 {
-    color: #080;
+  color: #080;
 }
 
 #content #replication #iterations .iterations .replicated.latest
 {
-    background-image: url( ../../img/ico/tick.png );
+  background-image: url( ../../img/ico/tick.png );
 }
 
 #content #replication #iterations .iterations .failed
 {
-    color: #c48080;
+  color: #c48080;
 }
 
 #content #replication #iterations .iterations ul:hover .failed,
 #content #replication #iterations .iterations .failed.latest
 {
-    color: #800;
+  color: #800;
 }
 
 #content #replication #iterations .iterations .failed.latest
 {
-    background-image: url( ../../img/ico/cross.png );
+  background-image: url( ../../img/ico/cross.png );
 }
 
 #content #replication #iterations .iterations a
 {
-    border-top: 1px solid #f0f0f0;
-    display: none;
-    margin-top: 2px;
-    padding-top: 2px;
+  border-top: 1px solid #f0f0f0;
+  display: none;
+  margin-top: 2px;
+  padding-top: 2px;
 }
 
 #content #replication #iterations .iterations a span
 {
-    background-position: 0 50%;
-    color: #c0c0c0;
-    display: none;
-    padding-left: 21px;
+  background-position: 0 50%;
+  color: #c0c0c0;
+  display: none;
+  padding-left: 21px;
 }
 
 #content #replication #iterations .iterations a span.expand
 {
-    background-image: url( ../../img/ico/chevron-small-expand.png );
-    display: block;
+  background-image: url( ../../img/ico/chevron-small-expand.png );
+  display: block;
 }
 
 #content #replication #iterations .iterations.expanded a span.expand
 {
-    display: none;
+  display: none;
 }
 
 #content #replication #iterations .iterations.expanded a span.collapse
 {
-    background-image: url( ../../img/ico/chevron-small.png );
-    display: block;
+  background-image: url( ../../img/ico/chevron-small.png );
+  display: block;
 }
 
 #content #replication #details table
 {
-    border-collapse: collapse;
+  border-collapse: collapse;
 }
 
 #content #replication #details table th
 {
-    text-align: left;
+  text-align: left;
 }
 
 #content #replication.slave #details table .slaveOnly
 {
-    display: table-row;
+  display: table-row;
 }
 
 #content #replication #details table thead th
 {
-    color: #c0c0c0;
+  color: #c0c0c0;
 }
 
 #content #replication #details table thead th,
 #content #replication #details table tbody td
 {
-    padding-right: 20px;
+  padding-right: 20px;
 }
 
 #content #replication #details table thead td,
@@ -316,148 +311,187 @@
 #content #replication #details table tbody th,
 #content #replication #details table tbody td div
 {
-    padding-top: 3px;
-    padding-bottom: 3px;
+  padding-top: 3px;
+  padding-bottom: 3px;
 }
 
 #content #replication #details table tbody td,
 #content #replication #details table tbody th
 {
-    border-top: 1px solid #f0f0f0;
+  border-top: 1px solid #f0f0f0;
 }
 
 #content #replication #details table thead td
 {
-    width: 100px;
+  width: 100px;
 }
 
 #content #replication #details table thead td span
 {
-    background-image: url( ../../img/ico/clipboard-list.png );
-    background-position: 0 50%;
-    display: block;
-    padding-left: 21px;
+  background-image: url( ../../img/ico/clipboard-list.png );
+  background-position: 0 50%;
+  display: block;
+  padding-left: 21px;
 }
 
 #content #replication #details table tbody th
 {
-    padding-right: 10px;
-    text-align: right;
+  padding-right: 10px;
+  text-align: right;
 }
 
 #content #replication #details table tbody .size
 {
-    text-align: right;
-    white-space: nowrap;
+  text-align: right;
+  white-space: nowrap;
 }
 
 #content #replication #details table tbody .generation div
 {
-    text-align: center;
+  text-align: center;
 }
 
 #content #replication #details table tbody .diff div
 {
-    background-color: #fcfcc9;
-    padding-left: 1px;
-    padding-right: 1px;
+  background-color: #fcfcc9;
+  padding-left: 1px;
+  padding-right: 1px;
 }
 
 #content #replication .settings .label span
 {
-    background-image: url( ../../img/ico/hammer-screwdriver.png );
+  background-image: url( ../../img/ico/hammer-screwdriver.png );
 }
 
 #content #replication .settings ul,
 #content #replication .settings dl dt,
 #content #replication .settings dl dd
 {
-    float: left;
+  float: left;
 }
 
 #content #replication .settings ul li
 {
-    border-top: 1px solid #f0f0f0;
-    display: none;
-    padding-top: 3px;
-    padding-top: 3px;
+  border-top: 1px solid #f0f0f0;
+  display: none;
+  padding-top: 3px;
+  padding-top: 3px;
 }
 
 #content #replication .settings ul li:first-child
 {
-    border-top: 0;
-    padding-top: 0;
+  border-top: 0;
+  padding-top: 0;
 }
 
 #content #replication .settings dl dt
 {
-    clear: left;
-    margin-right: 5px;
-    width: 120px;
+  clear: left;
+  margin-right: 5px;
+  width: 120px;
 }
 
 #content #replication .settings dl .ico
 {
-    background-position: 0 50%;
-    padding-left: 21px;
+  background-position: 0 50%;
+  padding-left: 21px;
 }
 
 #content #replication .settings dl .ico.ico-0
 {
-    background-image: url( ../../img/ico/slash.png );
+  background-image: url( ../../img/ico/slash.png );
 }
 
 #content #replication .settings dl .ico.ico-1
 {
-    background-image: url( ../../img/ico/tick.png );
+  background-image: url( ../../img/ico/tick.png );
+}
+
+#content #replication .timer
+{
+  box-shadow: 5px 5px 10px #c0c0c0;
+  -moz-box-shadow: 5px 5px 10px #c0c0c0;
+  -webkit-box-shadow: 5px 5px 10px #c0c0c0;
+  display: none;
+  margin-bottom: 20px;
+  padding: 10px;
+}
+
+#content #replication .timer p,
+#content #replication .timer small
+{
+  padding-left: 21px;
+}
+
+#content #replication .timer p
+{
+  background-image: url( ../../img/ico/clock-select-remain.png );
+  background-position: 0 50%;
+}
+
+#content #replication .timer p .approx
+{
+  color: #c0c0c0;
+  margin-right: 1px;
+}
+
+#content #replication .timer p .tick
+{
+  font-weight: bold;
+}
+
+#content #replication .timer small
+{
+  color: #c0c0c0;
+  display: none;
 }
 
 #content #replication #navigation button
 {
-    background-position: 2px 50%;
-    margin-bottom: 10px;
-    padding-left: 21px;
+  background-position: 2px 50%;
+  margin-bottom: 10px;
+  padding-left: 21px;
 }
 
 #content #replication #navigation button.optional
 {
-    display: none;
+  display: none;
 }
 
 #content #replication #navigation .replicate-now
 {
-    background-image: url( ../../img/ico/document-convert.png );
+  background-image: url( ../../img/ico/document-convert.png );
 }
 
 #content #replication #navigation .abort-replication
 {
-    background-color: #800;
-    background-image: url( ../../img/ico/hand.png );
-    border-color: #800;
-    color: #fff;
+  background-color: #800;
+  background-image: url( ../../img/ico/hand.png );
+  border-color: #800;
+  color: #fff;
 }
 
 #content #replication #navigation .disable-polling
 {
-    background-image: url( ../../img/ico/cross.png );
+  background-image: url( ../../img/ico/cross.png );
 }
 
 #content #replication #navigation .enable-polling
 {
-    background-image: url( ../../img/ico/tick.png );
+  background-image: url( ../../img/ico/tick.png );
 }
 
 #content #replication #navigation .disable-replication
 {
-    background-image: url( ../../img/ico/cross.png );
+  background-image: url( ../../img/ico/cross.png );
 }
 
 #content #replication #navigation .enable-replication
 {
-    background-image: url( ../../img/ico/tick.png );
+  background-image: url( ../../img/ico/tick.png );
 }
 
 #content #replication #navigation .refresh-status
 {
-    background-image: url( ../../img/ico/arrow-circle.png );
+  background-image: url( ../../img/ico/arrow-circle.png );
 }
\ No newline at end of file
diff --git a/solr/webapp/web/css/styles/schema-browser.css b/solr/webapp/web/css/styles/schema-browser.css
index 2a0ff3b..d48ce22 100644
--- a/solr/webapp/web/css/styles/schema-browser.css
+++ b/solr/webapp/web/css/styles/schema-browser.css
@@ -1,76 +1,76 @@
 #content #schema-browser .loader
 {
-    background-position: 0 50%;
-    padding-left: 21px;   
+  background-position: 0 50%;
+  padding-left: 21px;   
 }
 
 #content #schema-browser.loaded
 {
-    background-image: url( ../../img/div.gif );
-    background-position: 21% 0;
-    background-repeat: repeat-y;
+  background-image: url( ../../img/div.gif );
+  background-position: 21% 0;
+  background-repeat: repeat-y;
 }
 
 #content #schema-browser #data
 {
-    float: right;
-    width: 78%;
+  float: right;
+  width: 78%;
 }
 
 #content #schema-browser #related
 {
-    float: left;
-    width: 20%;
+  float: left;
+  width: 20%;
 }
 
 #content #schema-browser #related select
 {
-    width: 100%;
+  width: 100%;
 }
 
 #content #schema-browser #related select optgroup
 {
-    font-style: normal;
-    padding: 5px;
+  font-style: normal;
+  padding: 5px;
 }
 
 #content #schema-browser #related select option
 {
-    padding-left: 10px;
+  padding-left: 10px;
 }
 
 #content #schema-browser #related #f-df-t
 {
-    border-bottom: 1px solid #f0f0f0;
-    padding-bottom: 15px;
+  border-bottom: 1px solid #f0f0f0;
+  padding-bottom: 15px;
 }
 
 #content #schema-browser #related dl
 {
-    margin-top: 15px;
+  margin-top: 15px;
 }
 
 #content #schema-browser #related dl dt,
 #content #schema-browser #related dl dd a
 {
-    color: #c0c0c0;
+  color: #c0c0c0;
 }
 
 #content #schema-browser #related dl dt
 {
-    font-weight: bold;
-    margin-top: 5px;
+  font-weight: bold;
+  margin-top: 5px;
 }
 
 #content #schema-browser #related dl dd a
 {
-    display: block;
-    padding-left: 10px;
+  display: block;
+  padding-left: 10px;
 }
 
 #content #schema-browser #related dl dd a:hover
 {
-    background-color: #f8f8f8;
+  background-color: #f8f8f8;
 }
 
 #content #schema-browser #related .field .field,
@@ -82,264 +82,346 @@
 #content #schema-browser #related .active,
 #content #schema-browser #related .active a
 {
-    color: #333;
+  color: #333;
 }
 
 #content #schema-browser #related .copyfield,
 #content #schema-browser #related .copyfield a
 {
-    color: #666;
+  color: #666;
 }
 
 #content #schema-browser #data
 {
-    display: none;
+  display: none;
 }
 
 #content #schema-browser #data #index dt
 {
-    display: none;
-    float: left;
-    margin-right: 5px;
-    width: 150px;
+  display: none;
+  float: left;
+  margin-right: 5px;
+  width: 150px;
 }
 
 #content #schema-browser #data #field .field-options
 {
-    margin-bottom: 20px;
+  margin-bottom: 10px;
+}
+
+#content #schema-browser #data #field .field-options .head h2
+{
+  padding-left: 5px;
 }
 
 #content #schema-browser #data #field .field-options .options dt,
 #content #schema-browser #data #field .field-options .options dd
 {
-    float: left;
+  float: left;
 }
 
 #content #schema-browser #data #field .field-options .options dt
 {
-    clear: left;
-    display: none;
-    margin-right: 5px;
-    width: 100px;
+  clear: left;
+  display: none;
+  margin-right: 5px;
+  width: 100px;
 }
 
 #content #schema-browser #data #field .field-options .options dd
 {
-    margin-right: 5px;
+  margin-right: 5px;
 }
 
+
 #content #schema-browser #data #field .field-options .analyzer,
 #content #schema-browser #data #field .field-options .analyzer li,
 #content #schema-browser #data #field .field-options .analyzer ul,
 #content #schema-browser #data #field .field-options .analyzer ul li
 {
-    display: none;
+  display: none;
 }
 
 #content #schema-browser #data #field .field-options .analyzer p,
 #content #schema-browser #data #field .field-options .analyzer dl
 {
-    float: left;
+  float: left;
 }
 
 #content #schema-browser #data #field .field-options .analyzer p
 {
-    margin-right: 5px;
-    text-align: right;
-    width: 100px;
+  margin-right: 5px;
+  text-align: right;
+  width: 100px;
+}
+
+#content #schema-browser #data #field .field-options .analyzer a
+{
+  cursor: auto;
+}
+
+#content #schema-browser #data #field .field-options .analyzer .toggle
+{
+  background-image: url( ../../img/ico/chevron-small-expand.png );
+  background-position: 100% 50%;
+  cursor: pointer;
+  display: block;
+  padding-right: 21px;
+}
+
+#content #schema-browser #data #field .field-options .analyzer .open .toggle
+{
+  background-image: url( ../../img/ico/chevron-small.png );
 }
 
 #content #schema-browser #data #field .field-options .analyzer li
 {
-    border-top: 1px solid #f0f0f0;
-    margin-top: 10px;
-    padding-top: 10px;
+  border-top: 1px solid #f0f0f0;
+  margin-top: 10px;
+  padding-top: 10px;
 }
 
 #content #schema-browser #data #field .field-options .analyzer ul
 {
-    clear: left;
-    display: block;
-    margin-left: 30px;
-    padding-top: 5px;
+  clear: left;
+  display: none;
+  margin-left: 30px;
+  padding-top: 5px;
+}
+
+#content #schema-browser #data #field .field-options .analyzer .open ul
+{
+  display: block;
 }
 
 #content #schema-browser #data #field .field-options .analyzer ul li
 {
-    border-top: 1px solid #f8f8f8;
-    margin-top: 5px;
-    padding-top: 5px;
+  border-top: 1px solid #f8f8f8;
+  margin-top: 5px;
+  padding-top: 5px;
 }
 
 #content #schema-browser #data #field .field-options .analyzer ul p
 {
-    color: #999;
-    margin-right: 5px;
-    text-align: right;
-    width: 70px;
+  color: #999;
+  margin-right: 5px;
+  text-align: right;
+  width: 70px;
 }
 
 #content #schema-browser #data #field .field-options .analyzer ul dd
 {
-    margin-left: 20px;
+  margin-left: 20px;
 }
 
 #content #schema-browser #data #field .field-options .analyzer ul dd
 {
-    background-image: url( ../../img/ico/document-list.png );
-    background-position: 0 50%;
-    color: #c0c0c0;
-    padding-left: 21px;
+  background-image: url( ../../img/ico/document-list.png );
+  background-position: 0 50%;
+  color: #c0c0c0;
+  padding-left: 21px;
 }
 
 #content #schema-browser #data #field .field-options .analyzer ul dd.ico-0
 {
-    background-image: url( ../../img/ico/slash.png );
+  background-image: url( ../../img/ico/slash.png );
 }
 
 #content #schema-browser #data #field .field-options .analyzer ul dd.ico-1
 {
-    background-image: url( ../../img/ico/tick.png );
+  background-image: url( ../../img/ico/tick.png );
 }
 
 #content #schema-browser #data #field .head
 {
-    margin-bottom: 5px;
+  margin-bottom: 5px;
 }
 
-#content #schema-browser #data #field .topterms-holder
+#content #schema-browser #data #field .terminfo-holder
 {
-    display: none;
-    float: left;
+  border-top: 1px solid #c0c0c0;
+  padding-top: 10px;
 }
 
-#content #schema-browser #data #field .topterms-holder .head .max-holder
+#content #schema-browser #data #field .terminfo-holder .trigger
+{
+  float: left;
+  width: 130px;
+}
+
+#content #schema-browser #data #field .terminfo-holder .trigger button
+{
+  background-image: url( ../../img/ico/information.png );
+  background-position: 3px 50%;
+  display: block;
+  padding-left: 23px;
+}
+
+#content #schema-browser #data #field .terminfo-holder .status
 {
-    color: #c0c0c0;
+  border-left: 1px solid #f0f0f0;
+  display: none;
+  float: left;
+  padding-left: 20px;
+  padding-right: 20px;
 }
 
-#content #schema-browser #data #field .topterms-holder table
+#content #schema-browser #data #field .terminfo-holder.disabled .trigger button
 {
-    border-collapse: collapse;
-    width: 100%;
+  background-color: #f0f0f0;
+  background-image: url( ../../img/ico/prohibition.png );
+  border-color: #fff;
+  color: #c0c0c0;
+  cursor: auto;
 }
 
-#content #schema-browser #data #field .topterms-holder th,
-#content #schema-browser #data #field .topterms-holder td
+#content #schema-browser #data #field .terminfo-holder.disabled .status
 {
-    border: 1px solid #f0f0f0;
-    padding: 1px 4px;
+  display: block;
 }
 
-#content #schema-browser #data #field .topterms-holder thead tr
+#content #schema-browser #data #field .terminfo-holder .trigger .autoload
 {
-    background-color: #c0c0c0;
+  display: none;
 }
 
-#content #schema-browser #data #field .topterms-holder thead th
+#content #schema-browser #data #field .terminfo-holder.loaded .trigger .autoload
 {
-    text-align: left;
+  background-image: url( ../../img/ico/ui-check-box-uncheck.png );
+  background-position: 0 50%;
+  color: #c0c0c0;
+  display: block;
+  margin-top: 10px;
+  padding-left: 21px;
 }
 
-#content #schema-browser #data #field .topterms-holder tbody
+#content #schema-browser #data #field .terminfo-holder .trigger .autoload:hover
 {
-    display: none;
+  color: #008;
 }
 
-#content #schema-browser #data #field .topterms-holder tbody .odd
+#content #schema-browser #data #field .terminfo-holder .trigger .autoload.on
 {
-    background-color: #f0f0f0;
+  background-image: url( ../../img/ico/ui-check-box.png );
+  color: #333;
 }
 
-#content #schema-browser #data #field .topterms-holder tbody .position
+#content #schema-browser #data #field .topterms-holder
 {
-    color: #c0c0c0;
-    text-align: right;
+  border-left: 1px solid #f0f0f0;
+  display: none;
+  float: left;
+  padding-left: 20px;
+  padding-right: 20px;
 }
 
-#content #schema-browser #data #field .topterms-holder .navi
+#content #schema-browser #data #field .topterms-holder .head input
+{
+  height: 18px;
+  line-height: 16px;
+  text-align: right;
+  width: 30px;
+}
+
+#content #schema-browser #data #field .topterms-holder .head .max-holder
 {
-    margin-top: 5px;
+  color: #c0c0c0;
 }
 
-#content #schema-browser #data #field .topterms-holder .navi a
+#content #schema-browser #data #field .topterms-holder .head .max-holder:hover .max
 {
-    color: #c0c0c0;
-    display: block;
-    padding-top: 2px;
-    padding-bottom: 2px;
-    width: 49%;
+  color: #008;
 }
 
-#content #schema-browser #data #field .topterms-holder .navi a:hover
+#content #schema-browser .topterms-holder li
 {
-    background-color: #f8f8f8;
-    color: #333;
+  border-top: 1px solid  #999;
+  margin-bottom: 5px;
 }
 
-#content #schema-browser #data #field .topterms-holder .navi .less
+#content #schema-browser .topterms-holder li p
 {
-    float: left;
+  background-color:  #999;
+  color: #fff;
+  float: left;
+  width: 25px;
 }
 
-#content #schema-browser #data #field .topterms-holder .navi .less span
+#content #schema-browser .topterms-holder li p span
 {
-    background-image: url( ../../img/ico/chevron-small.png );
-    background-position: 0 50%;
-    padding-left: 18px;
+  display: block;
+  padding-right: 2px;
+  text-align: right;
 }
 
-#content #schema-browser #data #field .topterms-holder .navi .more
+#content #schema-browser .topterms-holder li ul
 {
-    float: right;
-    text-align: right;
+  margin-left: 30px;
 }
 
-#content #schema-browser #data #field .topterms-holder .navi .more span
+#content #schema-browser .topterms-holder li li
 {
-    background-image: url( ../../img/ico/chevron-small-expand.png );
-    background-position: 100% 50%;
-    padding-right: 18px;
+  border-top: 0;
+  margin-bottom: 0;
+  white-space: nowrap;
+}
+
+#content #schema-browser .topterms-holder li li.odd
+{
+  background-color: #f0f0f0;
+}
+
+#content #schema-browser .topterms-holder li li span
+{
+  padding-left: 2px;
+  padding-right: 2px;
 }
 
 #content #schema-browser #data #field .histogram-holder
 {
-    display: none;
-    float: left;
-    margin-left: 50px;
+  border-left: 1px solid #f0f0f0;
+  display: none;
+  float: left;
+  padding-left: 20px;
+  padding-right: 20px;
 }
 
 #content #schema-browser #data #field .histogram-holder .histogram
 {
-    height: 150px;
+  height: 150px;
+}
+
+#content #schema-browser #data #field .histogram-holder .histogram.single canvas
+{
+  background-color: #c0c0c0;
 }
 
 #content #schema-browser #data #field .histogram-holder dt,
 #content #schema-browser #data #field .histogram-holder dd
 {
-    float: left;
-    font-size: 10px;
-    text-align: center;
+  float: left;
+  font-size: 10px;
+  text-align: center;
 }
 
 #content #schema-browser #data #field .histogram-holder span
 {
-    background-color: #f0f0f0;
-    display: block;
-    width: 20px;
+  background-color: #f0f0f0;
+  display: block;
+  width: 20px;
 }
 
 #content #schema-browser #data #field .histogram-holder dt
 {
-    padding-right: 1px;
+  padding-right: 1px;
 }
 
 #content #schema-browser #data #field .histogram-holder dd
 {
-    padding-right: 3px;
+  padding-right: 3px;
 }
 
 #content #schema-browser #data #field .histogram-holder dd span
 {
-    width: 25px;
+  width: 25px;
 }
diff --git a/solr/webapp/web/css/styles/threads.css b/solr/webapp/web/css/styles/threads.css
index ee7ebbe..b6cf077 100644
--- a/solr/webapp/web/css/styles/threads.css
+++ b/solr/webapp/web/css/styles/threads.css
@@ -1,167 +1,167 @@
 #content #threads .loader
 {
-    background-position: 0 50%;
-    padding-left: 21px;
+  background-position: 0 50%;
+  padding-left: 21px;
 }
 
 #content #threads #thread-dump table
 {
-    border-collapse: collapse;
-    width: 100%;
+  border-collapse: collapse;
+  width: 100%;
 }
 
 #content #threads #thread-dump table .spacer,
 #content #threads #thread-dump tbody .state
 {
-    background-color: #fff;
-    border: 0;
+  background-color: #fff;
+  border: 0;
 }
 
 #content #threads #thread-dump table th,
 #content #threads #thread-dump table td
 {
-    border: 1px solid #c0c0c0;
-    padding: 5px 3px;
-    vertical-align: top;
+  border: 1px solid #c0c0c0;
+  padding: 5px 3px;
+  vertical-align: top;
 }
 
 #content #threads #thread-dump thead th
 {
-    background-color: #c8c8c8;
-    font-weight: bold;
-    text-align: left;
+  background-color: #c8c8c8;
+  font-weight: bold;
+  text-align: left;
 }
 
 #content #threads #thread-dump thead th.name
 {
-    width: 85%;
+  width: 85%;
 }
 
 #content #threads #thread-dump thead th.time
 {
-    text-align: right;
-    width: 15%;
+  text-align: right;
+  width: 15%;
 }
 
 #content #threads #thread-dump tbody .odd
 {
-    background-color: #f0f0f0;
+  background-color: #f0f0f0;
 }
 
 #content #threads #thread-dump tbody .RUNNABLE a
 {
-    background-image: url( ../../img/ico/tick-circle.png );
+  background-image: url( ../../img/ico/tick-circle.png );
 }
 
 #content #threads #thread-dump tbody .WAITING a,
 #content #threads #thread-dump tbody .TIMED_WAITING .a
 {
-    background-image: url( ../../img/ico/hourglass.png );
+  background-image: url( ../../img/ico/hourglass.png );
 }
 
 #content #threads #thread-dump tbody .WAITING.lock a,
 #content #threads #thread-dump tbody .TIMED_WAITING.lock a
 {
-    background-image: url( ../../img/ico/hourglass--exclamation.png );
+  background-image: url( ../../img/ico/hourglass--exclamation.png );
 }
 
 #content #threads #thread-dump thead th:first-child,
 #content #threads #thread-dump tbody td:first-child
 {
-    border-left: 0;
+  border-left: 0;
 }
 
 #content #threads #thread-dump thead th:last-child,
 #content #threads #thread-dump tbody td:last-child
 {
-    border-right: 0;
+  border-right: 0;
 }
 
 #content #threads #thread-dump tbody .name a
 {
-    background-position: 0 50%;
-    cursor: auto;
-    display: block;
-    padding-left: 21px;
+  background-position: 0 50%;
+  cursor: auto;
+  display: block;
+  padding-left: 21px;
 }
 
 #content #threads #thread-dump tbody .stacktrace .name a
 {
-    cursor: pointer;
+  cursor: pointer;
 }
 
 #content #threads #thread-dump tbody .stacktrace .name a span
 {    
-    background-image: url( ../../img/ico/chevron-small-expand.png );
-    background-position: 100% 50%;
-    padding-right: 21px;
+  background-image: url( ../../img/ico/chevron-small-expand.png );
+  background-position: 100% 50%;
+  padding-right: 21px;
 }
 
 #content #threads #thread-dump tbody .stacktrace.open .name a span
 {   
-    background-image: url( ../../img/ico/chevron-small.png );
+  background-image: url( ../../img/ico/chevron-small.png );
 }
 
 #content #threads #thread-dump tbody .name p
 {
-    background-image: url( ../../img/ico/arrow-000-small.png );
-    background-position: 0 50%;
-    color: #c0c0c0;
-    font-size: 11px;
-    margin-left: 21px;
-    padding-left: 21px;
+  background-image: url( ../../img/ico/arrow-000-small.png );
+  background-position: 0 50%;
+  color: #c0c0c0;
+  font-size: 11px;
+  margin-left: 21px;
+  padding-left: 21px;
 }
 
 #content #threads #thread-dump tbody .name div
 {
-    border-top: 1px solid #c0c0c0;
-    display: none;
-    margin-left: 21px;
-    margin-top: 5px;
-    padding-top: 5px;
+  border-top: 1px solid #c0c0c0;
+  display: none;
+  margin-left: 21px;
+  margin-top: 5px;
+  padding-top: 5px;
 }
 
 #content #threads #thread-dump tbody .open .name div
 {
-    display: block;
+  display: block;
 }
 
 #content #threads #thread-dump tbody .name ul
 {
-    list-style-type: disc;
-    margin-left: 0.7em;
-    padding-left: 0.7em;
+  list-style-type: disc;
+  margin-left: 0.7em;
+  padding-left: 0.7em;
 }
 
 #content #threads #thread-dump tbody .time
 {
-    text-align: right;
+  text-align: right;
 }
 
 #content #threads #thread-dump tbody .details
 {
-    display: none;
+  display: none;
 }
 
 #content #threads .controls
 {
-    padding-top: 5px;
-    padding-bottom: 5px;
+  padding-top: 5px;
+  padding-bottom: 5px;
 }
 
 #content #threads .controls a
 {
-    background-image: url( ../../img/ico/chevron-small-expand.png );
-    padding-left: 21px;
+  background-image: url( ../../img/ico/chevron-small-expand.png );
+  padding-left: 21px;
 }
 
 #content #threads.expanded .controls a
 {
-    background-image: url( ../../img/ico/chevron-small.png );
+  background-image: url( ../../img/ico/chevron-small.png );
 }
 
 #content #threads.expanded .controls .expand,
 #content #threads.collapsed .controls .collapse
 {
-    display: none;
+  display: none;
 }
\ No newline at end of file
diff --git a/solr/webapp/web/js/lib/ZeroClipboard.js b/solr/webapp/web/js/lib/ZeroClipboard.js
new file mode 100644
index 0000000..92364bd
--- /dev/null
+++ b/solr/webapp/web/js/lib/ZeroClipboard.js
@@ -0,0 +1,317 @@
+// Simple Set Clipboard System
+// Author: Joseph Huckaby
+
+var ZeroClipboard = {
+	
+	version: "1.0.7",
+	clients: {}, // registered upload clients on page, indexed by id
+	moviePath: 'ZeroClipboard.swf', // URL to movie
+	nextId: 1, // ID of next movie
+	
+	$: function(thingy) {
+		// simple DOM lookup utility function
+		if (typeof(thingy) == 'string') thingy = document.getElementById(thingy);
+		if (!thingy.addClass) {
+			// extend element with a few useful methods
+			thingy.hide = function() { this.style.display = 'none'; };
+			thingy.show = function() { this.style.display = ''; };
+			thingy.addClass = function(name) { this.removeClass(name); this.className += ' ' + name; };
+			thingy.removeClass = function(name) {
+				var classes = this.className.split(/\s+/);
+				var idx = -1;
+				for (var k = 0; k < classes.length; k++) {
+					if (classes[k] == name) { idx = k; k = classes.length; }
+				}
+				if (idx > -1) {
+					classes.splice( idx, 1 );
+					this.className = classes.join(' ');
+				}
+				return this;
+			};
+			thingy.hasClass = function(name) {
+				return !!this.className.match( new RegExp("\\s*" + name + "\\s*") );
+			};
+		}
+		return thingy;
+	},
+	
+	setMoviePath: function(path) {
+		// set path to ZeroClipboard.swf
+		this.moviePath = path;
+	},
+	
+	dispatch: function(id, eventName, args) {
+		// receive event from flash movie, send to client		
+		var client = this.clients[id];
+		if (client) {
+			client.receiveEvent(eventName, args);
+		}
+	},
+	
+	register: function(id, client) {
+		// register new client to receive events
+		this.clients[id] = client;
+	},
+	
+	getDOMObjectPosition: function(obj, stopObj) {
+		// get absolute coordinates for dom element
+		var info = {
+			left: 0, 
+			top: 0, 
+			width: obj.width ? obj.width : obj.offsetWidth, 
+			height: obj.height ? obj.height : obj.offsetHeight
+		};
+
+		while (obj && (obj != stopObj)) {
+			info.left += obj.offsetLeft;
+			info.top += obj.offsetTop;
+			obj = obj.offsetParent;
+		}
+
+		return info;
+	},
+	
+	Client: function(elem) {
+		// constructor for new simple upload client
+		this.handlers = {};
+		
+		// unique ID
+		this.id = ZeroClipboard.nextId++;
+		this.movieId = 'ZeroClipboardMovie_' + this.id;
+		
+		// register client with singleton to receive flash events
+		ZeroClipboard.register(this.id, this);
+		
+		// create movie
+		if (elem) this.glue(elem);
+	}
+};
+
+ZeroClipboard.Client.prototype = {
+	
+	id: 0, // unique ID for us
+	ready: false, // whether movie is ready to receive events or not
+	movie: null, // reference to movie object
+	clipText: '', // text to copy to clipboard
+	handCursorEnabled: true, // whether to show hand cursor, or default pointer cursor
+	cssEffects: true, // enable CSS mouse effects on dom container
+	handlers: null, // user event handlers
+	
+	glue: function(elem, appendElem, stylesToAdd) {
+		// glue to DOM element
+		// elem can be ID or actual DOM element object
+		this.domElement = ZeroClipboard.$(elem);
+		
+		// float just above object, or zIndex 99 if dom element isn't set
+		var zIndex = 99;
+		if (this.domElement.style.zIndex) {
+			zIndex = parseInt(this.domElement.style.zIndex, 10) + 1;
+		}
+		
+		if (typeof(appendElem) == 'string') {
+			appendElem = ZeroClipboard.$(appendElem);
+		}
+		else if (typeof(appendElem) == 'undefined') {
+			appendElem = document.getElementsByTagName('body')[0];
+		}
+		
+		// find X/Y position of domElement
+		var box = ZeroClipboard.getDOMObjectPosition(this.domElement, appendElem);
+		
+		// create floating DIV above element
+		this.div = document.createElement('div');
+		var style = this.div.style;
+		style.position = 'absolute';
+		style.left = '' + box.left + 'px';
+		style.top = '' + box.top + 'px';
+		style.width = '' + box.width + 'px';
+		style.height = '' + box.height + 'px';
+		style.zIndex = zIndex;
+
+		style.left = '0px';
+		style.top = '0px';
+		
+		if (typeof(stylesToAdd) == 'object') {
+			for (addedStyle in stylesToAdd) {
+				style[addedStyle] = stylesToAdd[addedStyle];
+			}
+		}
+		
+		// style.backgroundColor = '#f00'; // debug
+		
+		appendElem.appendChild(this.div);
+		
+		this.div.innerHTML = this.getHTML( box.width, box.height );
+	},
+	
+	getHTML: function(width, height) {
+		// return HTML for movie
+		var html = '';
+		var flashvars = 'id=' + this.id + 
+			'&width=' + width + 
+			'&height=' + height;
+			
+		if (navigator.userAgent.match(/MSIE/)) {
+			// IE gets an OBJECT tag
+			var protocol = location.href.match(/^https/i) ? 'https://' : 'http://';
+			html += '<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+protocol+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+width+'" height="'+height+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+flashvars+'"/><param name="wmode" value="transparent"/></object>';
+		}
+		else {
+			// all other browsers get an EMBED tag
+			html += '<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+width+'" height="'+height+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+flashvars+'" wmode="transparent" />';
+		}
+		return html;
+	},
+	
+	hide: function() {
+		// temporarily hide floater offscreen
+		if (this.div) {
+			this.div.style.left = '-2000px';
+		}
+	},
+	
+	show: function() {
+		// show ourselves after a call to hide()
+		this.reposition();
+	},
+	
+	destroy: function() {
+		// destroy control and floater
+		if (this.domElement && this.div) {
+			this.hide();
+			this.div.innerHTML = '';
+			
+			var body = document.getElementsByTagName('body')[0];
+			try { body.removeChild( this.div ); } catch(e) {;}
+			
+			this.domElement = null;
+			this.div = null;
+		}
+	},
+	
+	reposition: function(elem) {
+		// reposition our floating div, optionally to new container
+		// warning: container CANNOT change size, only position
+		if (elem) {
+			this.domElement = ZeroClipboard.$(elem);
+			if (!this.domElement) this.hide();
+		}
+
+		console.debug( this.domElement, this.div );
+		
+		if (this.domElement && this.div) {
+			var box = ZeroClipboard.getDOMObjectPosition(this.domElement);
+			console.debug( box );
+			var style = this.div.style;
+			style.left = '' + box.left + 'px';
+			style.top = '' + box.top + 'px';
+		}
+	},
+	
+	setText: function(newText) {
+		// set text to be copied to clipboard
+		this.clipText = newText;
+		if (this.ready) this.movie.setText(newText);
+	},
+	
+	addEventListener: function(eventName, func) {
+		// add user event listener for event
+		// event types: load, queueStart, fileStart, fileComplete, queueComplete, progress, error, cancel
+		eventName = eventName.toString().toLowerCase().replace(/^on/, '');
+		if (!this.handlers[eventName]) this.handlers[eventName] = [];
+		this.handlers[eventName].push(func);
+	},
+	
+	setHandCursor: function(enabled) {
+		// enable hand cursor (true), or default arrow cursor (false)
+		this.handCursorEnabled = enabled;
+		if (this.ready) this.movie.setHandCursor(enabled);
+	},
+	
+	setCSSEffects: function(enabled) {
+		// enable or disable CSS effects on DOM container
+		this.cssEffects = !!enabled;
+	},
+	
+	receiveEvent: function(eventName, args) {
+		// receive event from flash
+		eventName = eventName.toString().toLowerCase().replace(/^on/, '');
+				
+		// special behavior for certain events
+		switch (eventName) {
+			case 'load':
+				// movie claims it is ready, but in IE this isn't always the case...
+				// bug fix: Cannot extend EMBED DOM elements in Firefox, must use traditional function
+				this.movie = document.getElementById(this.movieId);
+				if (!this.movie) {
+					var self = this;
+					setTimeout( function() { self.receiveEvent('load', null); }, 1 );
+					return;
+				}
+				
+				// firefox on pc needs a "kick" in order to set these in certain cases
+				if (!this.ready && navigator.userAgent.match(/Firefox/) && navigator.userAgent.match(/Windows/)) {
+					var self = this;
+					setTimeout( function() { self.receiveEvent('load', null); }, 100 );
+					this.ready = true;
+					return;
+				}
+				
+				this.ready = true;
+				this.movie.setText( this.clipText );
+				this.movie.setHandCursor( this.handCursorEnabled );
+				break;
+			
+			case 'mouseover':
+				if (this.domElement && this.cssEffects) {
+					this.domElement.addClass('hover');
+					if (this.recoverActive) this.domElement.addClass('active');
+				}
+				break;
+			
+			case 'mouseout':
+				if (this.domElement && this.cssEffects) {
+					this.recoverActive = false;
+					if (this.domElement.hasClass('active')) {
+						this.domElement.removeClass('active');
+						this.recoverActive = true;
+					}
+					this.domElement.removeClass('hover');
+				}
+				break;
+			
+			case 'mousedown':
+				if (this.domElement && this.cssEffects) {
+					this.domElement.addClass('active');
+				}
+				break;
+			
+			case 'mouseup':
+				if (this.domElement && this.cssEffects) {
+					this.domElement.removeClass('active');
+					this.recoverActive = false;
+				}
+				break;
+		} // switch eventName
+		
+		if (this.handlers[eventName]) {
+			for (var idx = 0, len = this.handlers[eventName].length; idx < len; idx++) {
+				var func = this.handlers[eventName][idx];
+			
+				if (typeof(func) == 'function') {
+					// actual function reference
+					func(this, args);
+				}
+				else if ((typeof(func) == 'object') && (func.length == 2)) {
+					// PHP style object + method, i.e. [myObject, 'myMethod']
+					func[0][ func[1] ](this, args);
+				}
+				else if (typeof(func) == 'string') {
+					// name of function
+					window[func](this, args);
+				}
+			} // foreach event handler defined
+		} // user defined handler for event
+	}
+	
+};
diff --git a/solr/webapp/web/js/lib/console.js b/solr/webapp/web/js/lib/console.js
index ac540c6..73faabb 100644
--- a/solr/webapp/web/js/lib/console.js
+++ b/solr/webapp/web/js/lib/console.js
@@ -17,11 +17,11 @@
 
 if( 'undefined' === typeof( console ) )
 {
-    var console = {
-        log : function() {},
-        debug : function() {},
-        dump : function() {},
-        error : function() {},
-        warn : function(){}
-    };
+  var console = {
+    log : function() {},
+    debug : function() {},
+    dump : function() {},
+    error : function() {},
+    warn : function(){}
+  };
 }
\ No newline at end of file
diff --git a/solr/webapp/web/js/lib/highlight.js b/solr/webapp/web/js/lib/highlight.js
index 50e0253..d201d48 100644
--- a/solr/webapp/web/js/lib/highlight.js
+++ b/solr/webapp/web/js/lib/highlight.js
@@ -1,17 +1,27 @@
 /*
- Licensed to the Apache Software Foundation (ASF) under one or more
- contributor license agreements.  See the NOTICE file distributed with
- this work for additional information regarding copyright ownership.
- The ASF licenses this file to You under the Apache License, Version 2.0
- (the "License"); you may not use this file except in compliance with
- the License.  You may obtain a copy of the License at
+Copyright (c) 2006, Ivan Sagalaev
+All rights reserved.
+Redistribution and use in source and binary forms, with or without
+modification, are permitted provided that the following conditions are met:
 
-     http://www.apache.org/licenses/LICENSE-2.0
+    * Redistributions of source code must retain the above copyright
+      notice, this list of conditions and the following disclaimer.
+    * Redistributions in binary form must reproduce the above copyright
+      notice, this list of conditions and the following disclaimer in the
+      documentation and/or other materials provided with the distribution.
+    * Neither the name of highlight.js nor the names of its contributors 
+      may be used to endorse or promote products derived from this software 
+      without specific prior written permission.
 
- Unless required by applicable law or agreed to in writing, software
- distributed under the License is distributed on an "AS IS" BASIS,
- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
- See the License for the specific language governing permissions and
- limitations under the License.
+THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND ANY
+EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
+WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
+DISCLAIMED. IN NO EVENT SHALL THE REGENTS AND CONTRIBUTORS BE LIABLE FOR ANY
+DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
+(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
+LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
+ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
+(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
+SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
 var hljs=new function(){var p={};var a={};function n(c){return c.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;")}function k(s,r){if(!s){return false}for(var c=0;c<s.length;c++){if(s[c]==r){return true}}return false}function e(s,r,c){var t="m"+(s.cI?"i":"")+(c?"g":"");return new RegExp(r,t)}function j(r){for(var c=0;c<r.childNodes.length;c++){node=r.childNodes[c];if(node.nodeName=="CODE"){return node}if(!(node.nodeType==3&&node.nodeValue.match(/\s+/))){return null}}}function h(u,t){var s="";for(var r=0;r<u.childNodes.length;r++){if(u.childNodes[r].nodeType==3){var c=u.childNodes[r].nodeValue;if(t){c=c.replace(/\n/g,"")}s+=c}else{if(u.childNodes[r].nodeName=="BR"){s+="\n"}else{s+=h(u.childNodes[r])}}}s=s.replace(/\r/g,"\n");return s}function b(t){var r=t.className.split(/\s+/);r=r.concat(t.parentNode.className.split(/\s+/));for(var c=0;c<r.length;c++){var s=r[c].replace(/^language-/,"");if(p[s]||s=="no-highlight"){return s}}}function d(c){var r=[];(function(t,u){for(var s=0;s<t.childNodes.length;s++){if(t.childNodes[s].nodeType==3){u+=t.childNodes[s].nodeValue.length}else{if(t.childNodes[s].nodeName=="BR"){u+=1}else{r.push({event:"start",offset:u,node:t.childNodes[s]});u=arguments.callee(t.childNodes[s],u);r.push({event:"stop",offset:u,node:t.childNodes[s]})}}}return u})(c,0);return r}function m(z,A,y){var s=0;var x="";var u=[];function v(){if(z.length&&A.length){if(z[0].offset!=A[0].offset){return(z[0].offset<A[0].offset)?z:A}else{return(z[0].event=="start"&&A[0].event=="stop")?A:z}}else{return z.length?z:A}}function t(E){var F="<"+E.nodeName.toLowerCase();for(var C=0;C<E.attributes.length;C++){var D=E.attributes[C];F+=" "+D.nodeName.toLowerCase();if(D.nodeValue!=undefined){F+='="'+n(D.nodeValue)+'"'}}return F+">"}function B(C){return"</"+C.nodeName.toLowerCase()+">"}while(z.length||A.length){var w=v().splice(0,1)[0];x+=n(y.substr(s,w.offset-s));s=w.offset;if(w.event=="start"){x+=t(w.node);u.push(w.node)}else{if(w.event=="stop"){var r=u.length;do{r--;var c=u[r];x+=B(c)}while(c!=w.node);u.splice(r,1);while(r<u.length){x+=t(u[r]);r++}}}}x+=y.substr(s);return x}function g(K,E){function A(r,N){for(var M=0;M<N.sm.length;M++){if(N.sm[M].bR.test(r)){return N.sm[M]}}return null}function x(M,r){if(D[M].e&&D[M].eR.test(r)){return 1}if(D[M].eW){var N=x(M-1,r);return N?N+1:0}return 0}function y(r,M){return M.iR&&M.iR.test(r)}function B(P,O){var N=[];for(var M=0;M<P.sm.length;M++){N.push(P.sm[M].b)}var r=D.length-1;do{if(D[r].e){N.push(D[r].e)}r--}while(D[r+1].eW);if(P.i){N.push(P.i)}return e(O,"("+N.join("|")+")",true)}function t(N,M){var O=D[D.length-1];if(!O.t){O.t=B(O,I)}O.t.lastIndex=M;var r=O.t.exec(N);if(r){return[N.substr(M,r.index-M),r[0],false]}else{return[N.substr(M),"",true]}}function c(P,r){var M=I.cI?r[0].toLowerCase():r[0];for(var O in P.keywordGroups){if(!P.keywordGroups.hasOwnProperty(O)){continue}var N=P.keywordGroups[O].hasOwnProperty(M);if(N){return[O,N]}}return false}function G(N,Q){if(!Q.k||!Q.l){return n(N)}if(!Q.lR){var P="("+Q.l.join("|")+")";Q.lR=e(I,P,true)}var O="";var R=0;Q.lR.lastIndex=0;var M=Q.lR.exec(N);while(M){O+=n(N.substr(R,M.index-R));var r=c(Q,M);if(r){u+=r[1];O+='<span class="'+r[0]+'">'+n(M[0])+"</span>"}else{O+=n(M[0])}R=Q.lR.lastIndex;M=Q.lR.exec(N)}O+=n(N.substr(R,N.length-R));return O}function L(r,N){if(N.subLanguage&&a[N.subLanguage]){var M=g(N.subLanguage,r);u+=M.keyword_count;C+=M.r;return M.value}else{return G(r,N)}}function J(N,r){var M=N.nM?"":'<span class="'+N.displayClassName+'">';if(N.rB){s+=M;N.buffer=""}else{if(N.eB){s+=n(r)+M;N.buffer=""}else{s+=M;N.buffer=r}}D[D.length]=N}function F(M,O,R){var P=D[D.length-1];if(R){s+=L(P.buffer+M,P);return false}var S=A(O,P);if(S){s+=L(P.buffer+M,P);J(S,O);C+=S.r;return S.rB}var r=x(D.length-1,O);if(r){var T=P.nM?"":"</span>";if(P.rE){s+=L(P.buffer+M,P)+T}else{if(P.eE){s+=L(P.buffer+M,P)+T+n(O)}else{s+=L(P.buffer+M+O,P)+T}}while(r>1){T=D[D.length-2].nM?"":"</span>";s+=T;r--;D.length--}var Q=D[D.length-1];D.length--;D[D.length-1].buffer="";if(Q.starts){for(var N=0;N<I.m.length;N++){if(I.m[N].cN==Q.starts){J(I.m[N],"");break}}}return P.rE}if(y(O,P)){throw"Illegal"}}var I=p[K];var D=[I.dM];var C=0;var u=0;var s="";try{var w=0;I.dM.buffer="";do{var z=t(E,w);var v=F(z[0],z[1],z[2]);w+=z[0].length;if(!v){w+=z[1].length}}while(!z[2]);if(D.length>1){throw"Illegal"}return{language:K,r:C,keyword_count:u,value:s}}catch(H){if(H=="Illegal"){return{language:null,r:0,keyword_count:0,value:n(E)}}else{throw H}}}function i(){function r(y,x){if(y.compiled){return}if(y.b){y.bR=e(x,"^"+y.b)}if(y.e){y.eR=e(x,"^"+y.e)}if(y.i){y.iR=e(x,"^(?:"+y.i+")")}if(y.r==undefined){y.r=1}if(!y.displayClassName){y.displayClassName=y.cN}if(!y.cN){y.nM=true}for(var w in y.k){if(!y.k.hasOwnProperty(w)){continue}if(y.k[w] instanceof Object){y.keywordGroups=y.k}else{y.keywordGroups={keyword:y.k}}break}y.sm=[];if(y.c){for(var v=0;v<y.c.length;v++){if(y.c[v] instanceof Object){y.sm.push(y.c[v])}else{for(var u=0;u<x.m.length;u++){if(x.m[u].cN==y.c[v]){y.sm.push(x.m[u])}}}}}y.compiled=true;for(var v=0;v<y.sm.length;v++){r(y.sm[v],x)}}for(var t in p){if(!p.hasOwnProperty(t)){continue}var c=[p[t].dM].concat(p[t].m);for(var s=0;s<c.length;s++){r(c[s],p[t])}}}function f(){if(f.called){return}f.called=true;i();a=p}function q(v,A,r){f();var C=h(v,r);var t=b(v);if(t=="no-highlight"){return}if(t){var y=g(t,C)}else{var y={language:"",keyword_count:0,r:0,value:n(C)};var z=y;for(var B in a){if(!a.hasOwnProperty(B)){continue}var w=g(B,C);if(w.keyword_count+w.r>z.keyword_count+z.r){z=w}if(w.keyword_count+w.r>y.keyword_count+y.r){z=y;y=w}}}var u=v.className;if(!u.match(y.language)){u=u?(u+" "+y.language):y.language}var c=d(v);if(c.length){var s=document.createElement("pre");s.innerHTML=y.value;y.value=m(c,d(s),C)}if(A){y.value=y.value.replace(/^((<[^>]+>|\t)+)/gm,function(D,G,F,E){return G.replace(/\t/g,A)})}if(r){y.value=y.value.replace(/\n/g,"<br>")}if(/MSIE [678]/.test(navigator.userAgent)&&v.tagName=="CODE"&&v.parentNode.tagName=="PRE"){var s=v.parentNode;var x=document.createElement("div");x.innerHTML="<pre><code>"+y.value+"</code></pre>";v=x.firstChild.firstChild;x.firstChild.cN=s.cN;s.parentNode.replaceChild(x.firstChild,s)}else{v.innerHTML=y.value}v.className=u;v.dataset={};v.dataset.result={language:y.language,kw:y.keyword_count,re:y.r};if(z&&z.language){v.dataset.second_best={language:z.language,kw:z.keyword_count,re:z.r}}}function l(){if(l.called){return}l.called=true;f();if(arguments.length){for(var c=0;c<arguments.length;c++){if(p[arguments[c]]){a[arguments[c]]=p[arguments[c]]}}}var s=document.getElementsByTagName("pre");for(var c=0;c<s.length;c++){var r=j(s[c]);if(r){q(r,hljs.tabReplace)}}}function o(){var c=arguments;var r=function(){l.apply(null,c)};if(window.addEventListener){window.addEventListener("DOMContentLoaded",r,false);window.addEventListener("load",r,false)}else{if(window.attachEvent){window.attachEvent("onload",r)}else{window.onload=r}}}this.LANGUAGES=p;this.initHighlightingOnLoad=o;this.highlightBlock=q;this.initHighlighting=l;this.IMR="\\b|\\B";this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0x[A-Za-z0-9]+|\\d+(\\.\\d+)?)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:["escape"],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:["escape"],r:0};this.BE={cN:"escape",b:"\\\\.",e:this.IMR,nM:true,r:0};this.CLCM={cN:"comment",b:"//",e:"$",r:0};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NUMBER_MODE={cN:"number",b:this.NR,e:this.IMR,r:0};this.CNM={cN:"number",b:this.CNR,e:this.IMR,r:0};this.inherit=function(c,t){var s={};for(var r in c){s[r]=c[r]}if(t){for(var r in t){s[r]=t[r]}}return s}}();var initHighlightingOnLoad=hljs.initHighlightingOnLoad;(function(){var d="[A-Za-z0-9\\._:-]+";var k={cN:"pi",b:"<\\?",e:"\\?>",r:10};var i={cN:"doctype",b:"<!DOCTYPE",e:">",r:10};var j={cN:"comment",b:"<!--",e:"-->"};var g={cN:"tag",b:"</?",e:"/?>",c:["title","tag_internal"]};var e={cN:"title",b:d,e:hljs.IMR};var b={cN:"tag_internal",b:hljs.IMR,eW:true,nM:true,c:["attribute","value_container"],r:0};var f={cN:"attribute",b:d,e:hljs.IMR,r:0};var a={cN:"value_container",b:'="',rB:true,e:'"',nM:true,c:[{cN:"value",b:'"',eW:true}]};var c={cN:"value_container",b:"='",rB:true,e:"'",nM:true,c:[{cN:"value",b:"'",eW:true}]};hljs.LANGUAGES.xml={dM:{c:["pi","doctype","comment","cdata","tag"]},cI:true,m:[{cN:"cdata",b:"<\\!\\[CDATA\\[",e:"\\]\\]>",r:10},k,i,j,g,hljs.inherit(e,{r:1.75}),b,f,a,c]};var h={code:1,kbd:1,font:1,noscript:1,style:1,img:1,title:1,menu:1,tt:1,tr:1,param:1,li:1,tfoot:1,th:1,input:1,td:1,dl:1,blockquote:1,fieldset:1,big:1,dd:1,abbr:1,optgroup:1,dt:1,button:1,isindex:1,p:1,small:1,div:1,dir:1,em:1,frame:1,meta:1,sub:1,bdo:1,label:1,acronym:1,sup:1,body:1,basefont:1,base:1,br:1,address:1,strong:1,legend:1,ol:1,script:1,caption:1,s:1,col:1,h2:1,h3:1,h1:1,h6:1,h4:1,h5:1,table:1,select:1,noframes:1,span:1,area:1,dfn:1,strike:1,cite:1,thead:1,head:1,option:1,form:1,hr:1,"var":1,link:1,b:1,colgroup:1,ul:1,applet:1,del:1,iframe:1,pre:1,frameset:1,ins:1,tbody:1,html:1,samp:1,map:1,object:1,a:1,xmlns:1,center:1,textarea:1,i:1,q:1,u:1,section:1,nav:1,article:1,aside:1,hgroup:1,header:1,footer:1,figure:1,figurecaption:1,time:1,mark:1,wbr:1,embed:1,video:1,audio:1,source:1,canvas:1,datalist:1,keygen:1,output:1,progress:1,meter:1,details:1,summary:1,command:1};hljs.LANGUAGES.html={dM:{c:["comment","pi","doctype","vbscript","tag"]},cI:true,m:[{cN:"tag",b:"<style",e:">",l:[hljs.IR],k:{style:1},c:["tag_internal"],starts:"css"},{cN:"tag",b:"<script",e:">",l:[hljs.IR],k:{script:1},c:["tag_internal"],starts:"javascript"},{cN:"css",e:"</style>",rE:true,subLanguage:"css"},{cN:"javascript",e:"<\/script>",rE:true,subLanguage:"javascript"},{cN:"vbscript",b:"<%",e:"%>",subLanguage:"vbscript"},j,k,i,hljs.inherit(g),hljs.inherit(e,{l:[hljs.IR],k:h}),hljs.inherit(b),f,a,c,{cN:"value_container",b:"=",e:hljs.IMR,c:[{cN:"unquoted_value",displayClassName:"value",b:"[^\\s/>]+",e:hljs.IMR}]}]}})();
\ No newline at end of file
diff --git a/solr/webapp/web/js/lib/jquery.cookie.js b/solr/webapp/web/js/lib/jquery.cookie.js
new file mode 100644
index 0000000..6d5974a
--- /dev/null
+++ b/solr/webapp/web/js/lib/jquery.cookie.js
@@ -0,0 +1,47 @@
+/*!
+ * jQuery Cookie Plugin
+ * https://github.com/carhartl/jquery-cookie
+ *
+ * Copyright 2011, Klaus Hartl
+ * Dual licensed under the MIT or GPL Version 2 licenses.
+ * http://www.opensource.org/licenses/mit-license.php
+ * http://www.opensource.org/licenses/GPL-2.0
+ */
+(function($) {
+    $.cookie = function(key, value, options) {
+
+        // key and at least value given, set cookie...
+        if (arguments.length > 1 && (!/Object/.test(Object.prototype.toString.call(value)) || value === null || value === undefined)) {
+            options = $.extend({}, options);
+
+            if (value === null || value === undefined) {
+                options.expires = -1;
+            }
+
+            if (typeof options.expires === 'number') {
+                var days = options.expires, t = options.expires = new Date();
+                t.setDate(t.getDate() + days);
+            }
+
+            value = String(value);
+
+            return (document.cookie = [
+                encodeURIComponent(key), '=', options.raw ? value : encodeURIComponent(value),
+                options.expires ? '; expires=' + options.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE
+                options.path    ? '; path=' + options.path : '',
+                options.domain  ? '; domain=' + options.domain : '',
+                options.secure  ? '; secure' : ''
+            ].join(''));
+        }
+
+        // key and possibly options given, get cookie...
+        options = value || {};
+        var decode = options.raw ? function(s) { return s; } : decodeURIComponent;
+
+        var pairs = document.cookie.split('; ');
+        for (var i = 0, pair; pair = pairs[i] && pairs[i].split('='); i++) {
+            if (decode(pair[0]) === key) return decode(pair[1] || ''); // IE saves cookies with empty string as "c; ", e.g. without "=" as opposed to EOMB, thus pair[1] may be undefined
+        }
+        return null;
+    };
+})(jQuery);
diff --git a/solr/webapp/web/js/main.js b/solr/webapp/web/js/main.js
index acaf2bb..0f2c911 100644
--- a/solr/webapp/web/js/main.js
+++ b/solr/webapp/web/js/main.js
@@ -1,36 +1,54 @@
+/*
+ Licensed to the Apache Software Foundation (ASF) under one or more
+ contributor license agreements.  See the NOTICE file distributed with
+ this work for additional information regarding copyright ownership.
+ The ASF licenses this file to You under the Apache License, Version 2.0
+ (the "License"); you may not use this file except in compliance with
+ the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+*/
+
 require
 (
-	[
-		'lib/order!lib/console',
-		'lib/order!jquery',
-		'lib/order!lib/jquery.form',
-		'lib/order!lib/jquery.jstree',
-		'lib/order!lib/jquery.sammy',
-		'lib/order!lib/jquery.sparkline',
-		'lib/order!lib/jquery.timeago',
-		'lib/order!lib/highlight',
-		'lib/order!scripts/app',
+  [
+    'lib/order!lib/console',
+    'lib/order!jquery',
+    'lib/order!lib/jquery.cookie',
+    'lib/order!lib/jquery.form',
+    'lib/order!lib/jquery.jstree',
+    'lib/order!lib/jquery.sammy',
+    'lib/order!lib/jquery.sparkline',
+    'lib/order!lib/jquery.timeago',
+    'lib/order!lib/highlight',
+    'lib/order!lib/ZeroClipboard',
+    'lib/order!scripts/app',
 
-		'lib/order!scripts/analysis',
-		'lib/order!scripts/cloud',
-		'lib/order!scripts/cores',
-		'lib/order!scripts/dataimport',
-		'lib/order!scripts/file',
-		'lib/order!scripts/index',
-		'lib/order!scripts/java-properties',
-		'lib/order!scripts/logging',
-		'lib/order!scripts/ping',
-		'lib/order!scripts/plugins',
-		'lib/order!scripts/query',
-		'lib/order!scripts/replication',
-		'lib/order!scripts/schema-browser',
-		'lib/order!scripts/threads',
+    'lib/order!scripts/analysis',
+    'lib/order!scripts/cloud',
+    'lib/order!scripts/cores',
+    'lib/order!scripts/dataimport',
+    'lib/order!scripts/file',
+    'lib/order!scripts/index',
+    'lib/order!scripts/java-properties',
+    'lib/order!scripts/logging',
+    'lib/order!scripts/ping',
+    'lib/order!scripts/plugins',
+    'lib/order!scripts/query',
+    'lib/order!scripts/replication',
+    'lib/order!scripts/schema-browser',
+    'lib/order!scripts/threads',
 
-		'lib/order!scripts/dashboard'
-		
-	],
-	function( $ )
-	{
-		app.run();
-	}
+    'lib/order!scripts/dashboard'
+  ],
+  function( $ )
+  {
+    app.run();
+  }
 );
\ No newline at end of file
diff --git a/solr/webapp/web/js/scripts/analysis.js b/solr/webapp/web/js/scripts/analysis.js
index 2025ee6..5bcc112 100644
--- a/solr/webapp/web/js/scripts/analysis.js
+++ b/solr/webapp/web/js/scripts/analysis.js
@@ -1,420 +1,441 @@
+/*
+ Licensed to the Apache Software Foundation (ASF) under one or more
+ contributor license agreements.  See the NOTICE file distributed with
+ this work for additional information regarding copyright ownership.
+ The ASF licenses this file to You under the Apache License, Version 2.0
+ (the "License"); you may not use this file except in compliance with
+ the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+*/
+
 // #/:core/analysis
 sammy.get
 (
-    /^#\/([\w\d-]+)\/(analysis)$/,
-    function( context )
-    {
-        var core_basepath = this.active_core.attr( 'data-basepath' );
-        var content_element = $( '#content' );
+  /^#\/([\w\d-]+)\/(analysis)$/,
+  function( context )
+  {
+    var core_basepath = this.active_core.attr( 'data-basepath' );
+    var content_element = $( '#content' );
         
-        $.get
-        (
-            'tpl/analysis.html',
-            function( template )
-            {
-                content_element
-                    .html( template );
+    $.get
+    (
+      'tpl/analysis.html',
+      function( template )
+      {
+        content_element
+          .html( template );
                 
-                var analysis_element = $( '#analysis', content_element );
-                var analysis_form = $( 'form', analysis_element );
-                var analysis_result = $( '#analysis-result', analysis_element );
-                analysis_result.hide();
+        var analysis_element = $( '#analysis', content_element );
+        var analysis_form = $( 'form', analysis_element );
+        var analysis_result = $( '#analysis-result', analysis_element );
+        analysis_result.hide();
                 
-                $.ajax
-                (
-                    {
-                        url : core_basepath + '/admin/luke?wt=json&show=schema',
-                        dataType : 'json',
-                        context : $( '#type_or_name', analysis_form ),
-                        beforeSend : function( xhr, settings )
-                        {
-                            this
-                                .html( '<option value="">Loading ... </option>' )
-                                .addClass( 'loader' );
-                        },
-                        success : function( response, text_status, xhr )
-                        {
-                            var content = '';
-                            
-                            var fields = [];
-                            for( var field_name in response.schema.fields )
-                            {
-                                fields.push
-                                (
-                                    '<option value="fieldname=' + field_name + '">' + field_name + '</option>'
-                                );
-                            }
-                            if( 0 !== fields.length )
-                            {
-                                content += '<optgroup label="Fields">' + "\n";
-                                content += fields.sort().join( "\n" ) + "\n";
-                                content += '</optgroup>' + "\n";
-                            }
+        $.ajax
+        (
+          {
+            url : core_basepath + '/admin/luke?wt=json&show=schema',
+            dataType : 'json',
+            context : $( '#type_or_name', analysis_form ),
+            beforeSend : function( xhr, settings )
+            {
+              this
+                .html( '<option value="">Loading ... </option>' )
+                .addClass( 'loader' );
+            },
+            success : function( response, text_status, xhr )
+            {
+              var content = '';
                             
-                            var types = [];
-                            for( var type_name in response.schema.types )
-                            {
-                                types.push
-                                (
-                                    '<option value="fieldtype=' + type_name + '">' + type_name + '</option>'
-                                );
-                            }
-                            if( 0 !== types.length )
-                            {
-                                content += '<optgroup label="Types">' + "\n";
-                                content += types.sort().join( "\n" ) + "\n";
-                                content += '</optgroup>' + "\n";
-                            }
+              var fields = [];
+              for( var field_name in response.schema.fields )
+              {
+                fields.push
+                (
+                  '<option value="fieldname=' + field_name + '">' + field_name + '</option>'
+                );
+              }
+              if( 0 !== fields.length )
+              {
+                content += '<optgroup label="Fields">' + "\n";
+                content += fields.sort().join( "\n" ) + "\n";
+                content += '</optgroup>' + "\n";
+              }
                             
-                            this
-                                .html( content );
-
-                            $( 'option[value="fieldname\=' + response.schema.defaultSearchField + '"]', this )
-                                .attr( 'selected', 'selected' );
-                        },
-                        error : function( xhr, text_status, error_thrown)
-                        {
-                        },
-                        complete : function( xhr, text_status )
-                        {
-                            this
-                                .removeClass( 'loader' );
-                        }
-                    }
+              var types = [];
+              for( var type_name in response.schema.types )
+              {
+                types.push
+                (
+                  '<option value="fieldtype=' + type_name + '">' + type_name + '</option>'
                 );
+              }
+              if( 0 !== types.length )
+              {
+                content += '<optgroup label="Types">' + "\n";
+                content += types.sort().join( "\n" ) + "\n";
+                content += '</optgroup>' + "\n";
+              }
+                            
+              this
+                .html( content );
+
+              $( 'option[value="fieldname\=' + response.schema.defaultSearchField + '"]', this )
+                .attr( 'selected', 'selected' );
+            },
+            error : function( xhr, text_status, error_thrown)
+            {
+            },
+            complete : function( xhr, text_status )
+            {
+              this
+                .removeClass( 'loader' );
+            }
+          }
+        );
                         
-                $( '.analysis-error .head a', analysis_element )
-                    .die( 'click' )
-                    .live
-                    (
-                        'click',
-                        function( event )
-                        {
-                            $( this ).parents( '.analysis-error' )
-                                .toggleClass( 'expanded' );
-                        }
-                    );
+        $( '.analysis-error .head a', analysis_element )
+          .die( 'click' )
+          .live
+          (
+            'click',
+            function( event )
+            {
+              $( this ).parents( '.analysis-error' )
+                .toggleClass( 'expanded' );
+            }
+          );
                         
-                $( '.verbose_output a', analysis_element )
-                    .die( 'click' )
-                    .live
-                    (
-                        'click',
-                        function( event )
-                        {
-                            $( this ).parent()
-                                .toggleClass( 'active' );
+        $( '.verbose_output a', analysis_element )
+          .die( 'click' )
+          .live
+          (
+            'click',
+            function( event )
+            {
+              $( this ).parent()
+                .toggleClass( 'active' );
                             
-                            analysis_result
-                                .toggleClass( 'verbose_output' );
+              analysis_result
+                .toggleClass( 'verbose_output' );
                             
-                            check_empty_spacer();
-                        }
-                    );
+              check_empty_spacer();
+            }
+          );
                 
-                var check_empty_spacer = function()
-                {
-                    var spacer_holder = $( 'td.part.data.spacer .holder', analysis_result );
+        var check_empty_spacer = function()
+        {
+          var spacer_holder = $( 'td.part.data.spacer .holder', analysis_result );
 
-                    if( 0 === spacer_holder.size() )
-                    {
-                        return false;
-                    }
+          if( 0 === spacer_holder.size() )
+          {
+            return false;
+          }
 
-                    var verbose_output = analysis_result.hasClass( 'verbose_output' );
+          var verbose_output = analysis_result.hasClass( 'verbose_output' );
 
-                    spacer_holder
-                        .each
-                        (
-                            function( index, element )
-                            {
-                                element = $( element );
-
-                                if( verbose_output )
-                                {
-                                    var cell = element.parent();
-                                    element.height( cell.height() );
-                                }
-                                else
-                                {
-                                    element.removeAttr( 'style' );
-                                }
-                            }
-                        );
+          spacer_holder
+            .each
+            (
+              function( index, element )
+              {
+                element = $( element );
+
+                if( verbose_output )
+                {
+                  var cell = element.parent();
+                  element.height( cell.height() );
+                }
+                else
+                {
+                  element.removeAttr( 'style' );
                 }
+              }
+            );
+        }
 
-                var button = $( 'button', analysis_form )
+        var button = $( 'button', analysis_form )
                 
-                analysis_form
-                    .ajaxForm
-                    (
-                        {
-                            url : core_basepath + '/analysis/field?wt=json',
-                            dataType : 'json',
-                            beforeSubmit : function( array, form, options )
-                            {
-                                loader.show( button );
-                                button.attr( 'disabled', true );
+        analysis_form
+          .ajaxForm
+          (
+            {
+              url : core_basepath + '/analysis/field?wt=json',
+              dataType : 'json',
+              beforeSubmit : function( array, form, options )
+              {
+                loader.show( button );
+                button.attr( 'disabled', true );
                                 
-                                array.push( { name: 'analysis.showmatch', value: 'true' } );
+                array.push( { name: 'analysis.showmatch', value: 'true' } );
                                 
-                                var type_or_name = $( '#type_or_name', form ).val().split( '=' );
+                var type_or_name = $( '#type_or_name', form ).val().split( '=' );
                                 
-                                array.push( { name: 'analysis.' + type_or_name[0], value: type_or_name[1] } );
-                            },
-                            success : function( response, status_text, xhr, form )
-                            {
-                                $( '.analysis-error', analysis_element )
-                                    .hide();
+                array.push( { name: 'analysis.' + type_or_name[0], value: type_or_name[1] } );
+              },
+              success : function( response, status_text, xhr, form )
+              {
+                $( '.analysis-error', analysis_element )
+                  .hide();
                                 
-                                analysis_result
-                                    .empty()
-                                    .show();
+                analysis_result
+                  .empty()
+                  .show();
                                 
-                                for( var name in response.analysis.field_names )
-                                {
-                                    build_analysis_table( 'name', name, response.analysis.field_names[name] );
-                                }
+                for( var name in response.analysis.field_names )
+                {
+                  build_analysis_table( 'name', name, response.analysis.field_names[name] );
+                }
                                 
-                                for( var name in response.analysis.field_types )
-                                {
-                                    build_analysis_table( 'type', name, response.analysis.field_types[name] );
-                                }
-
-                                check_empty_spacer();
-                            },
-                            error : function( xhr, text_status, error_thrown )
-                            {
-                                analysis_result
-                                    .empty()
-                                    .hide();
-
-                                if( 404 === xhr.status )
-                                {
-                                    $( '#analysis-handler-missing', analysis_element )
-                                        .show();
-                                }
-                                else
-                                {
-                                    var error_message = error_thrown.match( /^(.+Exception):\s+(.*)$/ );
-
-                                    $( '#analysis-error', analysis_element )
-                                        .show();
-
-                                    $( '#analysis-error .head a span', analysis_element )
-                                        .text( error_message[1] );
-
-                                    $( '#analysis-error .body', analysis_element )
-                                        .text( error_message[2].replace( /(\s+at\s+)/g, " at\n" ) );
-                                }
-                            },
-                            complete : function()
-                            {
-                                loader.hide( $( 'button', analysis_form ) );
-                                button.removeAttr( 'disabled' );
-                            }
-                        }
-                    );
+                for( var name in response.analysis.field_types )
+                {
+                  build_analysis_table( 'type', name, response.analysis.field_types[name] );
+                }
 
-                    var generate_class_name = function( type )
-                    {
-                        var classes = [type];
-                        if( 'text' !== type )
-                        {
-                            classes.push( 'verbose_output' );
-                        }
-                        return classes.join( ' ' );
-                    }
+                check_empty_spacer();
+              },
+              error : function( xhr, text_status, error_thrown )
+              {
+                analysis_result
+                  .empty()
+                  .hide();
+
+                if( 404 === xhr.status )
+                {
+                  $( '#analysis-handler-missing', analysis_element )
+                    .show();
+                }
+                else
+                {
+                  var error_message = error_thrown.match( /^(.+Exception):\s+(.*)$/ );
+
+                  $( '#analysis-error', analysis_element )
+                    .show();
+
+                  if( error_message )
+                  {
+                    $( '#analysis-error .head a span', analysis_element )
+                      .text( error_message[1] );
+
+                    $( '#analysis-error .body', analysis_element )
+                      .text( error_message[2].replace( /(\s+at\s+)/g, " at\n" ) );
+                  }
+                  else
+                  {
+                    $( '#analysis-error .head a span', analysis_element )
+                      .text( error_thrown );
+                  }
+                }
+              },
+              complete : function()
+              {
+                loader.hide( $( 'button', analysis_form ) );
+                button.removeAttr( 'disabled' );
+              }
+            }
+          );
+
+          var generate_class_name = function( type )
+          {
+            var classes = [type];
+            if( 'text' !== type )
+            {
+              classes.push( 'verbose_output' );
+            }
+            return classes.join( ' ' );
+          }
                     
-                    var build_analysis_table = function( field_or_name, name, analysis_data )
-                    {        
-                        for( var type in analysis_data )
-                        {
-                            var type_length = analysis_data[type].length;
-                            if( 0 !== type_length )
-                            {
-                                var global_elements_count = 0;
-                                for( var i = 0; i < analysis_data[type].length; i += 2 )
-                                {
-                                    if( 'string' === typeof analysis_data[type][i+1] )
-                                    {
-                                        analysis_data[type][i+1] = [{ 'text': analysis_data[type][i+1] }]
-                                    }
-                                    global_elements_count = Math.max( global_elements_count,
-                                                                      analysis_data[type][i+1].length );
-                                }
-
-                                var content = '<div class="' + type + '">' + "\n";
-                                content += '<table border="0" cellspacing="0" cellpadding="0">' + "\n";
+          var build_analysis_table = function( field_or_name, name, analysis_data )
+          {        
+            for( var type in analysis_data )
+            {
+              var type_length = analysis_data[type].length;
+              if( 0 !== type_length )
+              {
+                var global_elements_count = 0;
+                for( var i = 0; i < analysis_data[type].length; i += 2 )
+                {
+                  if( 'string' === typeof analysis_data[type][i+1] )
+                  {
+                    analysis_data[type][i+1] = [{ 'text': analysis_data[type][i+1] }]
+                  }
+                  global_elements_count = Math.max( global_elements_count, analysis_data[type][i+1].length );
+                }
+
+                var content = '<div class="' + type + '">' + "\n";
+                content += '<table border="0" cellspacing="0" cellpadding="0">' + "\n";
                                 
-                                for( var i = 0; i < analysis_data[type].length; i += 2 )
-                                {
-                                    var colspan = 1;
-                                    var elements = analysis_data[type][i+1];
-                                    var elements_count = global_elements_count;
+                for( var i = 0; i < analysis_data[type].length; i += 2 )
+                {
+                  var colspan = 1;
+                  var elements = analysis_data[type][i+1];
+                  var elements_count = global_elements_count;
                                     
-                                    if( !elements[0].positionHistory )
-                                    {
-                                        colspan = elements_count;
-                                        elements_count = 1;
-                                    }
-
-                                    var legend = [];
-                                    for( var key in elements[0] )
-                                    {
-                                        var key_parts = key.split( '#' );
-                                        var used_key = key_parts.pop();
-                                        var short_key = used_key;
-
-                                        if( 1 === key_parts.length )
-                                        {
-                                            used_key = '<abbr title="' + key + '">' + used_key + '</abbr>';
-                                        }
-
-                                        if( 'positionHistory' === short_key || 'match' === short_key )
-                                        {
-                                            continue;
-                                        }
-
-                                        legend.push
-                                        (
-                                            '<tr class="' + generate_class_name( short_key ) + '">' +
-                                            '<td>' + used_key + '</td>' +
-                                            '</tr>'
-                                        );
-                                    }
-
-                                    content += '<tbody>' + "\n";
-                                    content += '<tr class="step">' + "\n";
-
-                                        // analyzer
-                                        var analyzer_name = analysis_data[type][i]
+                  if( !elements[0].positionHistory )
+                  {
+                    colspan = elements_count;
+                    elements_count = 1;
+                  }
+
+                  var legend = [];
+                  for( var key in elements[0] )
+                  {
+                    var key_parts = key.split( '#' );
+                    var used_key = key_parts.pop();
+                    var short_key = used_key;
+
+                    if( 1 === key_parts.length )
+                    {
+                      used_key = '<abbr title="' + key + '">' + used_key + '</abbr>';
+                    }
+
+                    if( 'positionHistory' === short_key || 'match' === short_key )
+                    {
+                      continue;
+                    }
+
+                    legend.push
+                    (
+                      '<tr class="' + generate_class_name( short_key ) + '">' +
+                      '<td>' + used_key + '</td>' +
+                      '</tr>'
+                    );
+                  }
+
+                  content += '<tbody>' + "\n";
+                  content += '<tr class="step">' + "\n";
+
+                    // analyzer
+                    var analyzer_name = analysis_data[type][i]
                                                                 .replace( /(\$1)+$/g, '' );
 
-                                        var analyzer_short = -1 !== analyzer_name.indexOf( '$' )
-                                                           ? analyzer_name.split( '$' )[1]
-                                                           : analyzer_name.split( '.' ).pop();
-                                        analyzer_short = analyzer_short.match( /[A-Z]/g ).join( '' );
-
-                                        content += '<td class="part analyzer"><div>' + "\n";
-                                        content += '<abbr title="' + analysis_data[type][i] + '">' + "\n";
-                                        content += analyzer_short + '</abbr></div></td>' + "\n";
-
-                                        // legend
-                                        content += '<td class="part legend"><div class="holder">' + "\n";
-                                        content += '<table border="0" cellspacing="0" cellpadding="0">' + "\n";
-                                        content += '<tr><td>' + "\n";
-                                        content += '<table border="0" cellspacing="0" cellpadding="0">' + "\n";
-                                        content += legend.join( "\n" ) + "\n";
-                                        content += '</table></td></tr></table></td>' + "\n";
-
-                                        // data
-                                        var cell_content = '<td class="part data spacer" '
-                                                         + '    colspan="' + colspan + '">'
-                                                         + '<div class="holder">&nbsp;</div>'
-                                                         + '</td>';
-                                        var cells = new Array( elements_count + 1 ).join( cell_content );
-                                        content += cells + "\n";
-
-                                    content += '</tr>' + "\n";
-                                    content += '</tbody>' + "\n";
-                                }
-                                content += '</table>' + "\n";
-                                content += '</div>' + "\n";
-
-                                $( '.' + type, analysis_result )
-                                    .remove();
-
-                                analysis_result
-                                    .append( content );
+                    var analyzer_short = -1 !== analyzer_name.indexOf( '$' )
+                                       ? analyzer_name.split( '$' )[1]
+                                       : analyzer_name.split( '.' ).pop();
+                    analyzer_short = analyzer_short.match( /[A-Z]/g ).join( '' );
+
+                    content += '<td class="part analyzer"><div>' + "\n";
+                    content += '<abbr title="' + analysis_data[type][i] + '">' + "\n";
+                    content += analyzer_short + '</abbr></div></td>' + "\n";
+
+                    // legend
+                    content += '<td class="part legend"><div class="holder">' + "\n";
+                    content += '<table border="0" cellspacing="0" cellpadding="0">' + "\n";
+                    content += '<tr><td>' + "\n";
+                    content += '<table border="0" cellspacing="0" cellpadding="0">' + "\n";
+                    content += legend.join( "\n" ) + "\n";
+                    content += '</table></td></tr></table></td>' + "\n";
+
+                    // data
+                    var cell_content = '<td class="part data spacer" colspan="' + colspan + '"><div class="holder">&nbsp;</div></td>';
+                    var cells = new Array( elements_count + 1 ).join( cell_content );
+                    content += cells + "\n";
+
+                  content += '</tr>' + "\n";
+                  content += '</tbody>' + "\n";
+                }
+                content += '</table>' + "\n";
+                content += '</div>' + "\n";
+
+                $( '.' + type, analysis_result )
+                  .remove();
+
+                analysis_result
+                  .append( content );
                                 
-                                var analysis_result_type = $( '.' + type, analysis_result );
-
-                                for( var i = 0; i < analysis_data[type].length; i += 2 )
-                                {
-                                    for( var j = 0; j < analysis_data[type][i+1].length; j += 1 )
-                                    {
-                                        var pos = analysis_data[type][i+1][j].positionHistory
-                                                ? analysis_data[type][i+1][j].positionHistory[0]
-                                                : 1;
-                                        var selector = 'tr.step:eq(' + ( i / 2 ) +') '
-                                                     + 'td.data:eq(' + ( pos - 1 ) + ') '
-                                                     + '.holder';
-                                        var cell = $( selector, analysis_result_type );
-
-                                        cell.parent()
-                                            .removeClass( 'spacer' );
-
-                                        var table = $( 'table tr.details', cell );
-                                        if( 0 === table.size() )
-                                        {
-                                            cell
-                                                .html
-                                                (
-                                                    '<table border="0" cellspacing="0" cellpadding="0">' + 
-                                                    '<tr class="details"></tr></table>'
-                                                );
-                                            var table = $( 'table tr.details', cell );
-                                        }
-
-                                        var tokens = [];
-                                        for( var key in analysis_data[type][i+1][j] )
-                                        {
-                                            var short_key = key.split( '#' ).pop();
+                var analysis_result_type = $( '.' + type, analysis_result );
+
+                for( var i = 0; i < analysis_data[type].length; i += 2 )
+                {
+                  for( var j = 0; j < analysis_data[type][i+1].length; j += 1 )
+                  {
+                    var pos = analysis_data[type][i+1][j].positionHistory
+                        ? analysis_data[type][i+1][j].positionHistory[0]
+                        : 1;
+                    var selector = 'tr.step:eq(' + ( i / 2 ) +') '
+                                 + 'td.data:eq(' + ( pos - 1 ) + ') '
+                                 + '.holder';
+                    var cell = $( selector, analysis_result_type );
+
+                    cell.parent()
+                      .removeClass( 'spacer' );
+
+                    var table = $( 'table tr.details', cell );
+                    if( 0 === table.size() )
+                    {
+                      cell
+                        .html
+                        (
+                          '<table border="0" cellspacing="0" cellpadding="0">' + 
+                          '<tr class="details"></tr></table>'
+                        );
+                      var table = $( 'table tr.details', cell );
+                    }
+
+                    var tokens = [];
+                    for( var key in analysis_data[type][i+1][j] )
+                    {
+                      var short_key = key.split( '#' ).pop();
                                             
-                                            if( 'positionHistory' === short_key || 'match' === short_key )
-                                            {
-                                                continue;
-                                            }
-
-                                            var classes = [];
-                                            classes.push( generate_class_name( short_key ) );
-
-                                            var data = analysis_data[type][i+1][j][key];
-                                            if( 'object' === typeof data && data instanceof Array )
-                                            {
-                                                data = data.join( ' ' );
-                                            }
-                                            if( 'string' === typeof data )
-                                            {
-                                                data = data.esc();
-                                            }
-
-                                            if( null === data || 0 === data.length )
-                                            {
-                                                classes.push( 'empty' );
-                                                data = '&empty;';
-                                            }
-
-                                            if( analysis_data[type][i+1][j].match && 
-                                                ( 'text' === short_key || 'raw_bytes' === short_key ) )
-                                            {
-                                                classes.push( 'match' );
-                                            }
-
-                                            tokens.push
-                                            (
-                                                '<tr class="' + classes.join( ' ' ) + '">' +
-                                                '<td>' + data + '</td>' +
-                                                '</tr>'
-                                            );
-                                        }
-                                        table
-                                            .append
-                                            (
-                                                '<td class="details">' +
-                                                '<table border="0" cellspacing="0" cellpadding="0">' +
-                                                tokens.join( "\n" ) +
-                                                '</table></td>'
-                                            );
-                                    }
-                                }
-                
-                            }
-                        }
+                      if( 'positionHistory' === short_key || 'match' === short_key )
+                      {
+                        continue;
+                      }
+
+                      var classes = [];
+                      classes.push( generate_class_name( short_key ) );
+
+                      var data = analysis_data[type][i+1][j][key];
+                      if( 'object' === typeof data && data instanceof Array )
+                      {
+                        data = data.join( ' ' );
+                      }
+                      if( 'string' === typeof data )
+                      {
+                        data = data.esc();
+                      }
+
+                      if( null === data || 0 === data.length )
+                      {
+                        classes.push( 'empty' );
+                        data = '&empty;';
+                      }
+
+                      if( analysis_data[type][i+1][j].match && 
+                        ( 'text' === short_key || 'raw_bytes' === short_key ) )
+                      {
+                        classes.push( 'match' );
+                      }
+
+                      tokens.push
+                      (
+                        '<tr class="' + classes.join( ' ' ) + '">' +
+                        '<td>' + data + '</td>' +
+                        '</tr>'
+                      );
                     }
-                    
+                    table
+                      .append
+                      (
+                        '<td class="details">' +
+                        '<table border="0" cellspacing="0" cellpadding="0">' +
+                        tokens.join( "\n" ) +
+                        '</table></td>'
+                      );
+                  }
+                }
+                
+              }
             }
-        );
-    }
+          }
+                    
+      }
+    );
+  }
 );
diff --git a/solr/webapp/web/js/scripts/app.js b/solr/webapp/web/js/scripts/app.js
index 5c53cf1..844e95f 100644
--- a/solr/webapp/web/js/scripts/app.js
+++ b/solr/webapp/web/js/scripts/app.js
@@ -1,263 +1,308 @@
+/*
+ Licensed to the Apache Software Foundation (ASF) under one or more
+ contributor license agreements.  See the NOTICE file distributed with
+ this work for additional information regarding copyright ownership.
+ The ASF licenses this file to You under the Apache License, Version 2.0
+ (the "License"); you may not use this file except in compliance with
+ the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+*/
+
 var loader = {
     
-    show : function( element )
-    {
-        $( element )
-            .addClass( 'loader' );
-    },
+  show : function( element )
+  {
+    $( element )
+      .addClass( 'loader' );
+  },
     
-    hide : function( element )
-    {
-        $( element )
-            .removeClass( 'loader' );
-    }
+  hide : function( element )
+  {
+    $( element )
+      .removeClass( 'loader' );
+  }
     
 };
 
 Number.prototype.esc = function()
 {
-    return new String( this ).esc();
+  return new String( this ).esc();
 }
 
 String.prototype.esc = function()
 {
-    return this.replace( /</g, '&lt;' ).replace( />/g, '&gt;' );
+  return this.replace( /</g, '&lt;' ).replace( />/g, '&gt;' );
+}
+
+SolrDate = function( date )
+{
+  // ["Sat Mar 03 11:00:00 CET 2012", "Sat", "Mar", "03", "11:00:00", "CET", "2012"]
+  var parts = date.match( /^(\w+)\s+(\w+)\s+(\d+)\s+(\d+\:\d+\:\d+)\s+(\w+)\s+(\d+)$/ );
+    
+  // "Sat Mar 03 2012 10:37:33"
+  return new Date( parts[1] + ' ' + parts[2] + ' ' + parts[3] + ' ' + parts[6] + ' ' + parts[4] );
 }
 
 var sammy = $.sammy
 (
-    function()
-    {
-        this.bind
-        (
-            'run',
-            function( event, config )
-            {
-                if( 0 === config.start_url.length )
-                {
-                    location.href = '#/';
-                    return false;
-                }
-            }
-        );
+  function()
+  {
+    this.bind
+    (
+      'run',
+      function( event, config )
+      {
+        if( 0 === config.start_url.length )
+        {
+          location.href = '#/';
+          return false;
+        }
+      }
+    );
         
-        // activate_core
-        this.before
-        (
-            {},
-            function( context )
-            {
-                $( 'li[id].active', app.menu_element )
-                    .removeClass( 'active' );
+    // activate_core
+    this.before
+    (
+      {},
+      function( context )
+      {
+        $( 'li[id].active', app.menu_element )
+          .removeClass( 'active' );
                 
-                $( 'ul li.active', app.menu_element )
-                    .removeClass( 'active' );
+        $( 'ul li.active', app.menu_element )
+          .removeClass( 'active' );
 
-                if( this.params.splat )
-                {
-                    var active_element = $( '#' + this.params.splat[0], app.menu_element );
+        if( this.params.splat )
+        {
+          var active_element = $( '#' + this.params.splat[0], app.menu_element );
                     
-                    if( 0 === active_element.size() )
-                    {
-                        var first_core = $( 'li[data-basepath]', app.menu_element ).attr( 'id' );
-                        var first_core_url = context.path.replace( new RegExp( '/' + this.params.splat[0] + '/' ), '/' + first_core + '/' );
-
-                        context.redirect( first_core_url );
-                        return false;
-                    }
-
-                    active_element
-                        .addClass( 'active' );
-
-                    if( this.params.splat[1] )
-                    {
-                        $( '.' + this.params.splat[1], active_element )
-                            .addClass( 'active' );
-                    }
-
-                    if( !active_element.hasClass( 'global' ) )
-                    {
-                        this.active_core = active_element;
-                    }
-                }
-            }
-        );
-    }
+          if( 0 === active_element.size() )
+          {
+            var first_core = $( 'li[data-basepath]', app.menu_element ).attr( 'id' );
+            var first_core_url = context.path.replace( new RegExp( '/' + this.params.splat[0] + '/' ), '/' + first_core + '/' );
+
+            context.redirect( first_core_url );
+            return false;
+          }
+
+          active_element
+            .addClass( 'active' );
+
+          if( this.params.splat[1] )
+          {
+            $( '.' + this.params.splat[1], active_element )
+              .addClass( 'active' );
+          }
+
+          if( !active_element.hasClass( 'global' ) )
+          {
+            this.active_core = active_element;
+          }
+        }
+      }
+    );
+  }
 );
 
 var solr_admin = function( app_config )
 {
 	self = this,
 
-    menu_element = null,
+  menu_element = null,
 
-    is_multicore = null,
-    cores_data = null,
-    active_core = null,
-    environment_basepath = null,
+  is_multicore = null,
+  cores_data = null,
+  active_core = null,
+  environment_basepath = null,
     
-    config = app_config,
-    params = null,
-    dashboard_values = null,
-    schema_browser_data = null,
+  config = app_config,
+  params = null,
+  dashboard_values = null,
+  schema_browser_data = null,
 
-    plugin_data = null,
+  plugin_data = null,
     
-    this.menu_element = $( '#menu ul' );
-    this.config = config;
+  this.menu_element = $( '#menu ul' );
+  this.config = config;
+
+  this.run = function()
+  {
+    $.ajax
+    (
+      {
+        url : config.solr_path + config.core_admin_path + '?wt=json',
+        dataType : 'json',
+        beforeSend : function( arr, form, options )
+        {               
+          $( '#content' )
+            .html( '<div id="index"><div class="loader">Loading ...</div></div>' );
+        },
+        success : function( response )
+        {
+          self.cores_data = response.status;
+          is_multicore = 'undefined' === typeof response.status[''];
+
+          if( is_multicore )
+          {
+            self.menu_element
+              .addClass( 'multicore' );
+
+            $( '#cores', menu_element )
+              .show();
+          }
+          else
+          {
+            self.menu_element
+              .addClass( 'singlecore' );
+          }
+
+          for( var core_name in response.status )
+          {
+            var core_path = config.solr_path + '/' + core_name;
+
+            if( !core_name )
+            {
+              core_name = 'singlecore';
+              core_path = config.solr_path
+            }
 
-    this.run = function()
-    {
-        $.ajax
-        (
+            if( !environment_basepath )
             {
-                url : config.solr_path + config.core_admin_path + '?wt=json',
-                dataType : 'json',
-                beforeSend : function( arr, form, options )
-                {               
-                    $( '#content' )
-                        .html( '<div id="index"><div class="loader">Loading ...</div></div>' );
-                },
-                success : function( response )
+              environment_basepath = core_path;
+            }
+
+            var core_tpl = '<li id="' + core_name + '" data-basepath="' + core_path + '">' + "\n"
+                         + '  <p><a href="#/' + core_name + '">' + core_name + '</a></p>' + "\n"
+                         + '  <ul>' + "\n"
+
+                         + '    <li class="ping"><a rel="' + core_path + '/admin/ping"><span>Ping</span></a></li>' + "\n"
+                         + '    <li class="query"><a href="#/' + core_name + '/query"><span>Query</span></a></li>' + "\n"
+                         + '    <li class="schema"><a href="#/' + core_name + '/schema"><span>Schema</span></a></li>' + "\n"
+                         + '    <li class="config"><a href="#/' + core_name + '/config"><span>Config</span></a></li>' + "\n"
+                         + '    <li class="replication"><a href="#/' + core_name + '/replication"><span>Replication</span></a></li>' + "\n"
+                         + '    <li class="analysis"><a href="#/' + core_name + '/analysis"><span>Analysis</span></a></li>' + "\n"
+                         + '    <li class="schema-browser"><a href="#/' + core_name + '/schema-browser"><span>Schema Browser</span></a></li>' + "\n"
+                         + '    <li class="plugins"><a href="#/' + core_name + '/plugins"><span>Plugins</span></a></li>' + "\n"
+                         + '    <li class="dataimport"><a href="#/' + core_name + '/dataimport"><span>Dataimport</span></a></li>' + "\n"
+
+                         + '    </ul>' + "\n"
+                         + '</li>';
+
+            self.menu_element
+              .append( core_tpl );
+          }
+
+          $.ajax
+          (
+            {
+              url : environment_basepath + '/admin/system?wt=json',
+              dataType : 'json',
+              beforeSend : function( arr, form, options )
+              {
+              },
+              success : function( response )
+              {
+                self.dashboard_values = response;
+
+                var environment_args = null;
+                var cloud_args = null;
+
+                if( response.jvm && response.jvm.jmx && response.jvm.jmx.commandLineArgs )
                 {
-                    self.cores_data = response.status;
-                    is_multicore = 'undefined' === typeof response.status[''];
-
-                    if( is_multicore )
-                    {
-                        self.menu_element
-                            .addClass( 'multicore' );
-
-                        $( '#cores', menu_element )
-                            .show();
-                    }
-                    else
-                    {
-                        self.menu_element
-                            .addClass( 'singlecore' );
-                    }
-
-                    for( var core_name in response.status )
-                    {
-                        var core_path = config.solr_path + '/' + core_name;
-
-                        if( !core_name )
-                        {
-                            core_name = 'singlecore';
-                            core_path = config.solr_path
-                        }
-
-                        if( !environment_basepath )
-                        {
-                            environment_basepath = core_path;
-                        }
-
-                        var core_tpl = '<li id="' + core_name + '" data-basepath="' + core_path + '">' + "\n"
-                                     + '    <p><a href="#/' + core_name + '">' + core_name + '</a></p>' + "\n"
-                                     + '    <ul>' + "\n"
-
-                                     + '        <li class="ping"><a rel="' + core_path + '/admin/ping"><span>Ping</span></a></li>' + "\n"
-                                     + '        <li class="query"><a href="#/' + core_name + '/query"><span>Query</span></a></li>' + "\n"
-                                     + '        <li class="schema"><a href="#/' + core_name + '/schema"><span>Schema</span></a></li>' + "\n"
-                                     + '        <li class="config"><a href="#/' + core_name + '/config"><span>Config</span></a></li>' + "\n"
-                                     + '        <li class="replication"><a href="#/' + core_name + '/replication"><span>Replication</span></a></li>' + "\n"
-                                     + '        <li class="analysis"><a href="#/' + core_name + '/analysis"><span>Analysis</span></a></li>' + "\n"
-                                     + '        <li class="schema-browser"><a href="#/' + core_name + '/schema-browser"><span>Schema Browser</span></a></li>' + "\n"
-                                     + '        <li class="plugins"><a href="#/' + core_name + '/plugins"><span>Plugins</span></a></li>' + "\n"
-                                     + '        <li class="dataimport"><a href="#/' + core_name + '/dataimport"><span>Dataimport</span></a></li>' + "\n"
-
-                                     + '    </ul>' + "\n"
-                                     + '</li>';
-
-                        self.menu_element
-                            .append( core_tpl );
-                    }
-
-                    $.ajax
-                    (
-                        {
-                            url : environment_basepath + '/admin/system?wt=json',
-                            dataType : 'json',
-                            beforeSend : function( arr, form, options )
-                            {
-                            },
-                            success : function( response )
-                            {
-                                self.dashboard_values = response;
-
-                                var environment_args = null;
-                                var cloud_args = null;
-
-                                if( response.jvm && response.jvm.jmx && response.jvm.jmx.commandLineArgs )
-                                {
-                                    var command_line_args = response.jvm.jmx.commandLineArgs.join( ' | ' );
-
-                                    environment_args = command_line_args
-                                                            .match( /-Dsolr.environment=((dev|test|prod)?[\w\d]*)/i );
-
-                                    cloud_args = command_line_args
-                                                            .match( /-Dzk/i );
-                                }
-
-                                // environment
-
-                                var environment_element = $( '#environment' );
-                                if( environment_args )
-                                {
-                                    environment_element
-                                        .show();
-
-                                    if( environment_args[1] )
-                                    {
-                                        environment_element
-                                            .html( environment_args[1] );
-                                    }
-
-                                    if( environment_args[2] )
-                                    {
-                                        environment_element
-                                            .addClass( environment_args[2] );
-                                    }
-                                }
-                                else
-                                {
-                                    environment_element
-                                        .remove();
-                                }
-
-                                // cloud
-
-                                var cloud_nav_element = $( '#menu #cloud' );
-                                if( cloud_args )
-                                {
-                                    cloud_nav_element
-                                        .show();
-                                }
-
-                                // sammy
-
-                                sammy.run( location.hash );
-                            },
-                            error : function()
-                            {
-                            },
-                            complete : function()
-                            {
-                                loader.hide( this );
-                            }
-                        }
-                    );
-                },
-                error : function()
+                  var command_line_args = response.jvm.jmx.commandLineArgs.join( ' | ' );
+
+                  environment_args = command_line_args.match( /-Dsolr.environment=((dev|test|prod)?[\w\d]*)/i );
+                  cloud_args = command_line_args.match( /-Dzk/i );
+                }
+
+                // title
+
+                $( 'title', document )
+                  .append( ' (' + response.core.host + ')' );
+
+                // environment
+
+                var environment_element = $( '#environment' );
+                if( environment_args )
                 {
-                },
-                complete : function()
+                  environment_element
+                    .show();
+
+                  if( environment_args[1] )
+                  {
+                    environment_element
+                      .html( environment_args[1] );
+                  }
+
+                  if( environment_args[2] )
+                  {
+                    environment_element
+                      .addClass( environment_args[2] );
+                  }
+                }
+                else
                 {
+                  environment_element
+                    .remove();
                 }
+
+                // cloud
+
+                var cloud_nav_element = $( '#menu #cloud' );
+                if( cloud_args )
+                {
+                  cloud_nav_element
+                    .show();
+                }
+
+                // sammy
+
+                sammy.run( location.hash );
+              },
+              error : function()
+              {
+                var main = $( '#main' );
+
+                $( 'div[id$="-wrapper"]', main )
+                  .remove();
+
+                main
+                  .addClass( 'error' )
+                  .append
+                  (
+                    '<div class="message">This interface requires that you activate the admin request handlers, add the following configuration to your <code>solrconfig.xml:</code></div>' +
+                    '<div class="code"><pre class="syntax language-xml"><code>' +
+                    '<!-- Admin Handlers - This will register all the standard admin RequestHandlers. -->'.esc() + "\n" +
+                    '<requestHandler name="/admin/" class="solr.admin.AdminHandlers" />'.esc() +
+                    '</code></pre></div>'
+                  );
+
+                hljs.highlightBlock( $( 'pre', main ).get(0) );
+              },
+              complete : function()
+              {
+                loader.hide( this );
+              }
             }
-        );
-    }
+          );
+        },
+        error : function()
+        {
+        },
+        complete : function()
+        {
+        }
+      }
+    );
+  }
 
 };
 
-var app = new solr_admin( app_config );
\ No newline at end of file
+var app = new solr_admin( app_config );
diff --git a/solr/webapp/web/js/scripts/cloud.js b/solr/webapp/web/js/scripts/cloud.js
index c5281f6..b6ecee9 100644
--- a/solr/webapp/web/js/scripts/cloud.js
+++ b/solr/webapp/web/js/scripts/cloud.js
@@ -1,174 +1,332 @@
+/*
+ Licensed to the Apache Software Foundation (ASF) under one or more
+ contributor license agreements.  See the NOTICE file distributed with
+ this work for additional information regarding copyright ownership.
+ The ASF licenses this file to You under the Apache License, Version 2.0
+ (the "License"); you may not use this file except in compliance with
+ the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+*/
+
 // #/cloud
 sammy.get
 (
-    /^#\/(cloud)$/,
-    function( context )
-    {
-        var content_element = $( '#content' );
+  /^#\/(cloud)$/,
+  function( context )
+  {
+    var core_basepath = $( 'li[data-basepath]', app.menu_element ).attr( 'data-basepath' );
+    var content_element = $( '#content' );
+
+    $.get
+    (
+      'tpl/cloud.html',
+      function( template )
+      {
+        content_element
+          .html( template );
+
+        var cloud_element = $( '#cloud', content_element );
+        var cloud_content = $( '.content', cloud_element );
+
+        var debug_element = $( '#debug', cloud_element );
+        var debug_button = $( 'a.debug', cloud_element );
+
+        var clipboard_element = $( '.clipboard', debug_element );
+        var clipboard_button = $( 'a', clipboard_element );
+
+        debug_button
+          .die( 'click' )
+          .live
+          (
+            'click',
+            function( event )
+            {
+              debug_element.trigger( 'show' );
+              return false;
+            }
+          );
+
+        $( '.close', debug_element )
+          .die( 'click' )
+          .live
+          (
+            'click',
+            function( event )
+            {
+              debug_element.trigger( 'hide' );
+              return false;
+            }
+          );
+
+        $( '.clipboard', debug_element )
+          .die( 'click' )
+          .live
+          (
+            'click',
+            function( event )
+            {
+              return false;
+            }
+          );
+
+        debug_element
+          .die( 'show' )
+          .live
+          (
+            'show',
+            function( event )
+            {
+              debug_button.hide();
+              debug_element.show();
+
+              $.ajax
+              (
+                {
+                  url : core_basepath + '/zookeeper?wt=json&dump=true',
+                  dataType : 'text',
+                  context : debug_element,
+                  beforeSend : function( xhr, settings )
+                  {
+                    $( '.debug', debug_element )
+                      .html( '<span class="loader">Loading Dump ...</span>' );
+
+                    ZeroClipboard.setMoviePath( 'img/ZeroClipboard.swf' );
+
+                    clipboard_client = new ZeroClipboard.Client();
+                                    
+                    clipboard_client.addEventListener
+                    (
+                      'load',
+                      function( client )
+                      {
+                      }
+                    );
+
+                    clipboard_client.addEventListener
+                    (
+                      'complete',
+                      function( client, text )
+                      {
+                        clipboard_element
+                          .addClass( 'copied' );
+
+                        clipboard_button
+                          .data( 'text', clipboard_button.text() )
+                          .text( clipboard_button.data( 'copied' ) );
+                      }
+                    );
+                  },
+                  success : function( response, text_status, xhr )
+                  {
+                    clipboard_client.glue
+                    (
+                      clipboard_element.get(0),
+                      clipboard_button.get(0)
+                    );
+
+                    clipboard_client.setText( response.replace( /\\/g, '\\\\' ) );
+
+                    $( '.debug', debug_element )
+                      .removeClass( 'loader' )
+                      .text( response );
+                  },
+                  error : function( xhr, text_status, error_thrown )
+                  {
+                  },
+                  complete : function( xhr, text_status )
+                  {
+                  }
+                }
+              );
+            }
+          )
+          .die( 'hide' )
+          .live
+          (
+            'hide',
+            function( event )
+            {
+              $( '.debug', debug_element )
+                .empty();
+
+              clipboard_element
+                .removeClass( 'copied' );
+
+              clipboard_button
+                .data( 'copied', clipboard_button.text() )
+                .text( clipboard_button.data( 'text' ) );
+
+              clipboard_client.destroy();
+
+              debug_button.show();
+              debug_element.hide();
+            }
+          );
 
-        $.get
+        $.ajax
         (
-            'tpl/cloud.html',
-            function( template )
+          {
+            url : core_basepath + '/zookeeper?wt=json',
+            dataType : 'json',
+            context : cloud_content,
+            beforeSend : function( xhr, settings )
             {
-                content_element
-                    .html( template );
+              //this
+              //    .html( '<div class="loader">Loading ...</div>' );
+            },
+            success : function( response, text_status, xhr )
+            {
+              var self = this;
+                            
+              $( '#tree', this )
+                .jstree
+                (
+                  {
+                    "plugins" : [ "json_data" ],
+                    "json_data" : {
+                      "data" : response.tree,
+                      "progressive_render" : true
+                    },
+                    "core" : {
+                      "animation" : 0
+                    }
+                  }
+                )
+                .jstree
+                (
+                  'open_node',
+                  'li:first'
+                );
 
-                var cloud_element = $( '#cloud', content_element );
-                var cloud_content = $( '.content', cloud_element );
+              var tree_links = $( '#tree a', this );
 
-                $.ajax
+              tree_links
+                .die( 'click' )
+                .live
                 (
-                    {
-                        url : app.config.zookeeper_path,
+                  'click',
+                  function( event )
+                  {
+                    $( 'a.active', $( this ).parents( '#tree' ) )
+                      .removeClass( 'active' );
+                                        
+                    $( this )
+                      .addClass( 'active' );
+
+                    cloud_content
+                      .addClass( 'show' );
+
+                    var file_content = $( '#file-content' );
+
+                    $( 'a.close', file_content )
+                      .die( 'click' )
+                      .live
+                      (
+                        'click',
+                        function( event )
+                        {
+                          $( '#tree a.active' )
+                            .removeClass( 'active' );
+                                            
+                          cloud_content
+                            .removeClass( 'show' );
+
+                          return false;
+                        }
+                      );
+
+                    $.ajax
+                    (
+                      {
+                        url : this.href,
                         dataType : 'json',
-                        context : cloud_content,
+                        context : file_content,
                         beforeSend : function( xhr, settings )
                         {
-                            //this
-                            //    .html( '<div class="loader">Loading ...</div>' );
+                          //this
+                          //    .html( 'loading' )
+                          //    .show();
                         },
                         success : function( response, text_status, xhr )
                         {
-                            var self = this;
-                            
-                            $( '#tree', this )
-                                .jstree
-                                (
-                                    {
-                                        "plugins" : [ "json_data" ],
-                                        "json_data" : {
-                                            "data" : response.tree,
-                                            "progressive_render" : true
-                                        },
-                                        "core" : {
-                                            "animation" : 0
-                                        }
-                                    }
-                                );
-
-                            var tree_links = $( '#tree a', this );
-
-                            tree_links
-                                .die( 'click' )
-                                .live
-                                (
-                                    'click',
-                                    function( event )
-                                    {
-                                        $( 'a.active', $( this ).parents( '#tree' ) )
-                                            .removeClass( 'active' );
-                                        
-                                        $( this )
-                                            .addClass( 'active' );
-
-                                        cloud_content
-                                            .addClass( 'show' );
-
-                                        var file_content = $( '#file-content' );
-
-                                        $( 'a.close', file_content )
-                                            .die( 'click' )
-                                            .live
-                                            (
-                                                'click',
-                                                function( event )
-                                                {
-                                                    $( '#tree a.active' )
-                                                        .removeClass( 'active' );
-                                            
-                                                    cloud_content
-                                                        .removeClass( 'show' );
-
-                                                    return false;
-                                                }
-                                            );
-
-                                        $.ajax
-                                        (
-                                            {
-                                                url : this.href,
-                                                dataType : 'json',
-                                                context : file_content,
-                                                beforeSend : function( xhr, settings )
-                                                {
-                                                    //this
-                                                    //    .html( 'loading' )
-                                                    //    .show();
-                                                },
-                                                success : function( response, text_status, xhr )
-                                                {
-                                                    //this
-                                                    //    .html( '<pre>' + response.znode.data + '</pre>' );
-
-                                                    var props = [];
-                                                    for( var key in response.znode.prop )
-                                                    {
-                                                        props.push
-                                                        (
-                                                            '<li><dl class="clearfix">' + "\n" +
-                                                                '<dt>' + key.esc() + '</dt>' + "\n" +
-                                                                '<dd>' + response.znode.prop[key].esc() + '</dd>' + "\n" +
-                                                            '</dl></li>'
-                                                        );
-                                                    }
-
-                                                    $( '#prop ul', this )
-                                                        .empty()
-                                                        .html( props.join( "\n" ) );
-
-                                                    $( '#prop ul li:odd', this )
-                                                        .addClass( 'odd' );
-
-                                                    var data_element = $( '#data', this );
-
-                                                    if( 0 !== parseInt( response.znode.prop.children_count ) )
-                                                    {
-                                                        data_element.hide();
-                                                    }
-                                                    else
-                                                    {
-                                                        var data = response.znode.data
-                                                                 ? '<pre>' + response.znode.data.esc() + '</pre>'
-                                                                 : '<em>File "' + response.znode.path + '" has no Content</em>';
-
-                                                        data_element
-                                                            .show()
-                                                            .html( data );
-                                                    }
-                                                },
-                                                error : function( xhr, text_status, error_thrown)
-                                                {
-                                                },
-                                                complete : function( xhr, text_status )
-                                                {
-                                                }
-                                            }
-                                        );
-
-                                        return false;
-                                    }
-                                );
-                        },
-                        error : function( xhr, text_status, error_thrown )
-                        {
-                            var message = 'Loading of <code>' + app.config.zookeeper_path + '</code> failed with "' + text_status + '" '
-                                        + '(<code>' + error_thrown.message + '</code>)';
+                          //this
+                          //    .html( '<pre>' + response.znode.data + '</pre>' );
+
+                          var props = [];
+                          for( var key in response.znode.prop )
+                          {
+                            props.push
+                            (
+                              '<li><dl class="clearfix">' + "\n" +
+                                '<dt>' + key.esc() + '</dt>' + "\n" +
+                                '<dd>' + response.znode.prop[key].esc() + '</dd>' + "\n" +
+                              '</dl></li>'
+                            );
+                          }
+
+                          $( '#prop ul', this )
+                            .empty()
+                            .html( props.join( "\n" ) );
+
+                          $( '#prop ul li:odd', this )
+                            .addClass( 'odd' );
+
+                          var data_element = $( '#data', this );
 
-                            if( 200 !== xhr.status )
-                            {
-                                message = 'Loading of <code>' + app.config.zookeeper_path + '</code> failed with HTTP-Status ' + xhr.status + ' ';
-                            }
+                          if( 0 !== parseInt( response.znode.prop.children_count ) )
+                          {
+                            data_element.hide();
+                          }
+                          else
+                          {
+                            var data = response.znode.data
+                                     ? '<pre>' + response.znode.data.esc() + '</pre>'
+                                     : '<em>File "' + response.znode.path + '" has no Content</em>';
 
-                            this
-                                .html( '<div class="block" id="error">' + message + '</div>' );
+                            data_element
+                                .show()
+                                .html( data );
+                          }
+                        },
+                        error : function( xhr, text_status, error_thrown)
+                        {
                         },
                         complete : function( xhr, text_status )
                         {
                         }
-                    }
+                      }
+                    );
+
+                    return false;
+                  }
                 );
+            },
+            error : function( xhr, text_status, error_thrown )
+            {
+              var message = 'Loading of <code>' + app.config.zookeeper_path + '</code> failed with "' + text_status + '" '
+                          + '(<code>' + error_thrown.message + '</code>)';
+
+              if( 200 !== xhr.status )
+              {
+                message = 'Loading of <code>' + app.config.zookeeper_path + '</code> failed with HTTP-Status ' + xhr.status + ' ';
+              }
+
+              this
+                .html( '<div class="block" id="error">' + message + '</div>' );
+            },
+            complete : function( xhr, text_status )
+            {
             }
+          }
         );
-    }
+      }
+    );
+  }
 );
\ No newline at end of file
diff --git a/solr/webapp/web/js/scripts/cores.js b/solr/webapp/web/js/scripts/cores.js
index 39ff251..3310110 100644
--- a/solr/webapp/web/js/scripts/cores.js
+++ b/solr/webapp/web/js/scripts/cores.js
@@ -1,495 +1,512 @@
+/*
+ Licensed to the Apache Software Foundation (ASF) under one or more
+ contributor license agreements.  See the NOTICE file distributed with
+ this work for additional information regarding copyright ownership.
+ The ASF licenses this file to You under the Apache License, Version 2.0
+ (the "License"); you may not use this file except in compliance with
+ the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+*/
+
 sammy.bind
 (
-    'cores_load_data',
-    function( event, params )
+  'cores_load_data',
+  function( event, params )
+  {
+    if( app.cores_data )
     {
-        if( app.cores_data )
+      params.callback( app.cores_data );
+      return true;
+    }
+
+    $.ajax
+    (
+      {
+        url : app.config.solr_path + app.config.core_admin_path + '?wt=json',
+        dataType : 'json',
+        beforeSend : function( xhr, settings )
+        {
+        },
+        success : function( response, text_status, xhr )
+        {
+          app.cores_data = response.status;
+          params.callback( app.cores_data );
+        },
+        error : function( xhr, text_status, error_thrown)
+        {
+        },
+        complete : function( xhr, text_status )
         {
-            params.callback( app.cores_data );
-            return true;
         }
-
-        $.ajax
-        (
-            {
-                url : app.config.solr_path + app.config.core_admin_path + '?wt=json',
-                dataType : 'json',
-                beforeSend : function( xhr, settings )
-                {
-                },
-                success : function( response, text_status, xhr )
-                {
-                    app.cores_data = response.status;
-                    params.callback( app.cores_data );
-                },
-                error : function( xhr, text_status, error_thrown)
-                {
-                },
-                complete : function( xhr, text_status )
-                {
-                }
-            }
-        );
-    }
+      }
+    );
+  }
 );
 
 sammy.bind
 (
-    'cores_build_navigation',
-    function( event, params )
-    {
-        var navigation_content = ['<ul>'];
+  'cores_build_navigation',
+  function( event, params )
+  {
+    var navigation_content = ['<ul>'];
 
-        for( var core in params.cores )
-        {
-            navigation_content.push( '<li><a href="' + params.basepath + core + '">' + core + '</a></li>' );
-        }
+    for( var core in params.cores )
+    {
+      navigation_content.push( '<li><a href="' + params.basepath + core + '">' + core + '</a></li>' );
+    }
 
-        params.navigation_element
-            .html( navigation_content.join( "\n" ) );
+    params.navigation_element
+      .html( navigation_content.join( "\n" ) );
         
-        $( 'a[href="' + params.basepath + params.current_core + '"]', params.navigation_element ).parent()
-            .addClass( 'current' );
-    }
+    $( 'a[href="' + params.basepath + params.current_core + '"]', params.navigation_element ).parent()
+      .addClass( 'current' );
+  }
 );
 
 sammy.bind
 (
-    'cores_load_template',
-    function( event, params )
+  'cores_load_template',
+  function( event, params )
+  {
+    if( app.cores_template )
     {
-        if( app.cores_template )
-        {
-            params.callback();
-            return true;
-        }
+      params.callback();
+      return true;
+    }
 
-        $.get
-        (
-            'tpl/cores.html',
-            function( template )
-            {
-                params.content_element
-                    .html( template );
+    $.get
+    (
+      'tpl/cores.html',
+      function( template )
+      {
+        params.content_element
+          .html( template );
              
-                app.cores_template = template;   
-                params.callback();
-            }
-        );
-    }
+        app.cores_template = template;   
+        params.callback();
+      }
+    );
+  }
 );
 
 // #/cores
 sammy.get
 (
-    /^#\/(cores)$/,
-    function( context )
-    {
-        delete app.cores_template;
-
-        sammy.trigger
-        (
-            'cores_load_data',
+  /^#\/(cores)$/,
+  function( context )
+  {
+    delete app.cores_template;
+
+    sammy.trigger
+    (
+      'cores_load_data',
+      {
+        callback :  function( cores )
+        {
+          var first_core = null;
+          for( var key in cores )
+          {
+            if( !first_core )
             {
-                callback :  function( cores )
-                {
-                    var first_core = null;
-                    for( var key in cores )
-                    {
-                        if( !first_core )
-                        {
-                            first_core = key;
-                        }
-                        continue;
-                    }
-                    context.redirect( context.path + '/' + first_core );
-                }
+              first_core = key;
             }
-        );
-    }
+            continue;
+          }
+          context.redirect( context.path + '/' + first_core );
+        }
+      }
+    );
+  }
 );
 
 // #/cores
 sammy.get
 (
-    /^#\/(cores)\//,
-    function( context )
-    {
-        var content_element = $( '#content' );
-
-        var path_parts = this.path.match( /^(.+\/cores\/)(.*)$/ );
-        var current_core = path_parts[2];
-
-        sammy.trigger
-        (
-            'cores_load_data',
+  /^#\/(cores)\//,
+  function( context )
+  {
+    var content_element = $( '#content' );
+
+    var path_parts = this.path.match( /^(.+\/cores\/)(.*)$/ );
+    var current_core = path_parts[2];
+
+    sammy.trigger
+    (
+      'cores_load_data',
+      {
+        callback : function( cores )
+        {
+          sammy.trigger
+          (
+            'cores_load_template',
             {
-                callback : function( cores )
-                {
-                    sammy.trigger
-                    (
-                        'cores_load_template',
-                        {
-                            content_element : content_element,
-                            callback : function()
-                            {
-                                var cores_element = $( '#cores', content_element );
-                                var navigation_element = $( '#navigation', cores_element );
-                                var list_element = $( '#list', navigation_element );
-                                var data_element = $( '#data', cores_element );
-                                var core_data_element = $( '#core-data', data_element );
-                                var index_data_element = $( '#index-data', data_element );
+              content_element : content_element,
+              callback : function()
+              {
+                var cores_element = $( '#cores', content_element );
+                var navigation_element = $( '#navigation', cores_element );
+                var list_element = $( '#list', navigation_element );
+                var data_element = $( '#data', cores_element );
+                var core_data_element = $( '#core-data', data_element );
+                var index_data_element = $( '#index-data', data_element );
 
-                                sammy.trigger
-                                (
-                                    'cores_build_navigation',
-                                    {
-                                        cores : cores,
-                                        basepath : path_parts[1],
-                                        current_core : current_core,
-                                        navigation_element : list_element
-                                    }
-                                );
+                sammy.trigger
+                (
+                  'cores_build_navigation',
+                  {
+                    cores : cores,
+                    basepath : path_parts[1],
+                    current_core : current_core,
+                    navigation_element : list_element
+                  }
+                );
 
-                                var core_data = cores[current_core];
-                                var core_basepath = $( '#' + current_core, app.menu_element ).attr( 'data-basepath' );
+                var core_data = cores[current_core];
+                var core_basepath = $( '#' + current_core, app.menu_element ).attr( 'data-basepath' );
 
-                                // core-data
+                // core-data
 
-                                $( 'h2 span', core_data_element )
-                                    .html( core_data.name );
+                $( 'h2 span', core_data_element )
+                  .html( core_data.name );
 
-                                $( '.startTime dd', core_data_element )
-                                    .html( core_data.startTime );
+                $( '.startTime dd', core_data_element )
+                  .html( core_data.startTime );
 
-                                $( '.instanceDir dd', core_data_element )
-                                    .html( core_data.instanceDir );
+                $( '.instanceDir dd', core_data_element )
+                  .html( core_data.instanceDir );
 
-                                $( '.dataDir dd', core_data_element )
-                                    .html( core_data.dataDir );
+                $( '.dataDir dd', core_data_element )
+                  .html( core_data.dataDir );
 
-                                // index-data
+                // index-data
 
-                                $( '.lastModified dd', index_data_element )
-                                    .html( core_data.index.lastModified );
+                $( '.lastModified dd', index_data_element )
+                  .html( core_data.index.lastModified );
 
-                                $( '.version dd', index_data_element )
-                                    .html( core_data.index.version );
+                $( '.version dd', index_data_element )
+                  .html( core_data.index.version );
 
-                                $( '.numDocs dd', index_data_element )
-                                    .html( core_data.index.numDocs );
+                $( '.numDocs dd', index_data_element )
+                  .html( core_data.index.numDocs );
 
-                                $( '.maxDoc dd', index_data_element )
-                                    .html( core_data.index.maxDoc );
+                $( '.maxDoc dd', index_data_element )
+                  .html( core_data.index.maxDoc );
 
-                                $( '.optimized dd', index_data_element )
-                                    .addClass( core_data.index.optimized ? 'ico-1' : 'ico-0' );
+                $( '.optimized dd', index_data_element )
+                  .addClass( core_data.index.optimized ? 'ico-1' : 'ico-0' );
 
-                                $( '#actions .optimize', cores_element )
-                                    .show();
+                $( '#actions .optimize', cores_element )
+                  .show();
 
-                                $( '.optimized dd span', index_data_element )
-                                    .html( core_data.index.optimized ? 'yes' : 'no' );
+                $( '.optimized dd span', index_data_element )
+                  .html( core_data.index.optimized ? 'yes' : 'no' );
 
-                                $( '.current dd', index_data_element )
-                                    .addClass( core_data.index.current ? 'ico-1' : 'ico-0' );
+                $( '.current dd', index_data_element )
+                  .addClass( core_data.index.current ? 'ico-1' : 'ico-0' );
 
-                                $( '.current dd span', index_data_element )
-                                    .html( core_data.index.current ? 'yes' : 'no' );
+                $( '.current dd span', index_data_element )
+                  .html( core_data.index.current ? 'yes' : 'no' );
 
-                                $( '.hasDeletions dd', index_data_element )
-                                    .addClass( core_data.index.hasDeletions ? 'ico-1' : 'ico-0' );
+                $( '.hasDeletions dd', index_data_element )
+                  .addClass( core_data.index.hasDeletions ? 'ico-1' : 'ico-0' );
 
-                                $( '.hasDeletions dd span', index_data_element )
-                                    .html( core_data.index.hasDeletions ? 'yes' : 'no' );
+                $( '.hasDeletions dd span', index_data_element )
+                  .html( core_data.index.hasDeletions ? 'yes' : 'no' );
 
-                                $( '.directory dd', index_data_element )
-                                    .html
-                                    (
-                                        core_data.index.directory
-                                            .replace( /:/g, ':&#8203;' )
-                                            .replace( /@/g, '@&#8203;' )
-                                    );
+                $( '.directory dd', index_data_element )
+                  .html
+                  (
+                    core_data.index.directory
+                      .replace( /:/g, ':&#8203;' )
+                      .replace( /@/g, '@&#8203;' )
+                  );
 
-                                var core_names = [];
-                                var core_selects = $( '#actions select', cores_element );
+                var core_names = [];
+                var core_selects = $( '#actions select', cores_element );
 
-                                for( var key in cores )
-                                {
-                                    core_names.push( '<option value="' + key + '">' + key + '</option>' )
-                                }
+                for( var key in cores )
+                {
+                  core_names.push( '<option value="' + key + '">' + key + '</option>' )
+                }
 
-                                core_selects
-                                    .html( core_names.join( "\n") );
+                core_selects
+                  .html( core_names.join( "\n") );
                                 
-                                $( 'option[value="' + current_core + '"]', core_selects.filter( '#swap_core' ) )
-                                    .attr( 'selected', 'selected' );
+                $( 'option[value="' + current_core + '"]', core_selects.filter( '#swap_core' ) )
+                  .attr( 'selected', 'selected' );
 
-                                $( 'option[value="' + current_core + '"]', core_selects.filter( '.other' ) )
-                                    .attr( 'disabled', 'disabled' )
-                                    .addClass( 'disabled' );
+                $( 'option[value="' + current_core + '"]', core_selects.filter( '.other' ) )
+                  .attr( 'disabled', 'disabled' )
+                  .addClass( 'disabled' );
                                 
-                                $( 'input[name="core"]', cores_element )
-                                    .val( current_core );
-
-                                // layout
-
-                                var actions_element = $( '.actions', cores_element );
-                                var button_holder_element = $( '.button-holder.options', actions_element );
-
-                                button_holder_element
-                                    .die( 'toggle' )
-                                    .live
-                                    (
-                                        'toggle',
-                                        function( event )
-                                        {
-                                            var element = $( this );
+                $( 'input[name="core"]', cores_element )
+                  .val( current_core );
+
+                // layout
+
+                var actions_element = $( '.actions', cores_element );
+                var button_holder_element = $( '.button-holder.options', actions_element );
+
+                button_holder_element
+                  .die( 'toggle' )
+                  .live
+                  (
+                    'toggle',
+                    function( event )
+                    {
+                      var element = $( this );
                                         
-                                            element
-                                                .toggleClass( 'active' );
+                      element
+                        .toggleClass( 'active' );
                                             
-                                            if( element.hasClass( 'active' ) )
-                                            {
-                                                button_holder_element
-                                                    .not( element )
-                                                    .removeClass( 'active' );
-                                            }
-                                        }
-                                    );
-
-                                $( '.button a', button_holder_element )
-                                    .die( 'click' )
-                                    .live
-                                    (
-                                        'click',
-                                        function( event )
-                                        {
-                                            $( this ).parents( '.button-holder' )
-                                                .trigger( 'toggle' );
-                                        }
-                                    );
-
-                                $( 'form a.submit', button_holder_element )
-                                    .die( 'click' )
-                                    .live
-                                    (
-                                        'click',
-                                        function( event )
-                                        {
-                                            var element = $( this );
-                                            var form_element = element.parents( 'form' );
-                                            var action = $( 'input[name="action"]', form_element ).val().toLowerCase();
-
-                                            form_element
-                                                .ajaxSubmit
-                                                (
-                                                    {
-                                                        url : app.config.solr_path + app.config.core_admin_path + '?wt=json',
-                                                        dataType : 'json',
-                                                        beforeSubmit : function( array, form, options )
-                                                        {
-                                                            //loader
-                                                        },
-                                                        success : function( response, status_text, xhr, form )
-                                                        {
-                                                            delete app.cores_data;
-
-                                                            if( 'rename' === action )
-                                                            {
-                                                                context.redirect( path_parts[1] + $( 'input[name="other"]', form_element ).val() );
-                                                            }
-                                                            else if( 'swap' === action )
-                                                            {
-                                                                window.location.reload();
-                                                            }
+                      if( element.hasClass( 'active' ) )
+                      {
+                        button_holder_element
+                          .not( element )
+                          .removeClass( 'active' );
+                      }
+                    }
+                  );
+
+                $( '.button a', button_holder_element )
+                  .die( 'click' )
+                  .live
+                  (
+                    'click',
+                    function( event )
+                    {
+                      $( this ).parents( '.button-holder' )
+                        .trigger( 'toggle' );
+                    }
+                  );
+
+                $( 'form a.submit', button_holder_element )
+                  .die( 'click' )
+                  .live
+                  (
+                    'click',
+                    function( event )
+                    {
+                      var element = $( this );
+                      var form_element = element.parents( 'form' );
+                      var action = $( 'input[name="action"]', form_element ).val().toLowerCase();
+
+                      form_element
+                        .ajaxSubmit
+                        (
+                          {
+                            url : app.config.solr_path + app.config.core_admin_path + '?wt=json',
+                            dataType : 'json',
+                            beforeSubmit : function( array, form, options )
+                            {
+                              //loader
+                            },
+                            success : function( response, status_text, xhr, form )
+                            {
+                              delete app.cores_data;
+
+                              if( 'rename' === action )
+                              {
+                                context.redirect( path_parts[1] + $( 'input[name="other"]', form_element ).val() );
+                              }
+                              else if( 'swap' === action )
+                              {
+                                window.location.reload();
+                              }
                                                             
-                                                            $( 'a.reset', form )
-                                                                .trigger( 'click' );
-                                                        },
-                                                        error : function( xhr, text_status, error_thrown )
-                                                        {
-                                                        },
-                                                        complete : function()
-                                                        {
-                                                            //loader
-                                                        }
-                                                    }
-                                                );
-
-                                            return false;
-                                        }
-                                    );
-
-                                $( 'form a.reset', button_holder_element )
-                                    .die( 'click' )
-                                    .live
-                                    (
-                                        'click',
-                                        function( event )
-                                        {
-                                            $( this ).parents( 'form' )
-                                                .resetForm();
-
-                                            $( this ).parents( '.button-holder' )
-                                                .trigger( 'toggle' );
-                                            
-                                            return false;
-                                        }
-                                    );
+                              $( 'a.reset', form )
+                                .trigger( 'click' );
+                            },
+                            error : function( xhr, text_status, error_thrown )
+                            {
+                            },
+                            complete : function()
+                            {
+                              //loader
+                            }
+                          }
+                        );
+
+                      return false;
+                    }
+                  );
+
+                $( 'form a.reset', button_holder_element )
+                  .die( 'click' )
+                  .live
+                  (
+                    'click',
+                    function( event )
+                    {
+                      $( this ).parents( 'form' )
+                        .resetForm();
 
-                                var reload_button = $( '#actions .reload', cores_element );
+                      $( this ).parents( '.button-holder' )
+                        .trigger( 'toggle' );
+                                            
+                      return false;
+                    }
+                  );
+
+                var reload_button = $( '#actions .reload', cores_element );
+                reload_button
+                  .die( 'click' )
+                  .live
+                  (
+                    'click',
+                    function( event )
+                    {
+                      $.ajax
+                      (
+                        {
+                          url : app.config.solr_path + app.config.core_admin_path + '?wt=json&action=RELOAD&core=' + current_core,
+                          dataType : 'json',
+                          context : $( this ),
+                          beforeSend : function( xhr, settings )
+                          {
+                            this
+                              .addClass( 'loader' );
+                          },
+                          success : function( response, text_status, xhr )
+                          {
+                            this
+                              .addClass( 'success' );
+
+                            window.setTimeout
+                            (
+                              function()
+                              {
                                 reload_button
-                                    .die( 'click' )
-                                    .live
-                                    (
-                                        'click',
-                                        function( event )
-                                        {
-                                            $.ajax
-                                            (
-                                                {
-                                                    url : app.config.solr_path + app.config.core_admin_path + '?wt=json&action=RELOAD&core=' + current_core,
-                                                    dataType : 'json',
-                                                    context : $( this ),
-                                                    beforeSend : function( xhr, settings )
-                                                    {
-                                                        this
-                                                            .addClass( 'loader' );
-                                                    },
-                                                    success : function( response, text_status, xhr )
-                                                    {
-                                                        this
-                                                            .addClass( 'success' );
-
-                                                        window.setTimeout
-                                                        (
-                                                            function()
-                                                            {
-                                                                reload_button
-                                                                    .removeClass( 'success' );
-                                                            },
-                                                            5000
-                                                        );
-                                                    },
-                                                    error : function( xhr, text_status, error_thrown )
-                                                    {
-                                                    },
-                                                    complete : function( xhr, text_status )
-                                                    {
-                                                        this
-                                                            .removeClass( 'loader' );
-                                                    }
-                                                }
-                                            );
-                                        }
-                                    );
+                                  .removeClass( 'success' );
+                              },
+                              5000
+                            );
+                          },
+                          error : function( xhr, text_status, error_thrown )
+                          {
+                          },
+                          complete : function( xhr, text_status )
+                          {
+                            this
+                              .removeClass( 'loader' );
+                          }
+                        }
+                      );
+                    }
+                  );
                                 
-                                $( '#actions .unload', cores_element )
-                                    .die( 'click' )
-                                    .live
-                                    (
-                                        'click',
-                                        function( event )
-                                        {
-                                            $.ajax
-                                            (
-                                                {
-                                                    url : app.config.solr_path + app.config.core_admin_path + '?wt=json&action=UNLOAD&core=' + current_core,
-                                                    dataType : 'json',
-                                                    context : $( this ),
-                                                    beforeSend : function( xhr, settings )
-                                                    {
-                                                        this
-                                                            .addClass( 'loader' );
-                                                    },
-                                                    success : function( response, text_status, xhr )
-                                                    {
-                                                        delete app.cores_data;
-                                                        context.redirect( path_parts[1].substr( 0, path_parts[1].length - 1 ) );
-                                                    },
-                                                    error : function( xhr, text_status, error_thrown )
-                                                    {
-                                                    },
-                                                    complete : function( xhr, text_status )
-                                                    {
-                                                        this
-                                                            .removeClass( 'loader' );
-                                                    }
-                                                }
-                                            );
-                                        }
-                                    );
-
-                                var optimize_button = $( '#actions .optimize', cores_element );
+                $( '#actions .unload', cores_element )
+                  .die( 'click' )
+                  .live
+                  (
+                    'click',
+                    function( event )
+                    {
+                      $.ajax
+                      (
+                        {
+                          url : app.config.solr_path + app.config.core_admin_path + '?wt=json&action=UNLOAD&core=' + current_core,
+                          dataType : 'json',
+                          context : $( this ),
+                          beforeSend : function( xhr, settings )
+                          {
+                            this
+                              .addClass( 'loader' );
+                          },
+                          success : function( response, text_status, xhr )
+                          {
+                            delete app.cores_data;
+                            context.redirect( path_parts[1].substr( 0, path_parts[1].length - 1 ) );
+                          },
+                          error : function( xhr, text_status, error_thrown )
+                          {
+                          },
+                          complete : function( xhr, text_status )
+                          {
+                            this
+                              .removeClass( 'loader' );
+                          }
+                        }
+                      );
+                    }
+                  );
+
+                var optimize_button = $( '#actions .optimize', cores_element );
+                optimize_button
+                  .die( 'click' )
+                  .live
+                  (
+                    'click',
+                    function( event )
+                    {
+                      $.ajax
+                      (
+                        {
+                          url : core_basepath + '/update?optimize=true&waitFlush=true&wt=json',
+                          dataType : 'json',
+                          context : $( this ),
+                          beforeSend : function( xhr, settings )
+                          {
+                            this
+                              .addClass( 'loader' );
+                          },
+                          success : function( response, text_status, xhr )
+                          {
+                            this
+                              .addClass( 'success' );
+
+                            window.setTimeout
+                            (
+                              function()
+                              {
                                 optimize_button
-                                    .die( 'click' )
-                                    .live
-                                    (
-                                        'click',
-                                        function( event )
-                                        {
-                                            $.ajax
-                                            (
-                                                {
-                                                    url : core_basepath + '/update?optimize=true&waitFlush=true&wt=json',
-                                                    dataType : 'json',
-                                                    context : $( this ),
-                                                    beforeSend : function( xhr, settings )
-                                                    {
-                                                        this
-                                                            .addClass( 'loader' );
-                                                    },
-                                                    success : function( response, text_status, xhr )
-                                                    {
-                                                        this
-                                                            .addClass( 'success' );
-
-                                                        window.setTimeout
-                                                        (
-                                                            function()
-                                                            {
-                                                                optimize_button
-                                                                    .removeClass( 'success' );
-                                                            },
-                                                            5000
-                                                        );
+                                  .removeClass( 'success' );
+                              },
+                              5000
+                            );
                                                         
-                                                        $( '.optimized dd.ico-0', index_data_element )
-                                                            .removeClass( 'ico-0' )
-                                                            .addClass( 'ico-1' );
-                                                    },
-                                                    error : function( xhr, text_status, error_thrown)
-                                                    {
-                                                        console.warn( 'd0h, optimize broken!' );
-                                                    },
-                                                    complete : function( xhr, text_status )
-                                                    {
-                                                        this
-                                                            .removeClass( 'loader' );
-                                                    }
-                                                }
-                                            );
-                                        }
-                                    );
-
-                                $( '.timeago', data_element )
-                                     .timeago();
-
-                                $( 'ul', data_element )
-                                    .each
-                                    (
-                                        function( i, element )
-                                        {
-                                            $( 'li:odd', element )
-                                                .addClass( 'odd' );
-                                        }
-                                    )
-                            }
+                            $( '.optimized dd.ico-0', index_data_element )
+                              .removeClass( 'ico-0' )
+                              .addClass( 'ico-1' );
+                          },
+                          error : function( xhr, text_status, error_thrown)
+                          {
+                            console.warn( 'd0h, optimize broken!' );
+                          },
+                          complete : function( xhr, text_status )
+                          {
+                            this
+                              .removeClass( 'loader' );
+                          }
                         }
-                    );
-                }
+                      );
+                    }
+                  );
+
+                $( '.timeago', data_element )
+                  .timeago();
+
+                $( 'ul', data_element )
+                  .each
+                  (
+                    function( i, element )
+                    {
+                      $( 'li:odd', element )
+                        .addClass( 'odd' );
+                    }
+                  )
+              }
             }
-        );
-    }
+          );
+        }
+      }
+    );
+  }
 );
\ No newline at end of file
diff --git a/solr/webapp/web/js/scripts/dashboard.js b/solr/webapp/web/js/scripts/dashboard.js
index 7cb0957..5c4314b 100644
--- a/solr/webapp/web/js/scripts/dashboard.js
+++ b/solr/webapp/web/js/scripts/dashboard.js
@@ -1,400 +1,417 @@
+/*
+ Licensed to the Apache Software Foundation (ASF) under one or more
+ contributor license agreements.  See the NOTICE file distributed with
+ this work for additional information regarding copyright ownership.
+ The ASF licenses this file to You under the Apache License, Version 2.0
+ (the "License"); you may not use this file except in compliance with
+ the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+*/
+
 // #/:core
 sammy.get
 (
-    /^#\/([\w\d-]+)$/,
-    function( context )
-    {
-        var core_basepath = this.active_core.attr( 'data-basepath' );
-        var content_element = $( '#content' );
+  /^#\/([\w\d-]+)$/,
+  function( context )
+  {
+    var core_basepath = this.active_core.attr( 'data-basepath' );
+    var content_element = $( '#content' );
         
-        content_element
-            .removeClass( 'single' );
+    content_element
+      .removeClass( 'single' );
         
-        var core_menu = $( 'ul', this.active_core );
-        if( !core_menu.data( 'admin-extra-loaded' ) )
-        {
-            core_menu.data( 'admin-extra-loaded', new Date() );
+    var core_menu = $( 'ul', this.active_core );
+    if( !core_menu.data( 'admin-extra-loaded' ) )
+    {
+      core_menu.data( 'admin-extra-loaded', new Date() );
 
-            $.get
-            (
-                core_basepath + '/admin/file/?file=admin-extra.menu-top.html',
-                function( menu_extra )
-                {
-                    core_menu
-                        .prepend( menu_extra );
-                }
-            );
+      $.get
+      (
+        core_basepath + '/admin/file/?file=admin-extra.menu-top.html',
+        function( menu_extra )
+        {
+          core_menu
+            .prepend( menu_extra );
+        }
+      );
             
-            $.get
-            (
-                core_basepath + '/admin/file/?file=admin-extra.menu-bottom.html',
-                function( menu_extra )
-                {
-                    core_menu
-                        .append( menu_extra );
-                }
-            );
+      $.get
+      (
+        core_basepath + '/admin/file/?file=admin-extra.menu-bottom.html',
+        function( menu_extra )
+        {
+          core_menu
+            .append( menu_extra );
         }
+      );
+    }
         
-        $.get
-        (
-            'tpl/dashboard.html',
-            function( template )
-            {
-                content_element
-                    .html( template );
+    $.get
+    (
+      'tpl/dashboard.html',
+      function( template )
+      {
+        content_element
+          .html( template );
                     
-                var dashboard_element = $( '#dashboard' );
+        var dashboard_element = $( '#dashboard' );
                                      
-                $.ajax
-                (
-                    {
-                        url : core_basepath + '/admin/luke?wt=json&show=index&numTerms=0',
-                        dataType : 'json',
-                        context : $( '#statistics', dashboard_element ),
-                        beforeSend : function( xhr, settings )
-                        {
-                            $( 'h2', this )
-                                .addClass( 'loader' );
+        $.ajax
+        (
+          {
+            url : core_basepath + '/admin/luke?wt=json&show=index&numTerms=0',
+            dataType : 'json',
+            context : $( '#statistics', dashboard_element ),
+            beforeSend : function( xhr, settings )
+            {
+              $( 'h2', this )
+                .addClass( 'loader' );
                             
-                            $( '.message', this )
-                                .show()
-                                .html( 'Loading ...' );
+              $( '.message', this )
+                .show()
+                .html( 'Loading ...' );
                             
-                            $( '.content' )
-                                .hide();
-                        },
-                        success : function( response, text_status, xhr )
-                        {
-                            $( '.message', this )
-                                .empty()
-                                .hide();
+              $( '.content' )
+                .hide();
+            },
+            success : function( response, text_status, xhr )
+            {
+              $( '.message', this )
+                .empty()
+                .hide();
                             
-                            $( '.content', this )
-                                .show();
+              $( '.content', this )
+                .show();
                                 
-                            var data = {
-                                'index_num-docs' : response['index']['numDocs'],
-                                'index_max-doc' : response['index']['maxDoc'],
-                                'index_version' : response['index']['version'],
-                                'index_segmentCount' : response['index']['segmentCount'],
-                                'index_last-modified' : response['index']['lastModified']
-                            };
+              var data = {
+                'index_num-docs' : response['index']['numDocs'],
+                'index_max-doc' : response['index']['maxDoc'],
+                'index_version' : response['index']['version'],
+                'index_segmentCount' : response['index']['segmentCount'],
+                'index_last-modified' : response['index']['lastModified']
+              };
                             
-                            for( var key in data )
-                            {
-                                $( '.' + key, this )
-                                    .show();
+              for( var key in data )
+              {
+                $( '.' + key, this )
+                  .show();
                                 
-                                $( '.value.' + key, this )
-                                    .html( data[key] );
-                            }
+                $( '.value.' + key, this )
+                  .html( data[key] );
+              }
 
-                            var optimized_element = $( '.value.index_optimized', this );
-                            if( !response['index']['hasDeletions'] )
-                            {
-                                optimized_element
-                                    .addClass( 'ico-1' );
+              var optimized_element = $( '.value.index_optimized', this );
+              if( !response['index']['hasDeletions'] )
+              {
+                optimized_element
+                  .addClass( 'ico-1' );
 
-                                $( 'span', optimized_element )
-                                    .html( 'yes' );
-                            }
-                            else
-                            {
-                                optimized_element
-                                    .addClass( 'ico-0' );
+                $( 'span', optimized_element )
+                  .html( 'yes' );
+              }
+              else
+              {
+                optimized_element
+                  .addClass( 'ico-0' );
 
-                                $( 'span', optimized_element )
-                                    .html( 'no' );
-                            }
+                $( 'span', optimized_element )
+                  .html( 'no' );
+              }
 
-                            var current_element = $( '.value.index_current', this );
-                            if( response['index']['current'] )
-                            {
-                                current_element
-                                    .addClass( 'ico-1' );
+              var current_element = $( '.value.index_current', this );
+              if( response['index']['current'] )
+              {
+                current_element
+                  .addClass( 'ico-1' );
 
-                                $( 'span', current_element )
-                                    .html( 'yes' );
-                            }
-                            else
-                            {
-                                current_element
-                                    .addClass( 'ico-0' );
+                $( 'span', current_element )
+                  .html( 'yes' );
+              }
+              else
+              {
+                current_element
+                  .addClass( 'ico-0' );
 
-                                $( 'span', current_element )
-                                    .html( 'no' );
-                            }
+                $( 'span', current_element )
+                  .html( 'no' );
+              }
 
-                            $( 'a', optimized_element )
-                                .die( 'click' )
-                                .live
-                                (
-                                    'click',
-                                    function( event )
-                                    {                        
-                                        $.ajax
-                                        (
-                                            {
-                                                url : core_basepath + '/update?optimize=true&waitFlush=true&wt=json',
-                                                dataType : 'json',
-                                                context : $( this ),
-                                                beforeSend : function( xhr, settings )
-                                                {
-                                                    this
-                                                        .addClass( 'loader' );
-                                                },
-                                                success : function( response, text_status, xhr )
-                                                {
-                                                    this.parents( 'dd' )
-                                                        .removeClass( 'ico-0' )
-                                                        .addClass( 'ico-1' );
-                                                },
-                                                error : function( xhr, text_status, error_thrown)
-                                                {
-                                                    console.warn( 'd0h, optimize broken!' );
-                                                },
-                                                complete : function( xhr, text_status )
-                                                {
-                                                    this
-                                                        .removeClass( 'loader' );
-                                                }
-                                            }
-                                        );
-                                    }
-                                );
+              $( 'a', optimized_element )
+                .die( 'click' )
+                .live
+                (
+                  'click',
+                  function( event )
+                  {                        
+                    $.ajax
+                    (
+                      {
+                      url : core_basepath + '/update?optimize=true&waitFlush=true&wt=json',
+                      dataType : 'json',
+                      context : $( this ),
+                      beforeSend : function( xhr, settings )
+                      {
+                        this
+                          .addClass( 'loader' );
+                      },
+                      success : function( response, text_status, xhr )
+                      {
+                        this.parents( 'dd' )
+                          .removeClass( 'ico-0' )
+                          .addClass( 'ico-1' );
+                      },
+                      error : function( xhr, text_status, error_thrown)
+                      {
+                        console.warn( 'd0h, optimize broken!' );
+                      },
+                      complete : function( xhr, text_status )
+                      {
+                        this
+                          .removeClass( 'loader' );
+                      }
+                      }
+                    );
+                  }
+                );
 
-                            $( '.timeago', this )
+              $( '.timeago', this )
                                  .timeago();
-                        },
-                        error : function( xhr, text_status, error_thrown )
-                        {
-                            this
-                                .addClass( 'disabled' );
+            },
+            error : function( xhr, text_status, error_thrown )
+            {
+              this
+                .addClass( 'disabled' );
                             
-                            $( '.message', this )
-                                .show()
-                                .html( 'Luke is not configured' );
-                        },
-                        complete : function( xhr, text_status )
-                        {
-                            $( 'h2', this )
-                                .removeClass( 'loader' );
-                        }
-                    }
-                );
+              $( '.message', this )
+                .show()
+                .html( 'Luke is not configured' );
+            },
+            complete : function( xhr, text_status )
+            {
+              $( 'h2', this )
+                .removeClass( 'loader' );
+            }
+          }
+        );
                 
-                $.ajax
-                (
-                    {
-                        url : core_basepath + '/replication?command=details&wt=json',
-                        dataType : 'json',
-                        context : $( '#replication', dashboard_element ),
-                        beforeSend : function( xhr, settings )
-                        {
-                            $( 'h2', this )
-                                .addClass( 'loader' );
+        $.ajax
+        (
+          {
+            url : core_basepath + '/replication?command=details&wt=json',
+            dataType : 'json',
+            context : $( '#replication', dashboard_element ),
+            beforeSend : function( xhr, settings )
+            {
+              $( 'h2', this )
+                .addClass( 'loader' );
                             
-                            $( '.message', this )
-                                .show()
-                                .html( 'Loading' );
+              $( '.message', this )
+                .show()
+                .html( 'Loading' );
 
-                            $( '.content', this )
-                                .hide();
-                        },
-                        success : function( response, text_status, xhr )
-                        {
-                            $( '.message', this )
-                                .empty()
-                                .hide();
+              $( '.content', this )
+                .hide();
+            },
+            success : function( response, text_status, xhr )
+            {
+              $( '.message', this )
+                .empty()
+                .hide();
 
-                            $( '.content', this )
-                                .show();
+              $( '.content', this )
+                .show();
                             
-                            $( '.replication', context.active_core )
-                                .show();
+              $( '.replication', context.active_core )
+                .show();
                             
-                            var data = response.details;
-                            var is_slave = 'undefined' !== typeof( data.slave );
-                            var headline = $( 'h2 span', this );
-                            var details_element = $( '#details', this );
-                            var current_type_element = $( ( is_slave ? '.slave' : '.master' ), this );
+              var data = response.details;
+              var is_slave = 'undefined' !== typeof( data.slave );
+              var headline = $( 'h2 span', this );
+              var details_element = $( '#details', this );
+              var current_type_element = $( ( is_slave ? '.slave' : '.master' ), this );
 
-                            if( is_slave )
-                            {
-                                this
-                                    .addClass( 'slave' );
+              if( is_slave )
+              {
+                this
+                  .addClass( 'slave' );
                                 
-                                headline
-                                    .html( headline.html() + ' (Slave)' );
-                            }
-                            else
-                            {
-                                this
-                                    .addClass( 'master' );
+                headline
+                  .html( headline.html() + ' (Slave)' );
+              }
+              else
+              {
+                this
+                  .addClass( 'master' );
                                 
-                                headline
-                                    .html( headline.html() + ' (Master)' );
-                            }
+                headline
+                  .html( headline.html() + ' (Master)' );
+              }
 
-                            $( '.version div', current_type_element )
-                                .html( data.indexVersion );
-                            $( '.generation div', current_type_element )
-                                .html( data.generation );
-                            $( '.size div', current_type_element )
-                                .html( data.indexSize );
+              $( '.version div', current_type_element )
+                .html( data.indexVersion );
+              $( '.generation div', current_type_element )
+                .html( data.generation );
+              $( '.size div', current_type_element )
+                .html( data.indexSize );
                             
-                            if( is_slave )
-                            {
-                                var master_element = $( '.master', details_element );
-                                $( '.version div', master_element )
-                                    .html( data.slave.masterDetails.indexVersion );
-                                $( '.generation div', master_element )
-                                    .html( data.slave.masterDetails.generation );
-                                $( '.size div', master_element )
-                                    .html( data.slave.masterDetails.indexSize );
+              if( is_slave )
+              {
+                var master_element = $( '.master', details_element );
+                $( '.version div', master_element )
+                  .html( data.slave.masterDetails.indexVersion );
+                $( '.generation div', master_element )
+                  .html( data.slave.masterDetails.generation );
+                $( '.size div', master_element )
+                  .html( data.slave.masterDetails.indexSize );
                                 
-                                if( data.indexVersion !== data.slave.masterDetails.indexVersion )
-                                {
-                                    $( '.version', details_element )
-                                        .addClass( 'diff' );
-                                }
-                                else
-                                {
-                                    $( '.version', details_element )
-                                        .removeClass( 'diff' );
-                                }
+                if( data.indexVersion !== data.slave.masterDetails.indexVersion )
+                {
+                  $( '.version', details_element )
+                    .addClass( 'diff' );
+                }
+                else
+                {
+                  $( '.version', details_element )
+                    .removeClass( 'diff' );
+                }
                                 
-                                if( data.generation !== data.slave.masterDetails.generation )
-                                {
-                                    $( '.generation', details_element )
-                                        .addClass( 'diff' );
-                                }
-                                else
-                                {
-                                    $( '.generation', details_element )
-                                        .removeClass( 'diff' );
-                                }
-                            }
-                        },
-                        error : function( xhr, text_status, error_thrown)
-                        {
-                            this
-                                .addClass( 'disabled' );
+                if( data.generation !== data.slave.masterDetails.generation )
+                {
+                  $( '.generation', details_element )
+                    .addClass( 'diff' );
+                }
+                else
+                {
+                  $( '.generation', details_element )
+                    .removeClass( 'diff' );
+                }
+              }
+            },
+            error : function( xhr, text_status, error_thrown)
+            {
+              this
+                .addClass( 'disabled' );
                             
-                            $( '.message', this )
-                                .show()
-                                .html( 'Replication is not configured' );
-                        },
-                        complete : function( xhr, text_status )
-                        {
-                            $( 'h2', this )
-                                .removeClass( 'loader' );
-                        }
-                    }
-                );
+              $( '.message', this )
+                .show()
+                .html( 'Replication is not configured' );
+            },
+            complete : function( xhr, text_status )
+            {
+              $( 'h2', this )
+                .removeClass( 'loader' );
+            }
+          }
+        );
 
-                $.ajax
-                (
-                    {
-                        url : core_basepath + '/dataimport?command=details&wt=json',
-                        dataType : 'json',
-                        context : $( '#dataimport', dashboard_element ),
-                        beforeSend : function( xhr, settings )
-                        {
-                            $( 'h2', this )
-                                .addClass( 'loader' );
+        $.ajax
+        (
+          {
+            url : core_basepath + '/dataimport?command=details&wt=json',
+            dataType : 'json',
+            context : $( '#dataimport', dashboard_element ),
+            beforeSend : function( xhr, settings )
+            {
+              $( 'h2', this )
+                .addClass( 'loader' );
 
-                            $( '.message', this )
-                                .show()
-                                .html( 'Loading' );
-                        },
-                        success : function( response, text_status, xhr )
-                        {
-                            $( '.message', this )
-                                .empty()
-                                .hide();
+              $( '.message', this )
+                .show()
+                .html( 'Loading' );
+            },
+            success : function( response, text_status, xhr )
+            {
+              $( '.message', this )
+                .empty()
+                .hide();
                             
-                            $( 'dl', this )
-                                .show();
+              $( 'dl', this )
+                .show();
                             
-                            var data = {
-                                'status' : response['status'],
-                                'info' : response['statusMessages']['']
-                            };
+              var data = {
+                'status' : response['status'],
+                'info' : response['statusMessages']['']
+              };
                             
-                            for( var key in data )
-                            {
-                                $( '.' + key, this )
-                                    .show();
+              for( var key in data )
+              {
+                $( '.' + key, this )
+                  .show();
                                 
-                                $( '.value.' + key, this )
-                                    .html( data[key] );
-                            }
-                        },
-                        error : function( xhr, text_status, error_thrown)
-                        {
-                            this
-                                .addClass( 'disabled' );
+                $( '.value.' + key, this )
+                  .html( data[key] );
+              }
+            },
+            error : function( xhr, text_status, error_thrown)
+            {
+              this
+                .addClass( 'disabled' );
                             
-                            $( '.message', this )
-                                .show()
-                                .html( 'Dataimport is not configured' );
-                        },
-                        complete : function( xhr, text_status )
-                        {
-                            $( 'h2', this )
-                                .removeClass( 'loader' );
-                        }
-                    }
-                );
+              $( '.message', this )
+                .show()
+                .html( 'Dataimport is not configured' );
+            },
+            complete : function( xhr, text_status )
+            {
+              $( 'h2', this )
+                .removeClass( 'loader' );
+            }
+          }
+        );
                 
-                $.ajax
-                (
-                    {
-                        url : core_basepath + '/admin/file/?file=admin-extra.html',
-                        dataType : 'html',
-                        context : $( '#admin-extra', dashboard_element ),
-                        beforeSend : function( xhr, settings )
-                        {
-                            $( 'h2', this )
-                                .addClass( 'loader' );
+        $.ajax
+        (
+          {
+            url : core_basepath + '/admin/file/?file=admin-extra.html',
+            dataType : 'html',
+            context : $( '#admin-extra', dashboard_element ),
+            beforeSend : function( xhr, settings )
+            {
+              $( 'h2', this )
+                .addClass( 'loader' );
                             
-                            $( '.message', this )
-                                .show()
-                                .html( 'Loading' );
+              $( '.message', this )
+                .show()
+                .html( 'Loading' );
 
-                            $( '.content', this )
-                                .hide();
-                        },
-                        success : function( response, text_status, xhr )
-                        {
-                            $( '.message', this )
-                                .hide()
-                                .empty();
+              $( '.content', this )
+                .hide();
+            },
+            success : function( response, text_status, xhr )
+            {
+              $( '.message', this )
+                .hide()
+                .empty();
 
-                            $( '.content', this )
-                                .show()
-                                .html( response );
-                        },
-                        error : function( xhr, text_status, error_thrown)
-                        {
-                            this
-                                .addClass( 'disabled' );
+              $( '.content', this )
+                .show()
+                .html( response );
+            },
+            error : function( xhr, text_status, error_thrown)
+            {
+              this
+                .addClass( 'disabled' );
                             
-                            $( '.message', this )
-                                .show()
-                                .html( 'We found no "admin-extra.html" file.' );
-                        },
-                        complete : function( xhr, text_status )
-                        {
-                            $( 'h2', this )
-                                .removeClass( 'loader' );
-                        }
-                    }
-                );
-                
+              $( '.message', this )
+                .show()
+                .html( 'We found no "admin-extra.html" file.' );
+            },
+            complete : function( xhr, text_status )
+            {
+              $( 'h2', this )
+                .removeClass( 'loader' );
             }
+          }
         );
-    }
+                
+      }
+    );
+  }
 );
\ No newline at end of file
diff --git a/solr/webapp/web/js/scripts/dataimport.js b/solr/webapp/web/js/scripts/dataimport.js
index 1078a84..9d4706e 100644
--- a/solr/webapp/web/js/scripts/dataimport.js
+++ b/solr/webapp/web/js/scripts/dataimport.js
@@ -1,3 +1,20 @@
+/*
+ Licensed to the Apache Software Foundation (ASF) under one or more
+ contributor license agreements.  See the NOTICE file distributed with
+ this work for additional information regarding copyright ownership.
+ The ASF licenses this file to You under the Apache License, Version 2.0
+ (the "License"); you may not use this file except in compliance with
+ the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+*/
+
 sammy.bind
 (
     'dataimport_queryhandler_load',
@@ -186,7 +203,7 @@ sammy.get
                             {
                                 var code = $(
                                     '<pre class="syntax language-xml"><code>' +
-                                    xhr.responseText.replace( /\</g, '&lt;' ).replace( /\>/g, '&gt;' ) +
+                                    xhr.responseText.esc() +
                                     '</code></pre>'
                                 );
                                 this.html( code );
@@ -415,38 +432,29 @@ sammy.get
                 // form
 
                 $( 'form', form_element )
-                    .die( 'submit' )
-                    .live
+                    .ajaxForm
                     (
-                        'submit',
-                        function( event )
                         {
-                            $.ajax
-                            (
-                                {
-                                    url : handler_url + '?command=full-import',
-                                    dataType : 'xml',
-                                    beforeSend : function( xhr, settings )
-                                    {
-                                    },
-                                    success : function( response, text_status, xhr )
-                                    {
-                                        console.debug( response );
-                                        dataimport_fetch_status();
-                                    },
-                                    error : function( xhr, text_status, error_thrown )
-                                    {
-                                        console.debug( arguments );
-                                    },
-                                    complete : function( xhr, text_status )
-                                    {
-                                    }
-                                }
-                            );
-                            return false;
+                            url : handler_url,
+                            dataType : 'xml',
+                            beforeSend : function( xhr, settings )
+                            {
+                            },
+                            success : function( response, text_status, xhr )
+                            {
+                                console.debug( response );
+                                dataimport_fetch_status();
+                            },
+                            error : function( xhr, text_status, error_thrown )
+                            {
+                                console.debug( arguments );
+                            },
+                            complete : function( xhr, text_status )
+                            {
+                            }
                         }
                     );
             }
         );
     }
-);
\ No newline at end of file
+);
diff --git a/solr/webapp/web/js/scripts/file.js b/solr/webapp/web/js/scripts/file.js
index 57e7269..63faff5 100644
--- a/solr/webapp/web/js/scripts/file.js
+++ b/solr/webapp/web/js/scripts/file.js
@@ -1,37 +1,54 @@
+/*
+ Licensed to the Apache Software Foundation (ASF) under one or more
+ contributor license agreements.  See the NOTICE file distributed with
+ this work for additional information regarding copyright ownership.
+ The ASF licenses this file to You under the Apache License, Version 2.0
+ (the "License"); you may not use this file except in compliance with
+ the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+*/
+
 // #/:core/schema, #/:core/config
 sammy.get
 (
-    /^#\/([\w\d-]+)\/(schema|config)$/,
-    function( context )
-    {
-        var core_basepath = this.active_core.attr( 'data-basepath' );
+  /^#\/([\w\d-]+)\/(schema|config)$/,
+  function( context )
+  {
+    var core_basepath = this.active_core.attr( 'data-basepath' );
 
-        $.ajax
-        (
-            {
-                url : core_basepath + app.config[ context.params.splat[1] + '_path' ],
-                dataType : 'xml',
-                context : $( '#content' ),
-                beforeSend : function( xhr, settings )
-                {
-                    this
-                        .html( '<div class="loader">Loading ...</div>' );
-                },
-                complete : function( xhr, text_status )
-                {
-                    var code = $(
-                        '<pre class="syntax language-xml"><code>' +
-                        xhr.responseText.esc() +
-                        '</code></pre>'
-                    );
-                    this.html( code );
+    $.ajax
+    (
+      {
+        url : core_basepath + app.config[ context.params.splat[1] + '_path' ],
+        dataType : 'xml',
+        context : $( '#content' ),
+        beforeSend : function( xhr, settings )
+        {
+          this
+          .html( '<div class="loader">Loading ...</div>' );
+        },
+        complete : function( xhr, text_status )
+        {
+          var code = $(
+            '<pre class="syntax language-xml"><code>' +
+            xhr.responseText.esc() +
+            '</code></pre>'
+          );
+          this.html( code );
 
-                    if( 'success' === text_status )
-                    {
-                        hljs.highlightBlock( code.get(0) );
-                    }
-                }
-            }
-        );
-    }
+          if( 'success' === text_status )
+          {
+            hljs.highlightBlock( code.get(0) );
+          }
+        }
+      }
+    );
+  }
 );
\ No newline at end of file
diff --git a/solr/webapp/web/js/scripts/index.js b/solr/webapp/web/js/scripts/index.js
index e4a1d69..f4fbf8f 100644
--- a/solr/webapp/web/js/scripts/index.js
+++ b/solr/webapp/web/js/scripts/index.js
@@ -1,184 +1,344 @@
+/*
+ Licensed to the Apache Software Foundation (ASF) under one or more
+ contributor license agreements.  See the NOTICE file distributed with
+ this work for additional information regarding copyright ownership.
+ The ASF licenses this file to You under the Apache License, Version 2.0
+ (the "License"); you may not use this file except in compliance with
+ the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+*/
+
+var parse_memory_value = function( value )
+{
+  if( value !== Number( value ) )
+  {
+    var units = 'BKMGTPEZY';
+    var match = value.match( /^(\d+([,\.]\d+)?) (\w)\w?$/ );
+    var value = parseFloat( match[1] ) * Math.pow( 1024, units.indexOf( match[3].toUpperCase() ) );
+  }
+    
+  return value;
+};
+
+var generate_bar = function( bar_container, bar_data, convert_label_values )
+{
+  bar_holder = $( '.bar-holder', bar_container );
+
+  var bar_level = 1;
+  var max_width = Math.round( $( '.bar-max', bar_holder ).width() );
+  $( '.bar-max.val', bar_holder ).text( bar_data['max'] );
+    
+  bar_level++;
+  var total_width = Math.round( ( bar_data['total'] * max_width ) / bar_data['max'] );
+  $( '.bar-total.bar', bar_holder ).width( Math.max( total_width, 1 ) );
+  $( '.bar-total.val', bar_holder ).text( bar_data['total'] );
+
+  if( bar_data['used'] )
+  {
+    bar_level++;
+    var used_width = Math.round( ( bar_data['used'] * max_width ) / bar_data['max'] );
+    $( '.bar-used.bar', bar_holder ).width( Math.min( used_width, total_width - 1 ) );
+    $( '.bar-used.val', bar_holder ).text( bar_data['used'] );
+  }
+
+  bar_holder
+    .addClass( 'bar-lvl-' + bar_level );
+
+  var percentage = ( ( ( bar_data['used'] || bar_data['total'] ) / bar_data['max'] ) * 100 ).toFixed(1);
+        
+  var hl = $( '[data-desc="' + bar_container.attr( 'id' ) + '"]' );
+
+  $( '.bar-desc', hl )
+    .remove();
+
+  hl
+    .append( ' <small class="bar-desc">' + percentage + '%</small>' );
+
+  if( !!convert_label_values )
+  {
+    $( '.val', bar_holder )
+      .each
+      (
+        function()
+        {
+          var self = $( this );
+
+          var unit = null;
+          var byte_value = parseInt( self.html() );
+
+          self
+            .attr( 'title', 'raw: ' + byte_value + ' B' );
+
+          byte_value /= 1024;
+          byte_value /= 1024;
+          unit = 'MB';
+
+          if( 1024 <= byte_value )
+          {
+            byte_value /= 1024;
+            unit = 'GB';
+          }
+
+          byte_value = byte_value.toFixed( 2 ) + ' ' + unit;
+
+          self
+            .text( byte_value );
+        }
+      );
+  }
+};
+
+var system_info = function( element, system_data )
+{
+  // -- usage
+
+  var load_average = system_data['system']['uptime'].match( /load average: (.+)/ );
+  if( load_average && load_average[1] )
+  {
+    var hl = $( '#system h2', element );
+
+    $( '.bar-desc', hl )
+      .remove();
+
+    hl
+      .append( ' <small class="bar-desc">' + load_average[1].split( ', ' ).join( '  ' ).esc() + '</small>' );
+  }
+
+  // -- physical-memory-bar
+    
+  var bar_holder = $( '#physical-memory-bar', element );
+  if( !system_data['system']['totalPhysicalMemorySize'] )
+  {
+    bar_holder.hide();
+  }
+  else
+  {
+    bar_holder.show();
+    
+    var bar_data = {
+      'max' : parse_memory_value( system_data['system']['totalPhysicalMemorySize'] ),
+      'total' : parse_memory_value( system_data['system']['totalPhysicalMemorySize'] - system_data['system']['freePhysicalMemorySize'] )
+    };
+
+    generate_bar( bar_holder, bar_data, true );
+  }
+
+  // -- swap-space-bar
+    
+  var bar_holder = $( '#swap-space-bar', element );
+  if( !system_data['system']['totalSwapSpaceSize'] )
+  {
+    bar_holder.hide();
+  }
+  else
+  {
+    bar_holder.show();
+
+    var bar_data = {
+      'max' : parse_memory_value( system_data['system']['totalSwapSpaceSize'] ),
+      'total' : parse_memory_value( system_data['system']['totalSwapSpaceSize'] - system_data['system']['freeSwapSpaceSize'] )
+    };
+
+    generate_bar( bar_holder, bar_data, true );
+  }
+
+  // -- swap-space-bar
+    
+  var bar_holder = $( '#file-descriptor-bar', element );
+  if( !system_data['system']['maxFileDescriptorCount'] )
+  {
+    bar_holder.hide();
+  }
+  else
+  {
+    bar_holder.show();
+
+    var bar_data = {
+      'max' : parse_memory_value( system_data['system']['maxFileDescriptorCount'] ),
+      'total' : parse_memory_value( system_data['system']['openFileDescriptorCount'] )
+    };
+
+    generate_bar( bar_holder, bar_data );
+  }
+
+  0 === $( '#system div[id$="-bar"]:visible', element ).size()
+    ? $( '#system .no-info', element ).show()
+    : $( '#system .no-info', element ).hide();
+
+  // -- memory-bar
+
+  var jvm_memory = $.extend
+  (
+    {
+      'free' : null,
+      'total' : null,
+      'max' : null,
+      'used' : null,
+      'raw' : {
+        'free' : null,
+        'total' : null,
+        'max' : null,
+        'used' : null,
+        'used%' : null
+      }
+    },
+    system_data['jvm']['memory']
+  );
+    
+  var bar_holder = $( '#jvm-memory-bar', element );
+  var bar_data = {
+    'max' : parse_memory_value( jvm_memory['raw']['max'] || jvm_memory['max'] ),
+    'total' : parse_memory_value( jvm_memory['raw']['total'] || jvm_memory['total'] ),
+    'used' : parse_memory_value( jvm_memory['raw']['used'] || jvm_memory['used'] )
+  };
+
+  generate_bar( bar_holder, bar_data, true );
+}
+
 // #/
 sammy.get
 (
-    /^#\/$/,
-    function( context )
-    {
-        var content_element = $( '#content' );
+  /^#\/$/,
+  function( context )
+  {
+    var content_element = $( '#content' );
 
-        $( '#index', app.menu_element )
-            .addClass( 'active' );
+    $( '#index', app.menu_element )
+      .addClass( 'active' );
 
-        content_element
-            .html( '<div id="index"></div>' );
+    content_element
+      .html( '<div id="index"></div>' );
 
-        $.ajax
-        (
-            {
-                url : 'tpl/index.html',
-                context : $( '#index', content_element ),
-                beforeSend : function( arr, form, options )
-                {
-                },
-                success : function( template )
-                {
-                    this
-                        .html( template );
-
-                    var jvm_memory = $.extend
-                    (
-                        {
-                            'free' : null,
-                            'total' : null,
-                            'max' : null,
-                            'used' : null,
-                            'raw' : {
-                                'free' : null,
-                                'total' : null,
-                                'max' : null,
-                                'used' : null,
-                                'used%' : null
-                            }
-                        },
-                        app.dashboard_values['jvm']['memory']
-                    );
-
-                    var parse_memory_value = function( value )
-                    {
-                        if( value !== Number( value ) )
-                        {
-                            var units = 'BKMGTPEZY';
-                            var match = value.match( /^(\d+([,\.]\d+)?) (\w)\w?$/ );
-                            var value = parseFloat( match[1] ) * Math.pow( 1024, units.indexOf( match[3].toUpperCase() ) );
-                        }
-                        
-                        return value;
-                    };
-                    var memory_data = {
-                        'memory-bar-max' : parse_memory_value( jvm_memory['raw']['max'] || jvm_memory['max'] ),
-                        'memory-bar-total' : parse_memory_value( jvm_memory['raw']['total'] || jvm_memory['total'] ),
-                        'memory-bar-used' : parse_memory_value( jvm_memory['raw']['used'] || jvm_memory['used'] )
-                    };                            
-    
-                    for( var key in memory_data )
-                    {                                                        
-                        $( '.value.' + key, this )
-                            .text( memory_data[key] );
-                    }
+    $.ajax
+    (
+      {
+        url : 'tpl/index.html',
+        context : $( '#index', content_element ),
+        beforeSend : function( arr, form, options )
+        {
+        },
+        success : function( template )
+        {
+          var self = this;
+
+          this
+            .html( template );
     
-                    var data = {
-                        'start_time' : app.dashboard_values['jvm']['jmx']['startTime'],
-                        'host' : app.dashboard_values['core']['host'],
-                        'jvm' : app.dashboard_values['jvm']['name'] + ' (' + app.dashboard_values['jvm']['version'] + ')',
-                        'solr_spec_version' : app.dashboard_values['lucene']['solr-spec-version'],
-                        'solr_impl_version' : app.dashboard_values['lucene']['solr-impl-version'],
-                        'lucene_spec_version' : app.dashboard_values['lucene']['lucene-spec-version'],
-                        'lucene_impl_version' : app.dashboard_values['lucene']['lucene-impl-version']
-                    };
-
-                    if( app.dashboard_values['core']['directory']['cwd'] )
-                    {
-                        data['cwd'] = app.dashboard_values['core']['directory']['cwd'];
-                    }
+          var data = {
+            'start_time' : app.dashboard_values['jvm']['jmx']['startTime'],
+            'host' : app.dashboard_values['core']['host'],
+            'dir_instance' : app.dashboard_values['core']['directory']['instance'],
+            'dir_data' : app.dashboard_values['core']['directory']['data'],
+            'dir_index' : app.dashboard_values['core']['directory']['index'],
+            'jvm_version' : app.dashboard_values['jvm']['name'] + ' (' + app.dashboard_values['jvm']['version'] + ')',
+            'processors' : app.dashboard_values['jvm']['processors'],
+            'solr_spec_version' : app.dashboard_values['lucene']['solr-spec-version'],
+            'solr_impl_version' : app.dashboard_values['lucene']['solr-impl-version'],
+            'lucene_spec_version' : app.dashboard_values['lucene']['lucene-spec-version'],
+            'lucene_impl_version' : app.dashboard_values['lucene']['lucene-impl-version']
+          };
+
+          if( app.dashboard_values['core']['directory']['cwd'] )
+          {
+            data['dir_cwd'] = app.dashboard_values['core']['directory']['cwd'];
+          }
     
-                    for( var key in data )
-                    {                                                        
-                        var value_element = $( '.' + key + ' dd', this );
+          for( var key in data )
+          {                                                        
+            var value_element = $( '.' + key + ' dd', this );
 
-                        value_element
-                            .text( data[key] );
+            value_element
+              .text( data[key].esc() );
                         
-                        value_element.closest( 'li' )
-                            .show();
-                    }
+            value_element.closest( 'li' )
+              .show();
+          }
 
-                    var commandLineArgs = app.dashboard_values['jvm']['jmx']['commandLineArgs'];
-                    if( 0 !== commandLineArgs.length )
-                    {
-                        var cmd_arg_element = $( '.command_line_args dt', this );
-                        var cmd_arg_key_element = $( '.command_line_args dt', this );
-                        var cmd_arg_element = $( '.command_line_args dd', this );
+          var commandLineArgs = app.dashboard_values['jvm']['jmx']['commandLineArgs'];
+          if( 0 !== commandLineArgs.length )
+          {
+            var cmd_arg_element = $( '.command_line_args dt', this );
+            var cmd_arg_key_element = $( '.command_line_args dt', this );
+            var cmd_arg_element = $( '.command_line_args dd', this );
 
-                        for( var key in commandLineArgs )
-                        {
-                            cmd_arg_element = cmd_arg_element.clone();
-                            cmd_arg_element.text( commandLineArgs[key] );
+            for( var key in commandLineArgs )
+            {
+              cmd_arg_element = cmd_arg_element.clone();
+              cmd_arg_element.text( commandLineArgs[key] );
 
-                            cmd_arg_key_element
-                                .after( cmd_arg_element );
-                        }
+              cmd_arg_key_element
+                .after( cmd_arg_element );
+            }
 
-                        cmd_arg_key_element.closest( 'li' )
-                            .show();
+            cmd_arg_key_element.closest( 'li' )
+              .show();
 
-                        $( '.command_line_args dd:last', this )
-                            .remove();
+            $( '.command_line_args dd:last', this )
+              .remove();
 
-                        $( '.command_line_args dd:odd', this )
-                            .addClass( 'odd' );
-                    }
+            $( '.command_line_args dd:odd', this )
+              .addClass( 'odd' );
+          }
 
-                    $( '.timeago', this )
-                        .timeago();
+          $( '.timeago', this )
+            .timeago();
 
-                    $( 'li:visible:odd', this )
-                        .addClass( 'odd' );
+          $( '.index-left .block li:visible:odd', this )
+            .addClass( 'odd' );
                     
-                    // -- memory bar
+          // -- system_info
 
-                    var max_height = Math.round( $( '#memory-bar-max', this ).height() );
-                    var total_height = Math.round( ( memory_data['memory-bar-total'] * max_height ) / memory_data['memory-bar-max'] );
-                    var used_height = Math.round( ( memory_data['memory-bar-used'] * max_height ) / memory_data['memory-bar-max'] );
+          system_info( this, app.dashboard_values );
 
-                    var memory_bar_total_value = $( '#memory-bar-total span', this ).first();
-
-                    $( '#memory-bar-total', this )
-                        .height( total_height );
-                    
-                    $( '#memory-bar-used', this )
-                        .height( used_height );
-
-                    if( used_height < total_height + memory_bar_total_value.height() )
+          $( '#system a.reload', this )
+            .die( 'click' )
+            .live
+            (
+              'click',
+              function( event )
+              {
+                $.ajax
+                (
+                  {
+                    url : environment_basepath + '/admin/system?wt=json',
+                    dataType : 'json',
+                    context : this,
+                    beforeSend : function( arr, form, options )
+                    {
+                      loader.show( this );
+                    },
+                    success : function( response )
                     {
-                        memory_bar_total_value
-                            .addClass( 'upper' )
-                            .css( 'margin-top', memory_bar_total_value.height() * -1 );
+                      system_info( self, response );
+                    },
+                    error : function()
+                    {
+                    },
+                    complete : function()
+                    {
+                      loader.hide( this );
                     }
+                  }
+                );
 
-                    var memory_percentage = ( ( memory_data['memory-bar-used'] / memory_data['memory-bar-max'] ) * 100 ).toFixed(1);
-                    var headline = $( '#memory h2 span', this );
-                        
-                    headline
-                        .text( headline.html() + ' (' + memory_percentage + '%)' );
-
-                    $( '#memory-bar .value', this )
-                        .each
-                        (
-                            function()
-                            {
-                                var self = $( this );
-
-                                var byte_value = parseInt( self.html() );
-
-                                self
-                                    .attr( 'title', 'raw: ' + byte_value + ' B' );
-
-                                byte_value /= 1024;
-                                byte_value /= 1024;
-                                byte_value = byte_value.toFixed( 2 ) + ' MB';
-
-                                self
-                                    .text( byte_value );
-                            }
-                        );
-                },
-                error : function( xhr, text_status, error_thrown )
-                {
-                },
-                complete : function( xhr, text_status )
-                {
-                }
-            }
-        );
-    }
+                return false;
+              }
+            );
+        },
+        error : function( xhr, text_status, error_thrown )
+        {
+        },
+        complete : function( xhr, text_status )
+        {
+        }
+      }
+    );
+  }
 );
\ No newline at end of file
diff --git a/solr/webapp/web/js/scripts/java-properties.js b/solr/webapp/web/js/scripts/java-properties.js
index bdd9067..431cd19 100644
--- a/solr/webapp/web/js/scripts/java-properties.js
+++ b/solr/webapp/web/js/scripts/java-properties.js
@@ -1,84 +1,101 @@
+/*
+ Licensed to the Apache Software Foundation (ASF) under one or more
+ contributor license agreements.  See the NOTICE file distributed with
+ this work for additional information regarding copyright ownership.
+ The ASF licenses this file to You under the Apache License, Version 2.0
+ (the "License"); you may not use this file except in compliance with
+ the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+*/
+
 // #/java-properties
 sammy.get
 (
-    /^#\/(java-properties)$/,
-    function( context )
-    {
-        var core_basepath = $( 'li[data-basepath]', app.menu_element ).attr( 'data-basepath' );
-        var content_element = $( '#content' );
+  /^#\/(java-properties)$/,
+  function( context )
+  {
+    var core_basepath = $( 'li[data-basepath]', app.menu_element ).attr( 'data-basepath' );
+    var content_element = $( '#content' );
 
-        content_element
-            .html( '<div id="java-properties"></div>' );
+    content_element
+      .html( '<div id="java-properties"></div>' );
 
-        $.ajax
-        (
-            {
-                url : core_basepath + '/admin/properties?wt=json',
-                dataType : 'json',
-                context : $( '#java-properties', content_element ),
-                beforeSend : function( xhr, settings )
-                {
-                    this
-                        .html( '<div class="loader">Loading ...</div>' );
-                },
-                success : function( response, text_status, xhr )
-                {
-                    var system_properties = response['system.properties'];
-                    var properties_data = {};
-                    var properties_content = [];
-                    var properties_order = [];
+    $.ajax
+    (
+      {
+        url : core_basepath + '/admin/properties?wt=json',
+        dataType : 'json',
+        context : $( '#java-properties', content_element ),
+        beforeSend : function( xhr, settings )
+        {
+          this
+            .html( '<div class="loader">Loading ...</div>' );
+        },
+        success : function( response, text_status, xhr )
+        {
+          var system_properties = response['system.properties'];
+          var properties_data = {};
+          var properties_content = [];
+          var properties_order = [];
 
-                    for( var key in system_properties )
-                    {
-                        var displayed_key = key.replace( /\./g, '.&#8203;' );
-                        var displayed_value = [ system_properties[key] ];
-                        var item_class = 'clearfix';
+          for( var key in system_properties )
+          {
+            var displayed_key = key.replace( /\./g, '.&#8203;' );
+            var displayed_value = [ system_properties[key] ];
+            var item_class = 'clearfix';
 
-                        if( -1 !== key.indexOf( '.path' ) || -1 !== key.indexOf( '.dirs' ) )
-                        {
-                            displayed_value = system_properties[key].split( system_properties['path.separator'] );
-                            if( 1 < displayed_value.length )
-                            {
-                                item_class += ' multi';
-                            }
-                        }
+            if( -1 !== key.indexOf( '.path' ) || -1 !== key.indexOf( '.dirs' ) )
+            {
+              displayed_value = system_properties[key].split( system_properties['path.separator'] );
+              if( 1 < displayed_value.length )
+              {
+                item_class += ' multi';
+              }
+            }
 
-                        var item_content = '<li><dl class="' + item_class + '">' + "\n" +
-                                           '<dt>' + displayed_key.esc() + '</dt>' + "\n";
+            var item_content = '<li><dl class="' + item_class + '">' + "\n"
+                             + '<dt>' + displayed_key.esc() + '</dt>' + "\n";
 
-                        for( var i in displayed_value )
-                        {
-                            item_content += '<dd>' + displayed_value[i].esc() + '</dd>' + "\n";
-                        }
+            for( var i in displayed_value )
+            {
+              item_content += '<dd>' + displayed_value[i].esc() + '</dd>' + "\n";
+            }
 
-                        item_content += '</dl></li>';
+            item_content += '</dl></li>';
 
-                        properties_data[key] = item_content;
-                        properties_order.push( key );
-                    }
+            properties_data[key] = item_content;
+            properties_order.push( key );
+          }
 
-                    properties_order.sort();
-                    for( var i in properties_order )
-                    {
-                        properties_content.push( properties_data[properties_order[i]] );
-                    }
+          properties_order.sort();
+          for( var i in properties_order )
+          {
+            properties_content.push( properties_data[properties_order[i]] );
+          }
 
-                    this
-                        .html( '<ul>' + properties_content.join( "\n" ) + '</ul>' );
+          this
+            .html( '<ul>' + properties_content.join( "\n" ) + '</ul>' );
                     
-                    $( 'li:odd', this )
-                        .addClass( 'odd' );
+          $( 'li:odd', this )
+            .addClass( 'odd' );
                     
-                    $( '.multi dd:odd', this )
-                        .addClass( 'odd' );
-                },
-                error : function( xhr, text_status, error_thrown)
-                {
-                },
-                complete : function( xhr, text_status )
-                {
-                }
-            }
-        );
-    }
+          $( '.multi dd:odd', this )
+            .addClass( 'odd' );
+        },
+        error : function( xhr, text_status, error_thrown)
+        {
+        },
+        complete : function( xhr, text_status )
+        {
+        }
+      }
+    );
+  }
 );
\ No newline at end of file
diff --git a/solr/webapp/web/js/scripts/logging.js b/solr/webapp/web/js/scripts/logging.js
index 37a55ef..ce86824 100644
--- a/solr/webapp/web/js/scripts/logging.js
+++ b/solr/webapp/web/js/scripts/logging.js
@@ -1,166 +1,236 @@
-// #/logging
-sammy.get
-(
-    /^#\/(logging)$/,
-    function( context )
+/*
+ Licensed to the Apache Software Foundation (ASF) under one or more
+ contributor license agreements.  See the NOTICE file distributed with
+ this work for additional information regarding copyright ownership.
+ The ASF licenses this file to You under the Apache License, Version 2.0
+ (the "License"); you may not use this file except in compliance with
+ the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+*/
+
+var loglevel_path = null;
+var logging_handler = function( response, text_status, xhr )
+{
+  var self = this;
+  var loggers = response.loggers;
+
+  var levels = '<div class="selector-holder"><div class="selector">' + "\n"
+             + '<a class="trigger"><span><em>null</em></span></a>' + "\n"
+             + '<ul>' + "\n";
+
+  for( var key in response.levels )
+  {
+    var level = response.levels[key].esc();
+    levels += '<li><a href="#" data-level="' + level + '">' + level + '</a></li>' + "\n";
+  }
+
+  levels += '<li class="unset"><a href="#" data-level="unset">UNSET</a></li>' + "\n"
+         + '</ul>' + "\n"
+         + '<a class="close"><span>[x]</span></a>' + "\n"
+         + '</div></div>';
+
+  var logger_tree = function( filter )
+  {
+    var logger_content = '';
+    var filter_regex = new RegExp( '^' + filter + '\\.\\w+$' );
+
+    for( var i in loggers )
     {
-        var content_element = $( '#content' );
-        
-        content_element
-            .html( '<div id="logging"></div>' );
+      var logger = loggers[i];
+      var continue_matcher = false;
+
+      if( !filter )
+      {
+        continue_matcher = logger.name.indexOf( '.' ) !== -1;
+      }
+      else
+      {
+        continue_matcher = !logger.name.match( filter_regex );
+      }
+
+      if( continue_matcher )
+      {
+        continue;
+      }
+
+      var logger_class = '';
+
+      if( logger.set )
+      {
+        logger_class = 'set';
+      }
+            
+      if( !logger.level )
+      {
+        logger_class = 'null';
+      }
+
+      var logger_name = logger.name.split( '.' );
+      var display_name = logger_name.pop();
+
+      logger_content += '<li class="jstree-leaf" data-logger="' + logger.name.esc() + '">';
+      logger_content += '<ins class="trigger jstree-icon">&nbsp;</ins>' + "\n";
+      logger_content += '<a href="#" class="trigger '+ logger_class + '"' ;
+
+      if( logger.level )
+      {
+        logger_content += 'rel="' + logger.level.esc() + '" ';
+      }
+            
+      logger_content += 'title="' + logger.name.esc() + '">' + "\n";
+
+      if( 0 !== logger_name.length )
+      {
+        logger_content += '<span class="ns">' + logger_name.join( '.' ).esc() + '.</span>';
+      }
+
+      logger_content += '<span class="name">' + display_name.esc() + '</span>' + "\n";
+      logger_content += '</a>';
+
+      logger_content += levels;
+
+      var child_logger_content = logger_tree( logger.name );
+      if( child_logger_content )
+      {
+        logger_content += '<ul>';
+        logger_content += child_logger_content;
+        logger_content += '</ul>';
+      }
+
+      logger_content += '</li>';
+    }
+
+    return logger_content;
+  };
+
+  var logger_content = logger_tree( null );
+
+  self
+    .html( '<ul class="tree jstree">' + logger_content + '</ul>' );
+
+  $( 'li:last-child', this )
+    .addClass( 'jstree-last' );
+
+  $( 'li.jstree-leaf > a', this )
+    .each
+    (
+      function( index, element )
+      {
+        element = $( element );
+        var level = element.attr( 'rel' );
+
+        if( level )
+        {
+          var selector = $( '.selector-holder', element.closest( 'li' ) );
+
+          $( 'a.trigger', selector )
+            .text( level.esc() );
+
+          $( 'ul a[data-level="' + level + '"]', selector ).first()
+            .addClass( 'level' );
+        }
+      }
+    )
+
+  $( '.trigger, .selector .close', this )
+    .die( 'click' )
+    .live
+    (
+      'click',
+      function( event )
+      {
+        $( '.selector-holder', $( this ).parents( 'li' ).first() ).first()
+          .trigger( 'toggle' );
+
+        return false;
+      }
+    );
+    
+  $( '.selector-holder', this )
+    .die( 'toggle')
+    .live
+    (
+      'toggle',
+      function( event )
+      {
+        var row = $( this ).closest( 'li' );
+
+        $( 'a:first', row )
+          .toggleClass( 'open' );
+
+        $( '.selector-holder:first', row )
+          .toggleClass( 'open' );
+      }
+    );
+
+  $( '.selector ul a', this )
+    .die( 'click' )
+    .live
+    (
+      'click',
+      function( event )
+      {
+        var element = $( this );
 
         $.ajax
         (
+          {
+            url : loglevel_path,
+            dataType : 'json',
+            data : {
+              'wt' : 'json',
+              'set' : $( this ).parents( 'li[data-logger]' ).data( 'logger' ) + ':' + element.data( 'level' )
+            },
+            type : 'POST',
+            context : self,
+            beforeSend : function( xhr, settings )
             {
-                url : 'logging.json',
-                dataType : 'json',
-                context : $( '#logging', content_element ),
-                beforeSend : function( xhr, settings )
-                {
-                    this
-                        .html( '<div class="loader">Loading ...</div>' );
-                },
-                success : function( response, text_status, xhr )
-                {
-                    var logger = response.logger;
-
-                    var loglevel = '<div class="loglevel %class%">' + "\n";
-                    loglevel += '<a class="effective_level trigger"><span>%effective_level%</span></a>' + "\n";
-                    loglevel += '<ul>' + "\n";
-
-                    for( var key in response.levels )
-                    {
-                        var level = response.levels[key].esc();
-                        loglevel += '<li class="' + level + '"><a>' + level + '</a></li>' + "\n";
-                    }
-
-                    loglevel += '<li class="UNSET"><a>UNSET</a></li>' + "\n";
-                    loglevel += '</ul>' + "\n";
-                    loglevel += '</div>';
-
-                    var logger_tree = function( filter )
-                    {
-                        var logger_content = '';
-                        var filter_regex = new RegExp( '^' + filter + '\\.\\w+$' );
-
-                        for( var logger_name in logger )
-                        {
-                            var continue_matcher = false;
-
-                            if( !filter )
-                            {
-                                continue_matcher = logger_name.indexOf( '.' ) !== -1;
-                            }
-                            else
-                            {
-                                continue_matcher = !logger_name.match( filter_regex );
-                            }
-
-                            if( continue_matcher )
-                            {
-                                continue;
-                            }
-
-                            var has_logger_instance = !!logger[logger_name];
-
-                            var classes = [];
-
-                            has_logger_instance
-                                ? classes.push( 'active' )
-                                : classes.push( 'inactive' );
-
-                            logger_content += '<li class="jstree-leaf">';
-                            logger_content += '<ins class="jstree-icon">&nbsp;</ins>';
-                            logger_content += '<a class="trigger ' + classes.join( ' ' ) + '" ' + "\n" +
-                                                 'title="' + logger_name.esc() + '"><span>' + "\n" +
-                                                logger_name.split( '.' ).pop().esc() + "\n" +
-                                              '</span></a>';
-
-                            logger_content += loglevel
-                                                .replace
-                                                (
-                                                    /%class%/g,
-                                                    classes.join( ' ' )
-                                                )
-                                                .replace
-                                                (
-                                                    /%effective_level%/g,
-                                                    has_logger_instance
-                                                        ? logger[logger_name].effective_level
-                                                        : 'null'
-                                                );
-
-                            var child_logger_content = logger_tree( logger_name );
-                            if( child_logger_content )
-                            {
-                                logger_content += '<ul>';
-                                logger_content += child_logger_content;
-                                logger_content += '</ul>';
-                            }
-
-                            logger_content += '</li>';
-                        }
-
-                        return logger_content;
-                    }
-
-                    var logger_content = logger_tree( null );
-                    
-                    var warn = '<div>TODO, this is not yet implemented.  For now, use <a href="logging" style="color:00AA00;">the old logging UI</a></div><br/>'
-
-
-                    this.html( warn + '<ul class="tree jstree">' + logger_content + '</ul>' );
-
-                    $( 'li:last-child', this )
-                        .addClass( 'jstree-last' );
-                    
-                    $( '.loglevel', this )
-                        .each
-                        (
-                            function( index, element )
-                            {
-                                var element = $( element );
-                                var effective_level = $( '.effective_level span', element ).text();
-
-                                element
-                                    .css( 'z-index', 800 - index );
-                                
-                                $( 'ul .' + effective_level, element )
-                                    .addClass( 'selected' );
-                            }
-                        );
-
-                    $( '.trigger', this )
-                        .die( 'click' )
-                        .live
-                        (
-                            'click',
-                            function( event )
-                            {
-                                $( '.loglevel', $( this ).parents( 'li' ).first() ).first()
-                                    .trigger( 'toggle' );
-                            }
-                        );
-                    
-                    $( '.loglevel', this )
-                        .die( 'toggle')
-                        .live
-                        (
-                            'toggle',
-                            function( event )
-                            {
-                                $( this )
-                                    .toggleClass( 'open' );
-                            }
-                        );
-                },
-                error : function( xhr, text_status, error_thrown)
-                {
-                },
-                complete : function( xhr, text_status )
-                {
-                }
-            }
+              element
+                .addClass( 'loader' );
+            },
+            success : logging_handler
+          }
         );
-    }
+
+        return false;
+      }
+    );
+
+};
+
+// #/logging
+sammy.get
+(
+  /^#\/(logging)$/,
+  function( context )
+  {
+    var core_basepath = $( 'li[data-basepath]', app.menu_element ).attr( 'data-basepath' );
+    loglevel_path = core_basepath + '/admin/loglevel';
+    var content_element = $( '#content' );
+        
+    content_element
+      .html( '<div id="logging"></div>' );
+
+    $.ajax
+    (
+      {
+        url : loglevel_path + '?wt=json',
+        dataType : 'json',
+        context : $( '#logging', content_element ),
+        beforeSend : function( xhr, settings )
+        {
+          this
+            .html( '<div class="loader">Loading ...</div>' );
+        },
+        success : logging_handler
+      }
+    );
+  }
 );
\ No newline at end of file
diff --git a/solr/webapp/web/js/scripts/ping.js b/solr/webapp/web/js/scripts/ping.js
index 5542f63..b83b8ac 100644
--- a/solr/webapp/web/js/scripts/ping.js
+++ b/solr/webapp/web/js/scripts/ping.js
@@ -1,58 +1,72 @@
+/*
+ Licensed to the Apache Software Foundation (ASF) under one or more
+ contributor license agreements.  See the NOTICE file distributed with
+ this work for additional information regarding copyright ownership.
+ The ASF licenses this file to You under the Apache License, Version 2.0
+ (the "License"); you may not use this file except in compliance with
+ the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+*/
+
 $( '.ping a', app.menu_element )
-    .live
-    (
-        'click',
-        function( event )
+  .live
+  (
+    'click',
+    function( event )
+    {
+      $.ajax
+      (
         {
-            $.ajax
-            (
-                {
-                    url : $( this ).attr( 'rel' ) + '?wt=json&ts=' + (new Date).getTime(),
-                    dataType : 'json',
-                    context: this,
-                    beforeSend : function( arr, form, options )
-                    {
-                        loader.show( this );
-                    },
-                    success : function( response, text_status, xhr )
-                    {
-                        $( this )
-                            .removeAttr( 'title' );
+          url : $( this ).attr( 'rel' ) + '?wt=json&ts=' + (new Date).getTime(),
+          dataType : 'json',
+          context: this,
+          beforeSend : function( arr, form, options )
+          {
+            loader.show( this );
+          },
+          success : function( response, text_status, xhr )
+          {
+            $( this )
+              .removeAttr( 'title' );
                         
-                        $( this ).parents( 'li' )
-                            .removeClass( 'error' );
+            $( this ).parents( 'li' )
+              .removeClass( 'error' );
                             
-                        var qtime_element = $( '.qtime', this );
+            var qtime_element = $( '.qtime', this );
                         
-                        if( 0 === qtime_element.size() )
-                        {
-                            qtime_element = $( '<small class="qtime"> (<span></span>)</small>' );
+            if( 0 === qtime_element.size() )
+            {
+              qtime_element = $( '<small class="qtime"> (<span></span>)</small>' );
                             
-                            $( this )
-                                .append
-                                (
-                                    qtime_element
-                                );
-                        }
+              $( this )
+                .append( qtime_element );
+            }
                         
-                        $( 'span', qtime_element )
-                            .html( response.responseHeader.QTime + 'ms' );
-                    },
-                    error : function( xhr, text_status, error_thrown )
-                    {
-                        $( this )
-                            .attr( 'title', '/admin/ping is not configured (' + xhr.status + ': ' + error_thrown + ')' );
+            $( 'span', qtime_element )
+              .html( response.responseHeader.QTime + 'ms' );
+          },
+          error : function( xhr, text_status, error_thrown )
+          {
+            $( this )
+              .attr( 'title', '/admin/ping is not configured (' + xhr.status + ': ' + error_thrown + ')' );
                         
-                        $( this ).parents( 'li' )
-                            .addClass( 'error' );
-                    },
-                    complete : function( xhr, text_status )
-                    {
-                        loader.hide( this );
-                    }
-                }
-            );
-            
-            return false;
+            $( this ).parents( 'li' )
+              .addClass( 'error' );
+          },
+          complete : function( xhr, text_status )
+          {
+            loader.hide( this );
+          }
         }
-    );
\ No newline at end of file
+      );
+            
+      return false;
+    }
+  );
\ No newline at end of file
diff --git a/solr/webapp/web/js/scripts/plugins.js b/solr/webapp/web/js/scripts/plugins.js
index a15e18a..2adf6b8 100644
--- a/solr/webapp/web/js/scripts/plugins.js
+++ b/solr/webapp/web/js/scripts/plugins.js
@@ -1,259 +1,274 @@
+/*
+ Licensed to the Apache Software Foundation (ASF) under one or more
+ contributor license agreements.  See the NOTICE file distributed with
+ this work for additional information regarding copyright ownership.
+ The ASF licenses this file to You under the Apache License, Version 2.0
+ (the "License"); you may not use this file except in compliance with
+ the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+*/
+
 sammy.bind
 (
-    'plugins_load',
-    function( event, params )
+  'plugins_load',
+  function( event, params )
+  {
+    var callback = function()
     {
-        var callback = function()
-        {
-            params.callback( app.plugin_data.plugin_data, app.plugin_data.sort_table, app.plugin_data.types );
-        }
+      params.callback( app.plugin_data.plugin_data, app.plugin_data.sort_table, app.plugin_data.types );
+    }
         
-        if( app.plugin_data )
-        {
-            callback( app.plugin_data );
-            return true;
-        }
+    if( app.plugin_data )
+    {
+      callback( app.plugin_data );
+      return true;
+    }
 
-        var core_basepath = params.active_core.attr( 'data-basepath' );
-        $.ajax
-        (
-            {
-                url : core_basepath + '/admin/mbeans?stats=true&wt=json',
-                dataType : 'json',
-                beforeSend : function( xhr, settings )
-                {
-                },
-                success : function( response, text_status, xhr )
-                {
-                    var types = [];
-                    var sort_table = {};
-                    var plugin_data = {};
+    var core_basepath = params.active_core.attr( 'data-basepath' );
+    $.ajax
+    (
+      {
+        url : core_basepath + '/admin/mbeans?stats=true&wt=json',
+        dataType : 'json',
+        beforeSend : function( xhr, settings )
+        {
+        },
+        success : function( response, text_status, xhr )
+        {
+          var types = [];
+          var sort_table = {};
+          var plugin_data = {};
 
-                    var types_obj = {};
-                    var plugin_key = null;
+          var types_obj = {};
+          var plugin_key = null;
 
-                    for( var i = 0; i < response['solr-mbeans'].length; i++ )
-                    {
-                        if( !( i % 2 ) )
-                        {
-                            plugin_key = response['solr-mbeans'][i];
-                        }
-                        else
-                        {
-                            plugin_data[plugin_key] = response['solr-mbeans'][i];
-                        }
-                    }
+          for( var i = 0; i < response['solr-mbeans'].length; i++ )
+          {
+            if( !( i % 2 ) )
+            {
+              plugin_key = response['solr-mbeans'][i];
+            }
+            else
+            {
+              plugin_data[plugin_key] = response['solr-mbeans'][i];
+            }
+          }
 
-                    for( var key in plugin_data )
-                    {
-                        sort_table[key] = {
-                            url : [],
-                            component : [],
-                            handler : []
-                        };
-                        for( var part_key in plugin_data[key] )
-                        {
-                            if( 0 < part_key.indexOf( '.' ) )
-                            {
-                                types_obj[key] = true;
-                                sort_table[key]['handler'].push( part_key );
-                            }
-                            else if( 0 === part_key.indexOf( '/' ) )
-                            {
-                                types_obj[key] = true;
-                                sort_table[key]['url'].push( part_key );
-                            }
-                            else
-                            {
-                                types_obj[key] = true;
-                                sort_table[key]['component'].push( part_key );
-                            }
-                        }
-                    }
+          for( var key in plugin_data )
+          {
+            sort_table[key] = {
+              url : [],
+              component : [],
+              handler : []
+            };
+            for( var part_key in plugin_data[key] )
+            {
+              if( 0 < part_key.indexOf( '.' ) )
+              {
+                types_obj[key] = true;
+                sort_table[key]['handler'].push( part_key );
+              }
+              else if( 0 === part_key.indexOf( '/' ) )
+              {
+                types_obj[key] = true;
+                sort_table[key]['url'].push( part_key );
+              }
+              else
+              {
+                types_obj[key] = true;
+                sort_table[key]['component'].push( part_key );
+              }
+            }
+          }
 
-                    for( var type in types_obj )
-                    {
-                        types.push( type );
-                    }
-                    types.sort();
+          for( var type in types_obj )
+          {
+            types.push( type );
+          }
+          types.sort();
                     
-                    app.plugin_data = {
-                        'plugin_data' : plugin_data,
-                        'sort_table' : sort_table,
-                        'types' : types
-                    }
+          app.plugin_data = {
+            'plugin_data' : plugin_data,
+            'sort_table' : sort_table,
+            'types' : types
+          }
 
-                    $.get
-                    (
-                        'tpl/plugins.html',
-                        function( template )
-                        {
-                            $( '#content' )
-                                .html( template );
+          $.get
+          (
+            'tpl/plugins.html',
+            function( template )
+            {
+              $( '#content' )
+                .html( template );
                             
-                            callback( app.plugin_data );
-                        }
-                    );
-                },
-                error : function( xhr, text_status, error_thrown)
-                {
-                },
-                complete : function( xhr, text_status )
-                {
-                }
+              callback( app.plugin_data );
             }
-        );
-    }
+          );
+        },
+        error : function( xhr, text_status, error_thrown)
+        {
+        },
+        complete : function( xhr, text_status )
+        {
+        }
+      }
+    );
+  }
 );
 
 // #/:core/plugins/$type
 sammy.get
 (
-    /^#\/([\w\d-]+)\/(plugins)\/(\w+)$/,
-    function( context )
-    {
-        var content_element = $( '#content' );
-        var type = context.params.splat[2].toUpperCase();
-        var context_path = context.path.split( '?' ).shift();
+  /^#\/([\w\d-]+)\/(plugins)\/(\w+)$/,
+  function( context )
+  {
+    var content_element = $( '#content' );
+    var type = context.params.splat[2].toUpperCase();
+    var context_path = context.path.split( '?' ).shift();
 
-        sammy.trigger
-        (
-            'plugins_load',
-            {
-                active_core : this.active_core,
-                callback : function( plugin_data, plugin_sort, types )
-                {
-                    var frame_element = $( '#frame', content_element );
-                    var navigation_element = $( '#navigation ul', content_element );
+    sammy.trigger
+    (
+      'plugins_load',
+      {
+        active_core : this.active_core,
+        callback : function( plugin_data, plugin_sort, types )
+        {
+          var frame_element = $( '#frame', content_element );
+          var navigation_element = $( '#navigation ul', content_element );
 
-                    var navigation_content = [];
-                    for( var i = 0; i < types.length; i++ )
-                    {
-                        var type_url = context.params.splat[0] + '/' + 
-                                       context.params.splat[1] + '/' +
-                                       types[i].toLowerCase();
+          var navigation_content = [];
+          for( var i = 0; i < types.length; i++ )
+          {
+            var type_url = context.params.splat[0] + '/' + context.params.splat[1] + '/' + types[i].toLowerCase();
 
-                        navigation_content.push
-                        (
-                            '<li class="' + types[i].toLowerCase() + '">' +
-                            '<a href="#/' + type_url + '">' + types[i] + '</a>' +
-                            '</li>'
-                        );
-                    }
+            navigation_content.push
+            (
+              '<li class="' + types[i].toLowerCase() + '">' +
+              '<a href="#/' + type_url + '">' + types[i] + '</a>' +
+              '</li>'
+            );
+          }
 
-                    navigation_element
-                        .html( navigation_content.join( "\n" ) );
+          navigation_element
+            .html( navigation_content.join( "\n" ) );
                     
-                    $( 'a[href="' + context_path + '"]', navigation_element )
-                        .parent().addClass( 'current' );
+          $( 'a[href="' + context_path + '"]', navigation_element )
+            .parent().addClass( 'current' );
                     
-                    var content = '<ul>';
-                    for( var sort_key in plugin_sort[type] )
-                    {
-                        plugin_sort[type][sort_key].sort();
-                        var plugin_type_length = plugin_sort[type][sort_key].length;
+          var content = '<ul>';
+          for( var sort_key in plugin_sort[type] )
+          {
+            plugin_sort[type][sort_key].sort();
+            var plugin_type_length = plugin_sort[type][sort_key].length;
                         
-                        for( var i = 0; i < plugin_type_length; i++ )
-                        {
-                            content += '<li class="entry">' + "\n";
-                            content += '<a href="' + context_path + '?entry=' + plugin_sort[type][sort_key][i] + '">';
-                            content += plugin_sort[type][sort_key][i]
-                            content += '</a>' + "\n";
-                            content += '<ul class="detail">' + "\n";
+            for( var i = 0; i < plugin_type_length; i++ )
+            {
+              content += '<li class="entry">' + "\n";
+              content += '<a href="' + context_path + '?entry=' + plugin_sort[type][sort_key][i] + '">';
+              content += plugin_sort[type][sort_key][i]
+              content += '</a>' + "\n";
+              content += '<ul class="detail">' + "\n";
                             
-                            var details = plugin_data[type][ plugin_sort[type][sort_key][i] ];
-                            for( var detail_key in details )
-                            {
-                                if( 'stats' !== detail_key )
-                                {
-                                    var detail_value = details[detail_key];
+              var details = plugin_data[type][ plugin_sort[type][sort_key][i] ];
+              for( var detail_key in details )
+              {
+                if( 'stats' !== detail_key )
+                {
+                  var detail_value = details[detail_key];
 
-                                    if( 'description' === detail_key )
-                                    {
-                                        detail_value = detail_value.replace( /,/g, ',&#8203;' );
-                                    }
-                                    else if( 'src' === detail_key )
-                                    {
-                                        detail_value = detail_value.replace( /\//g, '/&#8203;' );
-                                    }
+                  if( 'description' === detail_key )
+                  {
+                    detail_value = detail_value.replace( /,/g, ',&#8203;' );
+                  }
+                  else if( 'src' === detail_key )
+                  {
+                    detail_value = detail_value.replace( /\//g, '/&#8203;' );
+                  }
 
-                                    content += '<li><dl class="clearfix">' + "\n";
-                                    content += '<dt>' + detail_key + ':</dt>' + "\n";
-                                    content += '<dd>' + detail_value + '</dd>' + "\n";
-                                    content += '</dl></li>' + "\n";
-                                }
-                                else if( 'stats' === detail_key && details[detail_key] )
-                                {
-                                    content += '<li class="stats clearfix">' + "\n";
-                                    content += '<span>' + detail_key + ':</span>' + "\n";
-                                    content += '<ul>' + "\n";
+                  content += '<li><dl class="clearfix">' + "\n";
+                  content += '<dt>' + detail_key + ':</dt>' + "\n";
+                  content += '<dd>' + detail_value + '</dd>' + "\n";
+                  content += '</dl></li>' + "\n";
+                }
+                else if( 'stats' === detail_key && details[detail_key] )
+                {
+                  content += '<li class="stats clearfix">' + "\n";
+                  content += '<span>' + detail_key + ':</span>' + "\n";
+                  content += '<ul>' + "\n";
 
-                                    for( var stats_key in details[detail_key] )
-                                    {
-                                        var stats_value = details[detail_key][stats_key];
+                  for( var stats_key in details[detail_key] )
+                  {
+                    var stats_value = details[detail_key][stats_key];
 
-                                        if( 'readerDir' === stats_key )
-                                        {
-                                            stats_value = stats_value.replace( /@/g, '@&#8203;' );
-                                        }
+                    if( 'readerDir' === stats_key )
+                    {
+                      stats_value = stats_value.replace( /@/g, '@&#8203;' );
+                    }
 
-                                        content += '<li><dl class="clearfix">' + "\n";
-                                        content += '<dt>' + stats_key + ':</dt>' + "\n";
-                                        content += '<dd>' + stats_value + '</dd>' + "\n";
-                                        content += '</dl></li>' + "\n";
-                                    }
+                    content += '<li><dl class="clearfix">' + "\n";
+                    content += '<dt>' + stats_key + ':</dt>' + "\n";
+                    content += '<dd>' + stats_value + '</dd>' + "\n";
+                    content += '</dl></li>' + "\n";
+                  }
 
-                                    content += '</ul></li>' + "\n";
-                                }
-                            }
+                  content += '</ul></li>' + "\n";
+                }
+              }
                             
-                            content += '</ul>' + "\n";
-                        }
-                    }
-                    content += '</ul>' + "\n";
+              content += '</ul>' + "\n";
+            }
+          }
+          content += '</ul>' + "\n";
 
-                    frame_element
-                        .html( content );
+          frame_element
+            .html( content );
 
-                    $( 'a[href="' + decodeURIComponent( context.path ) + '"]', frame_element )
-                        .parent().addClass( 'expanded' );
+          $( 'a[href="' + decodeURIComponent( context.path ) + '"]', frame_element )
+            .parent().addClass( 'expanded' );
                     
-                    $( '.entry', frame_element )
-                        .each
-                        (
-                            function( i, entry )
-                            {
-                                $( '.detail > li', entry ).not( '.stats' ).filter( ':even' )
-                                    .addClass( 'odd' );
+          $( '.entry', frame_element )
+            .each
+            (
+              function( i, entry )
+              {
+                $( '.detail > li', entry ).not( '.stats' ).filter( ':even' )
+                  .addClass( 'odd' );
 
-                                $( '.stats li:odd', entry )
-                                    .addClass( 'odd' );
-                            }
-                        );
-                }
-            }
-        );                
-    }
+                $( '.stats li:odd', entry )
+                  .addClass( 'odd' );
+              }
+            );
+        }
+      }
+    );                
+  }
 );
 
 // #/:core/plugins
 sammy.get
 (
-    /^#\/([\w\d-]+)\/(plugins)$/,
-    function( context )
-    {
-        delete app.plugin_data;
+  /^#\/([\w\d-]+)\/(plugins)$/,
+  function( context )
+  {
+    delete app.plugin_data;
 
-        sammy.trigger
-        (
-            'plugins_load',
-            {
-                active_core : this.active_core,
-                callback :  function( plugin_data, plugin_sort, types )
-                {
-                    context.redirect( context.path + '/' + types[0].toLowerCase() );
-                }
-            }
-        );
-    }
+    sammy.trigger
+    (
+      'plugins_load',
+      {
+        active_core : this.active_core,
+        callback :  function( plugin_data, plugin_sort, types )
+        {
+          context.redirect( context.path + '/' + types[0].toLowerCase() );
+        }
+      }
+    );
+  }
 );
\ No newline at end of file
diff --git a/solr/webapp/web/js/scripts/query.js b/solr/webapp/web/js/scripts/query.js
index 012c317..3f0afbc 100644
--- a/solr/webapp/web/js/scripts/query.js
+++ b/solr/webapp/web/js/scripts/query.js
@@ -1,142 +1,155 @@
+/*
+ Licensed to the Apache Software Foundation (ASF) under one or more
+ contributor license agreements.  See the NOTICE file distributed with
+ this work for additional information regarding copyright ownership.
+ The ASF licenses this file to You under the Apache License, Version 2.0
+ (the "License"); you may not use this file except in compliance with
+ the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+*/
+
 // #/:core/query
 sammy.get
 (
-    /^#\/([\w\d-]+)\/(query)$/,
-    function( context )
-    {
-        var core_basepath = this.active_core.attr( 'data-basepath' );
-        var content_element = $( '#content' );
+  /^#\/([\w\d-]+)\/(query)$/,
+  function( context )
+  {
+    var core_basepath = this.active_core.attr( 'data-basepath' );
+    var content_element = $( '#content' );
         
-        $.get
-        (
-            'tpl/query.html',
-            function( template )
+    $.get
+    (
+      'tpl/query.html',
+      function( template )
+      {
+        content_element
+          .html( template );
+
+        var query_element = $( '#query', content_element );
+        var query_form = $( '#form form', query_element );
+        var url_element = $( '#url', query_element );
+        var result_element = $( '#result', query_element );
+        var response_element = $( '#response iframe', result_element );
+
+        url_element
+          .die( 'change' )
+          .live
+          (
+            'change',
+            function( event )
             {
-                content_element
-                    .html( template );
+              var check_iframe_ready_state = function()
+              {
+                var iframe_element = response_element.get(0).contentWindow.document || response_element.get(0).document;
 
-                var query_element = $( '#query', content_element );
-                var query_form = $( '#form form', query_element );
-                var url_element = $( '#url', query_element );
-                var result_element = $( '#result', query_element );
-                var response_element = $( '#response iframe', result_element );
+                if( !iframe_element )
+                {
+                  console.debug( 'no iframe_element found', response_element );
+                  return false;
+                }
 
                 url_element
-                    .die( 'change' )
-                    .live
-                    (
-                        'change',
-                        function( event )
-                        {
-                            var check_iframe_ready_state = function()
-                            {
-                                var iframe_element = response_element.get(0).contentWindow.document || 
-                                                     response_element.get(0).document;
-
-                                if( !iframe_element )
-                                {
-                                    console.debug( 'no iframe_element found', response_element );
-                                    return false;
-                                }
-
-                                url_element
-                                    .addClass( 'loader' );
-
-                                if( 'complete' === iframe_element.readyState )
-                                {
-                                    url_element
-                                        .removeClass( 'loader' );
-                                }
-                                else
-                                {
-                                    window.setTimeout( check_iframe_ready_state, 100 );
-                                }
-                            }
-                            check_iframe_ready_state();
-
-                            response_element
-                                .attr( 'src', this.href );
+                  .addClass( 'loader' );
+
+                if( 'complete' === iframe_element.readyState )
+                {
+                  url_element
+                    .removeClass( 'loader' );
+                }
+                else
+                {
+                  window.setTimeout( check_iframe_ready_state, 100 );
+                }
+              }
+              check_iframe_ready_state();
+
+              response_element
+                .attr( 'src', this.href );
                             
-                            if( !response_element.hasClass( 'resized' ) )
-                            {
-                                response_element
-                                    .addClass( 'resized' )
-                                    .css( 'height', $( '#main' ).height() - 60 );
-                            }
-                        }
-                    )
-
-                $( '.optional legend input[type=checkbox]', query_form )
-                    .die( 'change' )
-                    .live
-                    (
-                        'change',
-                        function( event )
-                        {
-                            var fieldset = $( this ).parents( 'fieldset' );
-
-                            this.checked
-                                ? fieldset.addClass( 'expanded' )
-                                : fieldset.removeClass( 'expanded' );
-                        }
-                    )
-
-                for( var key in context.params )
+              if( !response_element.hasClass( 'resized' ) )
+              {
+                response_element
+                  .addClass( 'resized' )
+                  .css( 'height', $( '#main' ).height() - 60 );
+              }
+            }
+          )
+
+        $( '.optional legend input[type=checkbox]', query_form )
+          .die( 'change' )
+          .live
+          (
+            'change',
+            function( event )
+            {
+              var fieldset = $( this ).parents( 'fieldset' );
+
+              this.checked
+                ? fieldset.addClass( 'expanded' )
+                : fieldset.removeClass( 'expanded' );
+            }
+          )
+
+        for( var key in context.params )
+        {
+          if( 'string' === typeof context.params[key] )
+          {
+            $( '[name="' + key + '"]', query_form )
+              .val( context.params[key] );
+          }
+        }
+
+        query_form
+          .die( 'submit' )
+          .live
+          (
+            'submit',
+            function( event )
+            {
+              var form_map = {};
+              var form_values = [];
+              var all_form_values = query_form.formToArray();
+
+              for( var i = 0; i < all_form_values.length; i++ )
+              {
+                if( !all_form_values[i].value || 0 === all_form_values[i].value.length )
+                {
+                  continue;
+                }
+
+                var name_parts = all_form_values[i].name.split( '.' );
+                if( 1 < name_parts.length && !form_map[name_parts[0]] )
                 {
-                    if( 'string' === typeof context.params[key] )
-                    {
-                        $( '[name="' + key + '"]', query_form )
-                            .val( context.params[key] );
-                    }
+                  console.debug( 'skip "' + all_form_values[i].name + '", parent missing' );
+                  continue;
                 }
 
-                query_form
-                    .die( 'submit' )
-                    .live
-                    (
-                        'submit',
-                        function( event )
-                        {
-                            var form_map = {};
-                            var form_values = [];
-                            var all_form_values = query_form.formToArray();
-
-                            for( var i = 0; i < all_form_values.length; i++ )
-                            {
-                                if( !all_form_values[i].value || 0 === all_form_values[i].value.length )
-                                {
-                                    continue;
-                                }
-
-                                var name_parts = all_form_values[i].name.split( '.' );
-                                if( 1 < name_parts.length && !form_map[name_parts[0]] )
-                                {
-                                    console.debug( 'skip "' + all_form_values[i].name + '", parent missing' );
-                                    continue;
-                                }
-
-                                form_map[all_form_values[i].name] = all_form_values[i].value;
-                                form_values.push( all_form_values[i] );
-                            }
-
-                            var query_url = window.location.protocol + '//' +
-                                            window.location.host +
-                                            core_basepath +
-                                            '/select?' +
-                                            $.param( form_values );
+                form_map[all_form_values[i].name] = all_form_values[i].value;
+                form_values.push( all_form_values[i] );
+              }
+
+              var query_url = window.location.protocol + '//' + window.location.host
+                            + core_basepath + '/select?' + $.param( form_values );
                             
-                            url_element
-                                .attr( 'href', query_url )
-                                .text( query_url )
-                                .trigger( 'change' );
+              url_element
+                .attr( 'href', query_url )
+                .text( query_url )
+                .trigger( 'change' );
                             
-                            result_element
-                                .show();
+              result_element
+                .show();
                             
-                            return false;
-                        }
-                    );
+              return false;
             }
-        );
-    }
+          );
+      }
+    );
+  }
 );
\ No newline at end of file
diff --git a/solr/webapp/web/js/scripts/replication.js b/solr/webapp/web/js/scripts/replication.js
index ec715fe..b9b298b 100644
--- a/solr/webapp/web/js/scripts/replication.js
+++ b/solr/webapp/web/js/scripts/replication.js
@@ -1,443 +1,557 @@
-// #/:core/replication
-sammy.get
-(
-    /^#\/([\w\d-]+)\/(replication)$/,
-    function( context )
+/*
+ Licensed to the Apache Software Foundation (ASF) under one or more
+ contributor license agreements.  See the NOTICE file distributed with
+ this work for additional information regarding copyright ownership.
+ The ASF licenses this file to You under the Apache License, Version 2.0
+ (the "License"); you may not use this file except in compliance with
+ the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+*/
+
+var timer_element = null;
+var timer_timeout = null;
+
+var core_basepath = null;
+var navigation_element = null;
+var replication_element = null;
+
+var convert_duration_to_seconds = function( str )
+{
+  var ret = 0;
+  var parts = new String( str ).split( ':' ).reverse();
+  var parts_count = parts.length;
+    
+  for( var i = 0; i < parts_count; i++ )
+  {
+    ret += parseInt( parts[i], 10 ) * Math.pow( 60, i );
+  }
+
+  return ret;
+}
+
+var convert_seconds_to_readable_time = function( value )
+{
+  var text = [];
+  value = parseInt( value );
+
+  var minutes = Math.floor( value / 60 );
+  var hours = Math.floor( minutes / 60 );
+
+  if( 0 !== hours )
+  {
+    text.push( hours + 'h' );
+    value -= hours * 60 * 60;
+    minutes -= hours * 60;
+  }
+
+  if( 0 !== minutes )
+  {
+    text.push( minutes + 'm' );
+    value -= minutes * 60;
+  }
+
+  if( 0 !== value )
+  {
+    text.push( value + 's' );
+  }
+
+  return text.join( ' ' );
+}
+
+var init_timer = function( next_tick )
+{
+  if( timer_timeout )
+  {
+    window.clearTimeout( timer_timeout );
+  }
+  update_timer( next_tick );
+}
+
+var update_timer = function( next_tick )
+{
+  if( 0 === next_tick )
+  {
+    replication_fetch_status();
+    return false;
+  }
+
+  $( 'p .tick', timer_element )
+    .text( convert_seconds_to_readable_time( next_tick ) );
+
+  timer_timeout = window.setTimeout
+  (
+    'update_timer( ' + --next_tick + ' )',
+    1000
+  );
+}
+
+var clear_timer = function()
+{
+  if( timer_timeout )
+  {
+    window.clearTimeout( timer_timeout );
+    timer_element.hide();
+  }
+}
+
+var replication_fetch_status = function()
+{
+  $.ajax
+  (
     {
-        var core_basepath = this.active_core.attr( 'data-basepath' );
-        var content_element = $( '#content' );
-        
-        $.get
-        (
-            'tpl/replication.html',
-            function( template )
-            {
-                content_element
-                    .html( template );
+      url : core_basepath + '/replication?command=details&wt=json',
+      dataType : 'json',
+      beforeSend : function( xhr, settings )
+      {
+        $( '.refresh-status', navigation_element )
+          .addClass( 'loader' );
+
+        clear_timer();
+      },
+      success : function( response, text_status, xhr )
+      {
+        $( '.refresh-status', navigation_element )
+          .removeClass( 'loader' );
                 
-                var replication_element = $( '#replication', content_element );
-                var navigation_element = $( '#navigation', replication_element );
+        var data = response.details;
+        var is_slave = 'true' === data.isSlave;
+
+        replication_element
+          .addClass( is_slave ? 'slave' : 'master' );
+
+        if( is_slave )
+        {
+          var error_element = $( '#error', replication_element );
+
+          if( data.slave.ERROR )
+          {
+            error_element
+              .html( data.slave.ERROR )
+              .show();
+          }
+          else
+          {
+            error_element
+              .hide()
+              .empty();
+          }
+
+          var progress_element = $( '#progress', replication_element );
+
+          var start_element = $( '#start', progress_element );
+          $( 'span', start_element )
+            .text( data.slave.replicationStartTime );
+
+          var eta_element = $( '#eta', progress_element );
+          $( 'span', eta_element )
+            .text( convert_seconds_to_readable_time( data.slave.timeRemaining ) );
+
+          var bar_element = $( '#bar', progress_element );
+          $( '.files span', bar_element )
+            .text( data.slave.numFilesToDownload );
+          $( '.size span', bar_element )
+            .text( data.slave.bytesToDownload );
+
+          var speed_element = $( '#speed', progress_element );
+          $( 'span', speed_element )
+            .text( data.slave.downloadSpeed );
+
+          var done_element = $( '#done', progress_element );
+          $( '.files span', done_element )
+            .text( data.slave.numFilesDownloaded );
+          $( '.size span', done_element )
+            .text( data.slave.bytesDownloaded );
+          $( '.percent span', done_element )
+            .text( parseInt(data.slave.totalPercent ) );
+
+          var percent = parseInt( data.slave.totalPercent );
+          if( 0 === percent )
+          {
+            done_element
+              .css( 'width', '1px' ); 
+          }
+          else
+          {
+            done_element
+              .css( 'width', percent + '%' );
+          }
+
+          var current_file_element = $( '#current-file', replication_element );
+          $( '.file', current_file_element )
+            .text( data.slave.currentFile );
+          $( '.done', current_file_element )
+            .text( data.slave.currentFileSizeDownloaded );
+          $( '.total', current_file_element )
+            .text( data.slave.currentFileSize );
+          $( '.percent', current_file_element )
+            .text( parseInt( data.slave.currentFileSizePercent ) );
+
+          if( !data.slave.indexReplicatedAtList )
+          {
+            data.slave.indexReplicatedAtList = [];
+          }
+
+          if( !data.slave.replicationFailedAtList )
+          {
+            data.slave.replicationFailedAtList = [];
+          }
+
+          var iterations_element = $( '#iterations', replication_element );
+          var iterations_list = $( '.iterations ul', iterations_element );
+
+          var iterations_data = [];
+          var iterations_obj = {};
+
+          for( var i in data.slave.indexReplicatedAtList )
+          {
+            var date = data.slave.indexReplicatedAtList[i];
+            if( !iterations_obj[date] )
+            {
+              iterations_obj[date] = true;
+              iterations_data.push( date );
+            }
+          }
 
-                function convert_seconds_to_readable_time( value )
-                {
-                    var text = [];
-                    value = parseInt( value );
+          for( var i in data.slave.replicationFailedAtList )
+          {
+            var date = data.slave.replicationFailedAtList[i];
+            if( !iterations_obj[date] )
+            {
+              iterations_obj[date] = true;
+              iterations_data.push( date );
+            }
+          }
 
-                    var minutes = Math.floor( value / 60 );
-                    var hours = Math.floor( minutes / 60 );
+          iterations_data.sort().reverse();
 
-                    if( 0 !== hours )
-                    {
-                        text.push( hours + 'h' );
-                        value -= hours * 60 * 60;
-                        minutes -= hours * 60;
-                    }
+          if( 0 !== iterations_data.length )
+          {
+            var iterations = [];
+            for( var i = 0; i < iterations_data.length; i++ )
+            {
+              iterations.push( '<li data-date="' + iterations_data[i] + '">' + iterations_data[i] + '</li>' );
+            }
+                        
+            iterations_list
+              .html( iterations.join( "\n" ) )
+              .show();
+                        
+            $( data.slave.indexReplicatedAtList )
+              .each
+              (
+                function( key, value )
+                {
+                  $( 'li[data-date="' + value + '"]', iterations_list )
+                    .addClass( 'replicated' );
+                }
+              );
+                        
+            if( data.slave.indexReplicatedAt )
+            {
+              $( 'li[data-date="' + data.slave.indexReplicatedAt + '"]', iterations_list )
+                .addClass( 'latest' );
+            }
+                        
+            $( data.slave.replicationFailedAtList )
+              .each
+              (
+                function( key, value )
+                {
+                  $( 'li[data-date="' + value + '"]', iterations_list )
+                    .addClass( 'failed' );
+                }
+              );
+                        
+            if( data.slave.replicationFailedAt )
+            {
+              $( 'li[data-date="' + data.slave.replicationFailedAt + '"]', iterations_list )
+                .addClass( 'latest' );
+            }
 
-                    if( 0 !== minutes )
-                    {
-                        text.push( minutes + 'm' );
-                        value -= minutes * 60;
-                    }
+            if( 0 !== $( 'li:hidden', iterations_list ).size() )
+            {
+              $( 'a', iterations_element )
+                .show();
+            }
+            else
+            {
+              $( 'a', iterations_element )
+                .hide();
+            }
+          }
+        }
+
+        var details_element = $( '#details', replication_element );
+        var current_type_element = $( ( is_slave ? '.slave' : '.master' ), details_element );
+
+        $( '.version div', current_type_element )
+          .html( data.indexVersion );
+        $( '.generation div', current_type_element )
+          .html( data.generation );
+        $( '.size div', current_type_element )
+          .html( data.indexSize );
+                
+        if( is_slave )
+        {
+          var master_element = $( '.master', details_element );
+          $( '.version div', master_element )
+            .html( data.slave.masterDetails.indexVersion );
+          $( '.generation div', master_element )
+            .html( data.slave.masterDetails.generation );
+          $( '.size div', master_element )
+            .html( data.slave.masterDetails.indexSize );
+                    
+          if( data.indexVersion !== data.slave.masterDetails.indexVersion )
+          {
+            $( '.version', details_element )
+              .addClass( 'diff' );
+          }
+          else
+          {
+            $( '.version', details_element )
+              .removeClass( 'diff' );
+          }
+                    
+          if( data.generation !== data.slave.masterDetails.generation )
+          {
+            $( '.generation', details_element )
+              .addClass( 'diff' );
+          }
+          else
+          {
+            $( '.generation', details_element )
+              .removeClass( 'diff' );
+          }
+        }
+
+        if( is_slave )
+        {
+          var settings_element = $( '#settings', replication_element );
+
+          if( data.slave.masterUrl )
+          {
+            $( '.masterUrl dd', settings_element )
+              .html( response.details.slave.masterUrl )
+              .parents( 'li' ).show();
+          }
+
+          var polling_content = '&nbsp;';
+          var polling_ico = 'ico-1';
+
+          if( 'true' === data.slave.isPollingDisabled )
+          {
+            polling_ico = 'ico-0';
+
+            $( '.disable-polling', navigation_element ).hide();
+            $( '.enable-polling', navigation_element ).show();
+          }
+          else
+          {
+            $( '.disable-polling', navigation_element ).show();
+            $( '.enable-polling', navigation_element ).hide();
+
+            if( data.slave.pollInterval )
+            {
+              polling_content = '(interval: ' + data.slave.pollInterval + ')';
+            }
+          }
+
+          $( '.isPollingDisabled dd', settings_element )
+            .removeClass( 'ico-0' )
+            .removeClass( 'ico-1' )
+            .addClass( polling_ico )
+            .html( polling_content )
+            .parents( 'li' ).show();
+                
+          if( 'true' === data.slave.isReplicating )
+          {
+            replication_element
+              .addClass( 'replicating' );
+                        
+            $( '.replicate-now', navigation_element ).hide();
+            $( '.abort-replication', navigation_element ).show();
+                        
+            window.setTimeout( replication_fetch_status, 1000 );
+          }
+          else
+          {
+            replication_element
+              .removeClass( 'replicating' );
+                        
+            $( '.replicate-now', navigation_element ).show();
+            $( '.abort-replication', navigation_element ).hide();
+
+
+            if( 'false' === data.slave.isPollingDisabled && data.slave.pollInterval )
+            {
+              timer_element = $( '.timer', navigation_element );
+              approx_element = $( '.approx', timer_element );
 
-                    text.push( value + 's' );
+              var next_tick = convert_duration_to_seconds( data.slave.pollInterval );
+              approx_element.show();
 
-                    return text.join( ' ' );
-                }
+              if( data.slave.nextExecutionAt )
+              {
+                var nextExecutionAt = new SolrDate( data.slave.nextExecutionAt );
+                var currentDate = new SolrDate( data.slave.currentDate );
 
-                function replication_fetch_status()
+                if( nextExecutionAt.getTime() > currentDate.getTime() )
                 {
-                    $.ajax
-                    (
-                        {
-                            url : core_basepath + '/replication?command=details&wt=json',
-                            dataType : 'json',
-                            beforeSend : function( xhr, settings )
-                            {
-                                $( '.refresh-status', navigation_element )
-                                    .addClass( 'loader' );
-                            },
-                            success : function( response, text_status, xhr )
-                            {
-                                $( '.refresh-status', navigation_element )
-                                    .removeClass( 'loader' );
-                                
-                                var data = response.details;
-                                var is_slave = 'true' === data.isSlave;
-
-                                replication_element
-                                    .addClass( is_slave ? 'slave' : 'master' );
-
-                                if( is_slave )
-                                {
-                                    var error_element = $( '#error', replication_element );
-
-                                    if( data.slave.ERROR )
-                                    {
-                                        error_element
-                                            .html( data.slave.ERROR )
-                                            .show();
-                                    }
-                                    else
-                                    {
-                                        error_element
-                                            .hide()
-                                            .empty();
-                                    }
-
-                                    var progress_element = $( '#progress', replication_element );
-
-                                    var start_element = $( '#start', progress_element );
-                                    $( 'span', start_element )
-                                        .text( data.slave.replicationStartTime );
-
-                                    var eta_element = $( '#eta', progress_element );
-                                    $( 'span', eta_element )
-                                        .text( convert_seconds_to_readable_time( data.slave.timeRemaining ) );
-
-                                    var bar_element = $( '#bar', progress_element );
-                                    $( '.files span', bar_element )
-                                        .text( data.slave.numFilesToDownload );
-                                    $( '.size span', bar_element )
-                                        .text( data.slave.bytesToDownload );
-
-                                    var speed_element = $( '#speed', progress_element );
-                                    $( 'span', speed_element )
-                                        .text( data.slave.downloadSpeed );
-
-                                    var done_element = $( '#done', progress_element );
-                                    $( '.files span', done_element )
-                                        .text( data.slave.numFilesDownloaded );
-                                    $( '.size span', done_element )
-                                        .text( data.slave.bytesDownloaded );
-                                    $( '.percent span', done_element )
-                                        .text( parseInt(data.slave.totalPercent ) );
-
-                                    var percent = parseInt( data.slave.totalPercent );
-                                    if( 0 === percent )
-                                    {
-                                        done_element
-                                            .css( 'width', '1px' ); 
-                                    }
-                                    else
-                                    {
-                                        done_element
-                                            .css( 'width', percent + '%' );
-                                    }
-
-                                    var current_file_element = $( '#current-file', replication_element );
-                                    $( '.file', current_file_element )
-                                        .text( data.slave.currentFile );
-                                    $( '.done', current_file_element )
-                                        .text( data.slave.currentFileSizeDownloaded );
-                                    $( '.total', current_file_element )
-                                        .text( data.slave.currentFileSize );
-                                    $( '.percent', current_file_element )
-                                        .text( parseInt( data.slave.currentFileSizePercent ) );
-
-                                    if( !data.slave.indexReplicatedAtList )
-                                    {
-                                        data.slave.indexReplicatedAtList = [];
-                                    }
-
-                                    if( !data.slave.replicationFailedAtList )
-                                    {
-                                        data.slave.replicationFailedAtList = [];
-                                    }
-
-                                    var iterations_element = $( '#iterations', replication_element );
-                                    var iterations_list = $( '.iterations ul', iterations_element );
-
-                                    var iterations_data = [];
-                                    $.merge( iterations_data, data.slave.indexReplicatedAtList );
-                                    $.merge( iterations_data, data.slave.replicationFailedAtList );
-
-                                    if( 0 !== iterations_data.length )
-                                    {
-                                        var iterations = [];
-                                        for( var i = 0; i < iterations_data.length; i++ )
-                                        {
-                                            iterations.push
-                                            (
-                                                '<li data-date="' + iterations_data[i] + '">' +
-                                                iterations_data[i] + '</li>'
-                                            );
-                                        }
-                                        
-                                        iterations_list
-                                            .html( iterations.join( "\n" ) )
-                                            .show();
-                                        
-                                        $( data.slave.indexReplicatedAtList )
-                                            .each
-                                            (
-                                                function( key, value )
-                                                {
-                                                    $( 'li[data-date="' + value + '"]', iterations_list )
-                                                        .addClass( 'replicated' );
-                                                }
-                                            );
-                                        
-                                        if( data.slave.indexReplicatedAt )
-                                        {
-                                            $(
-                                                'li[data-date="' + data.slave.indexReplicatedAt + '"]',
-                                                iterations_list
-                                            )
-                                                .addClass( 'latest' );
-                                        }
-                                        
-                                        $( data.slave.replicationFailedAtList )
-                                            .each
-                                            (
-                                                function( key, value )
-                                                {
-                                                    $( 'li[data-date="' + value + '"]', iterations_list )
-                                                        .addClass( 'failed' );
-                                                }
-                                            );
-                                        
-                                        if( data.slave.replicationFailedAt )
-                                        {
-                                            $(
-                                                'li[data-date="' + data.slave.replicationFailedAt + '"]',
-                                                iterations_list
-                                            )
-                                                .addClass( 'latest' );
-                                        }
-
-                                        if( 0 !== $( 'li:hidden', iterations_list ).size() )
-                                        {
-                                            $( 'a', iterations_element )
-                                                .show();
-                                        }
-                                        else
-                                        {
-                                            $( 'a', iterations_element )
-                                                .hide();
-                                        }
-                                    }
-                                }
-
-                                var details_element = $( '#details', replication_element );
-                                var current_type_element = $( ( is_slave ? '.slave' : '.master' ), details_element );
-
-                                $( '.version div', current_type_element )
-                                    .html( data.indexVersion );
-                                $( '.generation div', current_type_element )
-                                    .html( data.generation );
-                                $( '.size div', current_type_element )
-                                    .html( data.indexSize );
-                                
-                                if( is_slave )
-                                {
-                                    var master_element = $( '.master', details_element );
-                                    $( '.version div', master_element )
-                                        .html( data.slave.masterDetails.indexVersion );
-                                    $( '.generation div', master_element )
-                                        .html( data.slave.masterDetails.generation );
-                                    $( '.size div', master_element )
-                                        .html( data.slave.masterDetails.indexSize );
-                                    
-                                    if( data.indexVersion !== data.slave.masterDetails.indexVersion )
-                                    {
-                                        $( '.version', details_element )
-                                            .addClass( 'diff' );
-                                    }
-                                    else
-                                    {
-                                        $( '.version', details_element )
-                                            .removeClass( 'diff' );
-                                    }
-                                    
-                                    if( data.generation !== data.slave.masterDetails.generation )
-                                    {
-                                        $( '.generation', details_element )
-                                            .addClass( 'diff' );
-                                    }
-                                    else
-                                    {
-                                        $( '.generation', details_element )
-                                            .removeClass( 'diff' );
-                                    }
-                                }
-
-                                if( is_slave )
-                                {
-                                    var settings_element = $( '#settings', replication_element );
-
-                                    if( data.slave.masterUrl )
-                                    {
-                                        $( '.masterUrl dd', settings_element )
-                                            .html( response.details.slave.masterUrl )
-                                            .parents( 'li' ).show();
-                                    }
-
-                                    var polling_content = '&nbsp;';
-                                    var polling_ico = 'ico-1';
-
-                                    if( 'true' === data.slave.isPollingDisabled )
-                                    {
-                                        polling_ico = 'ico-0';
-
-                                        $( '.disable-polling', navigation_element ).hide();
-                                        $( '.enable-polling', navigation_element ).show();
-                                    }
-                                    else
-                                    {
-                                        $( '.disable-polling', navigation_element ).show();
-                                        $( '.enable-polling', navigation_element ).hide();
-
-                                        if( data.slave.pollInterval )
-                                        {
-                                            polling_content = '(interval: ' + data.slave.pollInterval + ')';
-                                        }
-                                    }
-
-                                    $( '.isPollingDisabled dd', settings_element )
-                                        .removeClass( 'ico-0' )
-                                        .removeClass( 'ico-1' )
-                                        .addClass( polling_ico )
-                                        .html( polling_content )
-                                        .parents( 'li' ).show();
-                                }
-
-                                var master_settings_element = $( '#master-settings', replication_element );
-
-                                var master_data = is_slave
-                                                         ? data.slave.masterDetails.master
-                                                         : data.master;
-
-                                var replication_icon = 'ico-0';
-                                if( 'true' === master_data.replicationEnabled )
-                                {
-                                    replication_icon = 'ico-1';
-
-                                    $( '.disable-replication', navigation_element ).show();
-                                    $( '.enable-replication', navigation_element ).hide();
-                                }
-                                else
-                                {
-                                    $( '.disable-replication', navigation_element ).hide();
-                                    $( '.enable-replication', navigation_element ).show();
-                                }
-
-                                $( '.replicationEnabled dd', master_settings_element )
-                                    .removeClass( 'ico-0' )
-                                    .removeClass( 'ico-1' )
-                                    .addClass( replication_icon )
-                                    .parents( 'li' ).show();
-
-                                $( '.replicateAfter dd', master_settings_element )
-                                    .html( master_data.replicateAfter.join( ', ' ) )
-                                    .parents( 'li' ).show();
-
-                                if( master_data.confFiles )
-                                {
-                                    var conf_files = [];
-                                    var conf_data = master_data.confFiles.split( ',' );
-                                    
-                                    for( var i = 0; i < conf_data.length; i++ )
-                                    {
-                                        var item = conf_data[i];
-
-                                        if( - 1 !== item.indexOf( ':' ) )
-                                        {
-                                            info = item.split( ':' );
-                                            item = '<abbr title="' + info[0] + ' » ' + info[1] + '">'
-                                                 + ( is_slave ? info[1] : info[0] )
-                                                 + '</abbr>';
-                                        }
-
-                                        conf_files.push( item );
-                                    }
-
-                                    $( '.confFiles dd', master_settings_element )
-                                        .html( conf_files.join( ', ' ) )
-                                        .parents( 'li' ).show();
-                                }
-
-
-                                $( '.block', replication_element ).last()
-                                    .addClass( 'last' );
-                                
-
-
-
-                                if( 'true' === data.slave.isReplicating )
-                                {
-                                    replication_element
-                                        .addClass( 'replicating' );
-                                    
-                                    $( '.replicate-now', navigation_element ).hide();
-                                    $( '.abort-replication', navigation_element ).show();
-                                    
-                                    window.setTimeout( replication_fetch_status, 1000 );
-                                }
-                                else
-                                {
-                                    replication_element
-                                        .removeClass( 'replicating' );
-                                    
-                                    $( '.replicate-now', navigation_element ).show();
-                                    $( '.abort-replication', navigation_element ).hide();
-                                }
-                            },
-                            error : function( xhr, text_status, error_thrown )
-                            {
-                                $( '#content' )
-                                    .html( 'sorry, no replication-handler defined!' );
-                            },
-                            complete : function( xhr, text_status )
-                            {
-                            }
-                        }
-                    );
+                  next_tick = ( nextExecutionAt.getTime() - currentDate.getTime() ) / 1000;
+                  approx_element.hide();
+
+                  $( 'small', timer_element )
+                    .text( data.slave.nextExecutionAt )
+                    .show();
                 }
-                replication_fetch_status();
+              }
 
-                $( '#iterations a', content_element )
-                    .die( 'click' )
-                    .live
-                    (
-                        'click',
-                        function( event )
-                        {
-                            $( this ).parents( '.iterations' )
-                                .toggleClass( 'expanded' );
-                            
-                            return false;
-                        }
-                    );
-
-                $( 'button', navigation_element )
-                    .die( 'click' )
-                    .live
-                    (
-                        'click',
-                        function( event )
-                        {
-                            var button = $( this );
-                            var command = button.data( 'command' );
-
-                            if( button.hasClass( 'refresh-status' ) && !button.hasClass( 'loader' ) )
-                            {
-                                replication_fetch_status();
-                            }
-                            else if( command )
-                            {
-                                $.get
-                                (
-                                    core_basepath + '/replication?command=' + command + '&wt=json',
-                                    function()
-                                    {
-                                        replication_fetch_status();
-                                    }
-                                );
-                            }
-                            return false;
-                        }
-                    );
+              init_timer( next_tick );
+
+              timer_element
+                .show();
+            }
+          }
+        }
+
+        var master_settings_element = $( '#master-settings', replication_element );
+        var master_data = is_slave ? data.slave.masterDetails.master : data.master;
+
+        var replication_icon = 'ico-0';
+        if( 'true' === master_data.replicationEnabled )
+        {
+          replication_icon = 'ico-1';
+
+          $( '.disable-replication', navigation_element ).show();
+          $( '.enable-replication', navigation_element ).hide();
+        }
+        else
+        {
+          $( '.disable-replication', navigation_element ).hide();
+          $( '.enable-replication', navigation_element ).show();
+        }
+
+        $( '.replicationEnabled dd', master_settings_element )
+          .removeClass( 'ico-0' )
+          .removeClass( 'ico-1' )
+          .addClass( replication_icon )
+          .parents( 'li' ).show();
+
+        $( '.replicateAfter dd', master_settings_element )
+          .html( master_data.replicateAfter.join( ', ' ) )
+          .parents( 'li' ).show();
+
+        if( master_data.confFiles )
+        {
+          var conf_files = [];
+          var conf_data = master_data.confFiles.split( ',' );
+                    
+          for( var i = 0; i < conf_data.length; i++ )
+          {
+            var item = conf_data[i];
+
+            if( - 1 !== item.indexOf( ':' ) )
+            {
+              info = item.split( ':' );
+              item = '<abbr title="' + info[0] + ' » ' + info[1] + '">' + ( is_slave ? info[1] : info[0] ) + '</abbr>';
             }
-        );
+
+            conf_files.push( item );
+          }
+
+          $( '.confFiles dd', master_settings_element )
+            .html( conf_files.join( ', ' ) )
+            .parents( 'li' ).show();
+        }
+
+
+        $( '.block', replication_element ).last()
+          .addClass( 'last' );
+      },
+      error : function( xhr, text_status, error_thrown )
+      {
+        $( '#content' )
+          .html( 'sorry, no replication-handler defined!' );
+      },
+      complete : function( xhr, text_status )
+      {
+      }
     }
+  );
+}
+
+// #/:core/replication
+sammy.get
+(
+  /^#\/([\w\d-]+)\/(replication)$/,
+  function( context )
+  {
+    core_basepath = this.active_core.attr( 'data-basepath' );
+    var content_element = $( '#content' );
+        
+    $.get
+    (
+      'tpl/replication.html',
+      function( template )
+      {
+        content_element
+          .html( template );
+                
+        replication_element = $( '#replication', content_element );
+        navigation_element = $( '#navigation', replication_element );
+
+        replication_fetch_status();
+
+        $( '#iterations a', content_element )
+          .die( 'click' )
+          .live
+          (
+            'click',
+            function( event )
+            {
+              $( this ).parents( '.iterations' )
+                .toggleClass( 'expanded' );
+                            
+              return false;
+            }
+          );
+
+        $( 'button', navigation_element )
+          .die( 'click' )
+          .live
+          (
+            'click',
+            function( event )
+            {
+              var button = $( this );
+              var command = button.data( 'command' );
+
+              if( button.hasClass( 'refresh-status' ) && !button.hasClass( 'loader' ) )
+              {
+                replication_fetch_status();
+              }
+              else if( command )
+              {
+                $.get
+                (
+                  core_basepath + '/replication?command=' + command + '&wt=json',
+                  function()
+                  {
+                    replication_fetch_status();
+                  }
+                );
+              }
+              return false;
+            }
+          );
+      }
+    );
+  }
 );
\ No newline at end of file
diff --git a/solr/webapp/web/js/scripts/schema-browser.js b/solr/webapp/web/js/scripts/schema-browser.js
index 23fc815..83a4ba3 100644
--- a/solr/webapp/web/js/scripts/schema-browser.js
+++ b/solr/webapp/web/js/scripts/schema-browser.js
@@ -1,1052 +1,1155 @@
-sammy.bind
-(
-    'schema_browser_navi',
-    function( event, params )
+/*
+ Licensed to the Apache Software Foundation (ASF) under one or more
+ contributor license agreements.  See the NOTICE file distributed with
+ this work for additional information regarding copyright ownership.
+ The ASF licenses this file to You under the Apache License, Version 2.0
+ (the "License"); you may not use this file except in compliance with
+ the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+*/
+
+var cookie_name = 'schema-browser_autoload';
+
+var luke_array_to_struct = function( array )
+{
+  var struct = {
+    keys : [],
+    values : []
+  };
+  for( var i = 0; i < array.length; i += 2 )
+  {
+    struct.keys.push( array[i] );
+    struct.values.push( array[i+1] );
+  }
+  return struct;
+}
+
+var luke_array_to_hash = function( array )
+{
+  var hash = {};
+  for( var i = 0; i < array.length; i += 2 )
+  {
+    hash[ array[i] ] = array[i+1];
+  }
+  return hash;
+}
+
+var load_terminfo = function( trigger_element, core_basepath, field, data_element, terminfo_element )
+{
+  var luke_url = core_basepath + '/admin/luke?wt=json&fl=' + field;
+  var topterms_count_element = $( '.topterms-holder .head input', terminfo_element );
+
+  var term_load_count = parseInt( topterms_count_element.val(), 10 );
+  if( term_load_count )
+  {
+    luke_url += '&numTerms=' + term_load_count;
+  }
+
+  $.ajax
+  (
     {
-        var related_navigation_element = $( '#related dl#f-df-t', params.schema_browser_element );
-        var related_navigation_meta = $( '#related dl.ukf-dsf', params.schema_browser_element );
-        var related_select_element = $( '#related select', params.schema_browser_element )
-        var type = 'index';
+      url : luke_url,
+      dataType : 'json',
+      context : terminfo_element,
+      beforeSend : function( xhr, settings )
+      {
+        trigger_element
+          .addClass( 'loader' );
+      },
+      success : function( response, text_status, xhr )
+      {
+        trigger_element
+          .removeClass( 'loader' );
+
+        var field_data = response.fields[field];
+
+        if( !field_data || !( field_data.topTerms && field_data.histogram ) )
+        {
+          terminfo_element
+            .addClass( 'disabled' );
 
-        var sammy_basepath = '#/' + $( 'p a', params.active_core ).html() + '/schema-browser';
-        
-        if( !related_navigation_meta.hasClass( 'done' ) )
+          return false;
+        }
+
+        var topterms_holder_element = $( '.topterms-holder', data_element );
+        var histogram_holder_element = $( '.histogram-holder', data_element );
+
+        if( !field_data.topTerms )
         {
-            if( app.schema_browser_data.unique_key_field )
+          topterms_holder_element
+            .hide();
+        }
+        else
+        {
+          topterms_holder_element
+            .show();
+
+          var topterms_table_element = $( 'ul', topterms_holder_element );
+
+          var topterms = field_data.topTerms;
+          var topterms_count = topterms.length;
+                    
+          var topterms_content = '';
+          var topterms_frq_last = null;
+
+          for( var i = 0; i < topterms_count; i += 2 )
+          {
+            if( topterms_frq_last !== topterms[i+1] )
             {
-                $( '.unique-key-field', related_navigation_meta )
-                    .show()
-                    .after
-                    (
-                        '<dd class="unique-key-field"><a href="' + sammy_basepath + '/field/' +
-                        app.schema_browser_data.unique_key_field + '">' +
-                        app.schema_browser_data.unique_key_field + '</a></dd>'
-                    );
+            if( topterms_frq_last )
+            {
+              topterms_content += '</ul></li>' + "\n";
             }
 
-            if( app.schema_browser_data.default_search_field )
-            {
-                $( '.default-search-field', related_navigation_meta )
-                    .show()
-                    .after
-                    (
-                        '<dd class="default-search-field"><a href="' + sammy_basepath + '/field/' +
-                        app.schema_browser_data.default_search_field + '">' +
-                        app.schema_browser_data.default_search_field + '</a></dd>'
-                    );
+            topterms_frq_last = topterms[i+1];
+            topterms_content += '<li class="clearfix">'
+                                             +  '<p><span>' + topterms_frq_last.esc() + '</span></p>' + "\n"
+                                             +  '<ul>' + "\n";
             }
 
-            related_navigation_meta
-                .addClass( 'done' );
+            topterms_content += '<li><span>' + topterms[i].esc() + '</span></li>' + "\n";
+          }
+
+          topterms_content += '</li>';
+
+          topterms_count = topterms_count / 2;
+
+          $( 'input', trigger_element )
+            .val( topterms_count );
+
+          topterms_table_element
+            .html( topterms_content );
+
+          topterms_count_element
+            .val( topterms_count );
+
+          $( 'p.head .max', topterms_holder_element )
+            .html( field_data.distinct );
+
+          $( 'ul li:even', topterms_table_element )
+            .addClass( 'odd' );
         }
 
-        if( params.route_params )
+        if( !field_data.histogram )
         {
-            var type = params.route_params.splat[3];
-            var value = params.route_params.splat[4];
-
-            var navigation_data = {
-                'fields' : [],
-                'copyfield_source' : [],
-                'copyfield_dest' : [],
-                'dynamic_fields' : [],
-                'types' : []
-            }
+          histogram_holder_element
+            .hide();
+        }
+        else
+        {
+          histogram_holder_element
+            .show();
 
-            $( 'option[value="' + params.route_params.splat[2] + '"]', related_select_element )
-                .attr( 'selected', 'selected' );
+          var histogram_element = $( '.histogram', histogram_holder_element );
 
-            if( 'field' === type )
-            {
-                navigation_data.fields.push( value );
-                navigation_data.types.push( app.schema_browser_data.relations.f_t[value] );
+          var histogram_values = luke_array_to_hash( field_data.histogram );
+          var histogram_legend = '';
 
-                if( app.schema_browser_data.relations.f_df[value] )
-                {
-                    navigation_data.dynamic_fields.push( app.schema_browser_data.relations.f_df[value] );
-                }
+          histogram_holder_element
+            .show();
 
-                if( 0 !== app.schema_browser_data.fields[value].copySources.length )
-                {
-                    navigation_data.copyfield_source = app.schema_browser_data.fields[value].copySources;
-                }
+          for( var key in histogram_values )
+          {
+            histogram_legend += '<dt><span>' + key + '</span></dt>' + "\n" +
+                    '<dd title="' + key + '">' +
+                    '<span>' + histogram_values[key] + '</span>' +
+                    '</dd>' + "\n";
+          }
 
-                if( 0 !== app.schema_browser_data.fields[value].copyDests.length )
-                {
-                    navigation_data.copyfield_dest = app.schema_browser_data.fields[value].copyDests;
-                }
-            }
-            else if( 'dynamic-field' === type )
-            {
-                navigation_data.dynamic_fields.push( value );
-                navigation_data.types.push( app.schema_browser_data.relations.df_t[value] );
+          $( 'dl', histogram_holder_element )
+            .html( histogram_legend );
 
-                if( app.schema_browser_data.relations.df_f[value] )
-                {
-                    navigation_data.fields = app.schema_browser_data.relations.df_f[value];
-                }
-            }
-            else if( 'type' === type )
+          var histogram_values = luke_array_to_struct( field_data.histogram ).values;
+
+          histogram_element
+            .sparkline
+            (
+            histogram_values,
             {
-                navigation_data.types.push( value );
-                
-                if( app.schema_browser_data.relations.t_f[value] )
-                {
-                    navigation_data.fields = app.schema_browser_data.relations.t_f[value];
-                }
-                
-                if( app.schema_browser_data.relations.t_df[value] )
-                {
-                    navigation_data.dynamic_fields = app.schema_browser_data.relations.t_df[value];
-                }
+              type : 'bar',
+              barColor : '#c0c0c0',
+              zeroColor : '#000000',
+              height : histogram_element.height(),
+              barWidth : 46,
+              barSpacing : 3
             }
+            );
 
-            var navigation_content = '';
+          1 === histogram_values.length
+            ? histogram_element.addClass( 'single' )
+            : histogram_element.removClass( 'single' );
+        }
 
-            if( 0 !== navigation_data.fields.length )
-            {
-                navigation_data.fields.sort();
-                navigation_content += '<dt class="field">Fields</dt>' + "\n";
-                for( var i in navigation_data.fields )
-                {
-                    var href = sammy_basepath + '/field/' + navigation_data.fields[i];
-                    navigation_content += '<dd class="field"><a href="' + href + '">' + 
-                                          navigation_data.fields[i] + '</a></dd>' + "\n";
-                }
-            }
+      },
+      error : function( xhr, text_status, error_thrown)
+      {
+      },
+      complete : function( xhr, text_status )
+      {
+      }
+    }
+  );
+}
 
-            if( 0 !== navigation_data.copyfield_source.length )
-            {
-                navigation_data.copyfield_source.sort();
-                navigation_content += '<dt class="copyfield">Copied from</dt>' + "\n";
-                for( var i in navigation_data.copyfield_source )
-                {
-                    var href = sammy_basepath + '/field/' + navigation_data.copyfield_source[i];
-                    navigation_content += '<dd class="copyfield"><a href="' + href + '">' + 
-                                          navigation_data.copyfield_source[i] + '</a></dd>' + "\n";
-                }
-            }
+sammy.bind
+(
+  'schema_browser_navi',
+  function( event, params )
+  {
+    var related_navigation_element = $( '#related dl#f-df-t', params.schema_browser_element );
+    var related_navigation_meta = $( '#related dl.ukf-dsf', params.schema_browser_element );
+    var related_select_element = $( '#related select', params.schema_browser_element )
+    var type = 'index';
+
+    var sammy_basepath = '#/' + $( 'p a', params.active_core ).html() + '/schema-browser';
+        
+    if( !related_navigation_meta.hasClass( 'done' ) )
+    {
+      if( app.schema_browser_data.unique_key_field )
+      {
+        $( '.unique-key-field', related_navigation_meta )
+          .show()
+          .after
+          (
+            '<dd class="unique-key-field"><a href="' + sammy_basepath + '?field=' +
+            app.schema_browser_data.unique_key_field + '">' +
+            app.schema_browser_data.unique_key_field + '</a></dd>'
+          );
+      }
+
+      if( app.schema_browser_data.default_search_field )
+      {
+        $( '.default-search-field', related_navigation_meta )
+          .show()
+          .after
+          (
+            '<dd class="default-search-field"><a href="' + sammy_basepath + '?field=' +
+            app.schema_browser_data.default_search_field + '">' +
+            app.schema_browser_data.default_search_field + '</a></dd>'
+          );
+      }
+
+      related_navigation_meta
+        .addClass( 'done' );
+    }
 
-            if( 0 !== navigation_data.copyfield_dest.length )
-            {
-                navigation_data.copyfield_dest.sort();
-                navigation_content += '<dt class="copyfield">Copied to</dt>' + "\n";
-                for( var i in navigation_data.copyfield_dest )
-                {
-                    var href = sammy_basepath + '/field/' + navigation_data.copyfield_dest[i];
-                    navigation_content += '<dd class="copyfield"><a href="' + href + '">' + 
-                                          navigation_data.copyfield_dest[i] + '</a></dd>' + "\n";
-                }
-            }
+    if( params.route_params )
+    {
+      var type = params.route_params.type;
+      var value = params.route_params.value;
+
+      var navigation_data = {
+        'fields' : [],
+        'copyfield_source' : [],
+        'copyfield_dest' : [],
+        'dynamic_fields' : [],
+        'types' : []
+      }
+
+      $( 'option[value="' + params.route_params.path + '"]', related_select_element )
+        .attr( 'selected', 'selected' );
+
+      if( 'field' === type )
+      {
+        navigation_data.fields.push( value );
+        navigation_data.types.push( app.schema_browser_data.relations.f_t[value] );
+
+        if( app.schema_browser_data.relations.f_df[value] )
+        {
+          navigation_data.dynamic_fields.push( app.schema_browser_data.relations.f_df[value] );
+        }
 
-            if( 0 !== navigation_data.dynamic_fields.length )
-            {
-                navigation_data.dynamic_fields.sort();
-                navigation_content += '<dt class="dynamic-field">Dynamic Fields</dt>' + "\n";
-                for( var i in navigation_data.dynamic_fields )
-                {
-                    var href = sammy_basepath + '/dynamic-field/' + navigation_data.dynamic_fields[i];
-                    navigation_content += '<dd class="dynamic-field"><a href="' + href + '">' + 
-                                          navigation_data.dynamic_fields[i] + '</a></dd>' + "\n";
-                }
-            }
+        if( 0 !== app.schema_browser_data.fields[value].copySources.length )
+        {
+          navigation_data.copyfield_source = app.schema_browser_data.fields[value].copySources;
+        }
 
-            if( 0 !== navigation_data.types.length )
-            {
-                navigation_data.types.sort();
-                navigation_content += '<dt class="type">Types</dt>' + "\n";
-                for( var i in navigation_data.types )
-                {
-                    var href = sammy_basepath + '/type/' + navigation_data.types[i];
-                    navigation_content += '<dd class="type"><a href="' + href + '">' + 
-                                          navigation_data.types[i] + '</a></dd>' + "\n";
-                }
-            }
+        if( 0 !== app.schema_browser_data.fields[value].copyDests.length )
+        {
+          navigation_data.copyfield_dest = app.schema_browser_data.fields[value].copyDests;
+        }
+      }
+      else if( 'dynamic-field' === type )
+      {
+        navigation_data.dynamic_fields.push( value );
+        navigation_data.types.push( app.schema_browser_data.relations.df_t[value] );
 
-            related_navigation_element
-                .show()
-                .attr( 'class', type )
-                .html( navigation_content );
+        if( app.schema_browser_data.relations.df_f[value] )
+        {
+          navigation_data.fields = app.schema_browser_data.relations.df_f[value];
         }
-        else
+      }
+      else if( 'type' === type )
+      {
+        navigation_data.types.push( value );
+                
+        if( app.schema_browser_data.relations.t_f[value] )
         {
-            related_navigation_element
-                .hide();
-            
-            $( 'option:selected', related_select_element )
-                .removeAttr( 'selected' );
+          navigation_data.fields = app.schema_browser_data.relations.t_f[value];
+        }
+                
+        if( app.schema_browser_data.relations.t_df[value] )
+        {
+          navigation_data.dynamic_fields = app.schema_browser_data.relations.t_df[value];
         }
+      }
+
+      var navigation_content = '';
 
-        if( 'field' === type && value === app.schema_browser_data.unique_key_field )
+      if( 0 !== navigation_data.fields.length )
+      {
+        navigation_data.fields.sort();
+        navigation_content += '<dt class="field">Fields</dt>' + "\n";
+        for( var i in navigation_data.fields )
         {
-            $( '.unique-key-field', related_navigation_meta )
-                .addClass( 'active' );
+          var href = sammy_basepath + '?field=' + navigation_data.fields[i];
+          navigation_content += '<dd class="field"><a href="' + href + '">' + navigation_data.fields[i] + '</a></dd>' + "\n";
         }
-        else
+      }
+
+      if( 0 !== navigation_data.copyfield_source.length )
+      {
+        navigation_data.copyfield_source.sort();
+        navigation_content += '<dt class="copyfield">Copied from</dt>' + "\n";
+        for( var i in navigation_data.copyfield_source )
         {
-            $( '.unique-key-field', related_navigation_meta )
-                .removeClass( 'active' );
+          var href = sammy_basepath + '?field=' + navigation_data.copyfield_source[i];
+          navigation_content += '<dd class="copyfield"><a href="' + href + '">' + navigation_data.copyfield_source[i] + '</a></dd>' + "\n";
         }
+      }
 
-        if( 'field' === type && value === app.schema_browser_data.default_search_field )
+      if( 0 !== navigation_data.copyfield_dest.length )
+      {
+        navigation_data.copyfield_dest.sort();
+        navigation_content += '<dt class="copyfield">Copied to</dt>' + "\n";
+        for( var i in navigation_data.copyfield_dest )
         {
-            $( '.default-search-field', related_navigation_meta )
-                .addClass( 'active' );
+          var href = sammy_basepath + '?field=' + navigation_data.copyfield_dest[i];
+          navigation_content += '<dd class="copyfield"><a href="' + href + '">' + navigation_data.copyfield_dest[i] + '</a></dd>' + "\n";
         }
-        else
+      }
+
+      if( 0 !== navigation_data.dynamic_fields.length )
+      {
+        navigation_data.dynamic_fields.sort();
+        navigation_content += '<dt class="dynamic-field">Dynamic Fields</dt>' + "\n";
+        for( var i in navigation_data.dynamic_fields )
         {
-            $( '.default-search-field', related_navigation_meta )
-                .removeClass( 'active' );
+          var href = sammy_basepath + '?dynamic-field=' + navigation_data.dynamic_fields[i];
+          navigation_content += '<dd class="dynamic-field"><a href="' + href + '">' + navigation_data.dynamic_fields[i] + '</a></dd>' + "\n";
         }
+      }
 
-        if( params.callback )
+      if( 0 !== navigation_data.types.length )
+      {
+        navigation_data.types.sort();
+        navigation_content += '<dt class="type">Types</dt>' + "\n";
+        for( var i in navigation_data.types )
         {
-            params.callback( app.schema_browser_data, $( '#data', params.schema_browser_element ) );
+          var href = sammy_basepath + '?type=' + navigation_data.types[i];
+          navigation_content += '<dd class="type"><a href="' + href + '">' + navigation_data.types[i] + '</a></dd>' + "\n";
         }
+      }
+
+      related_navigation_element
+        .show()
+        .attr( 'class', type )
+        .html( navigation_content );
+    }
+    else
+    {
+      related_navigation_element
+        .hide();
+            
+      $( 'option:selected', related_select_element )
+        .removeAttr( 'selected' );
+    }
+
+    if( 'field' === type && value === app.schema_browser_data.unique_key_field )
+    {
+      $( '.unique-key-field', related_navigation_meta )
+        .addClass( 'active' );
+    }
+    else
+    {
+      $( '.unique-key-field', related_navigation_meta )
+        .removeClass( 'active' );
+    }
+
+    if( 'field' === type && value === app.schema_browser_data.default_search_field )
+    {
+      $( '.default-search-field', related_navigation_meta )
+        .addClass( 'active' );
+    }
+    else
+    {
+      $( '.default-search-field', related_navigation_meta )
+        .removeClass( 'active' );
+    }
+
+    if( params.callback )
+    {
+      params.callback( app.schema_browser_data, $( '#data', params.schema_browser_element ) );
     }
+  }
 );
 
 sammy.bind
 (
-    'schema_browser_load',
-    function( event, params )
+  'schema_browser_load',
+  function( event, params )
+  {
+    var core_basepath = params.active_core.attr( 'data-basepath' );
+    var content_element = $( '#content' );
+
+    if( app.schema_browser_data )
     {
-        var core_basepath = params.active_core.attr( 'data-basepath' );
-        var content_element = $( '#content' );
+      params.schema_browser_element = $( '#schema-browser', content_element );
 
-        if( app.schema_browser_data )
+      sammy.trigger
+      (
+        'schema_browser_navi',
+        params
+      );
+    }
+    else
+    {
+      content_element
+        .html( '<div id="schema-browser"><div class="loader">Loading ...</div></div>' );
+            
+      $.ajax
+      (
         {
-            params.schema_browser_element = $( '#schema-browser', content_element );
+          url : core_basepath + '/admin/luke?numTerms=0&wt=json',
+          dataType : 'json',
+          beforeSend : function( xhr, settings )
+          {
+          },
+          success : function( response, text_status, xhr )
+          {
+            app.schema_browser_data = {
+            default_search_field : null,
+            unique_key_field : null,
+            key : {},
+            fields : {},
+            dynamic_fields : {},
+            types : {},
+            relations : {
+              f_df : {},
+              f_t  : {},
+              df_f : {},
+              df_t : {},
+              t_f  : {},
+              t_df : {}
+            }
+            };
+
+            app.schema_browser_data.fields = response.fields;
+            app.schema_browser_data.key = response.info.key;
 
-            sammy.trigger
-            (
-                'schema_browser_navi',
-                params
-            );
-        }
-        else
-        {
-            content_element
-                .html( '<div id="schema-browser"><div class="loader">Loading ...</div></div>' );
-            
             $.ajax
             (
+            {
+              url : core_basepath + '/admin/luke?show=schema&wt=json',
+              dataType : 'json',
+              beforeSend : function( xhr, settings )
+              {
+              },
+              success : function( response, text_status, xhr )
+              {
+                app.schema_browser_data.default_search_field = response.schema.defaultSearchField;
+                app.schema_browser_data.unique_key_field = response.schema.uniqueKeyField;
+
+                app.schema_browser_data.dynamic_fields = response.schema.dynamicFields;
+                app.schema_browser_data.types = response.schema.types;
+
+                for( var field in response.schema.fields )
                 {
-                    url : core_basepath + '/admin/luke?numTerms=0&wt=json',
-                    dataType : 'json',
-                    beforeSend : function( xhr, settings )
+                  app.schema_browser_data.fields[field] = $.extend
+                  (
+                    {},
+                    app.schema_browser_data.fields[field],
+                    response.schema.fields[field]
+                  );
+                }
+
+                for( var field in app.schema_browser_data.fields )
+                {
+                  app.schema_browser_data.fields[field].copySourcesRaw = null;
+
+                  if( app.schema_browser_data.fields[field].copySources &&
+                    0 !== app.schema_browser_data.fields[field].copySources.length )
+                  {
+                    app.schema_browser_data.fields[field].copySourcesRaw =
+                      app.schema_browser_data.fields[field].copySources;
+                  }
+                                        
+                  app.schema_browser_data.fields[field].copyDests = [];
+                  app.schema_browser_data.fields[field].copySources = [];
+                }
+
+                for( var field in app.schema_browser_data.fields )
+                {
+                  if( app.schema_browser_data.fields[field].copySourcesRaw )
+                  {
+                    var copy_sources = app.schema_browser_data.fields[field].copySourcesRaw;
+                    for( var i in copy_sources )
                     {
-                    },
-                    success : function( response, text_status, xhr )
+                      var target = copy_sources[i].replace( /^.+:(.+)\{.+$/, '$1' );
+
+                      app.schema_browser_data.fields[field].copySources.push( target );
+                      app.schema_browser_data.fields[target].copyDests.push( field );
+                    }
+                  }
+
+                  app.schema_browser_data.relations.f_t[field] = app.schema_browser_data.fields[field].type;
+
+                  if( !app.schema_browser_data.relations.t_f[app.schema_browser_data.fields[field].type] )
+                  {
+                    app.schema_browser_data.relations.t_f[app.schema_browser_data.fields[field].type] = [];
+                  }
+                  app.schema_browser_data.relations.t_f[app.schema_browser_data.fields[field].type].push( field );
+
+                  if( app.schema_browser_data.fields[field].dynamicBase )
+                  {
+                    app.schema_browser_data.relations.f_df[field] = app.schema_browser_data.fields[field].dynamicBase;
+
+                    if( !app.schema_browser_data.relations.df_f[app.schema_browser_data.fields[field].dynamicBase] )
                     {
-                        app.schema_browser_data = {
-                            default_search_field : null,
-                            unique_key_field : null,
-                            key : {},
-                            fields : {},
-                            dynamic_fields : {},
-                            types : {},
-                            relations : {
-                                f_df : {},
-                                f_t  : {},
-                                df_f : {},
-                                df_t : {},
-                                t_f  : {},
-                                t_df : {}
-                            }
-                        };
-
-                        app.schema_browser_data.fields = response.fields;
-                        app.schema_browser_data.key = response.info.key;
-
-                        $.ajax
-                        (
-                            {
-                                url : core_basepath + '/admin/luke?show=schema&wt=json',
-                                dataType : 'json',
-                                beforeSend : function( xhr, settings )
-                                {
-                                },
-                                success : function( response, text_status, xhr )
-                                {
-                                    app.schema_browser_data.default_search_field = response.schema.defaultSearchField;
-                                    app.schema_browser_data.unique_key_field = response.schema.uniqueKeyField;
-
-                                    app.schema_browser_data.dynamic_fields = response.schema.dynamicFields;
-                                    app.schema_browser_data.types = response.schema.types;
-
-                                    var luke_array_to_struct = function( array )
-                                    {
-                                        var struct = {
-                                            keys : [],
-                                            values : []
-                                        };
-                                        for( var i = 0; i < array.length; i += 2 )
-                                        {
-                                            struct.keys.push( array[i] );
-                                            struct.values.push( array[i+1] );
-                                        }
-                                        return struct;
-                                    }
-
-                                    var luke_array_to_hash = function( array )
-                                    {
-                                        var hash = {};
-                                        for( var i = 0; i < array.length; i += 2 )
-                                        {
-                                            hash[ array[i] ] = array[i+1];
-                                        }
-                                        return hash;
-                                    }
-
-                                    for( var field in response.schema.fields )
-                                    {
-                                        app.schema_browser_data.fields[field] = $.extend
-                                        (
-                                            {},
-                                            app.schema_browser_data.fields[field],
-                                            response.schema.fields[field]
-                                        );
-                                    }
-
-                                    for( var field in app.schema_browser_data.fields )
-                                    {
-                                        app.schema_browser_data.fields[field].copySourcesRaw = null;
-
-                                        if( app.schema_browser_data.fields[field].copySources &&
-                                            0 !== app.schema_browser_data.fields[field].copySources.length )
-                                        {
-                                            app.schema_browser_data.fields[field].copySourcesRaw =
-                                                app.schema_browser_data.fields[field].copySources;
-                                        }
-                                        
-                                        app.schema_browser_data.fields[field].copyDests = [];
-                                        app.schema_browser_data.fields[field].copySources = [];
-                                    }
-
-                                    for( var field in app.schema_browser_data.fields )
-                                    {
-                                        if( app.schema_browser_data.fields[field].copySourcesRaw )
-                                        {
-                                            var copy_sources = app.schema_browser_data.fields[field].copySourcesRaw;
-                                            for( var i in copy_sources )
-                                            {
-                                                var target = copy_sources[i].replace( /^.+:(.+)\{.+$/, '$1' );
-
-                                                app.schema_browser_data.fields[field].copySources.push( target );
-                                                app.schema_browser_data.fields[target].copyDests.push( field );
-                                            }
-                                        }
-
-                                        app.schema_browser_data.relations.f_t[field] = app.schema_browser_data.fields[field].type;
-
-                                        if( !app.schema_browser_data.relations.t_f[app.schema_browser_data.fields[field].type] )
-                                        {
-                                            app.schema_browser_data.relations.t_f[app.schema_browser_data.fields[field].type] = [];
-                                        }
-                                        app.schema_browser_data.relations.t_f[app.schema_browser_data.fields[field].type].push( field );
-
-                                        if( app.schema_browser_data.fields[field].dynamicBase )
-                                        {
-                                            app.schema_browser_data.relations.f_df[field] = app.schema_browser_data.fields[field].dynamicBase;
-
-                                            if( !app.schema_browser_data.relations.df_f[app.schema_browser_data.fields[field].dynamicBase] )
-                                            {
-                                                app.schema_browser_data.relations.df_f[app.schema_browser_data.fields[field].dynamicBase] = [];
-                                            }
-                                            app.schema_browser_data.relations.df_f[app.schema_browser_data.fields[field].dynamicBase].push( field );
-                                        }
-                                    }
-
-                                    for( var dynamic_field in app.schema_browser_data.dynamic_fields )
-                                    {
-                                        app.schema_browser_data.relations.df_t[dynamic_field] = app.schema_browser_data.dynamic_fields[dynamic_field].type;
-
-                                        if( !app.schema_browser_data.relations.t_df[app.schema_browser_data.dynamic_fields[dynamic_field].type] )
-                                        {
-                                            app.schema_browser_data.relations.t_df[app.schema_browser_data.dynamic_fields[dynamic_field].type] = [];
-                                        }
-                                        app.schema_browser_data.relations.t_df[app.schema_browser_data.dynamic_fields[dynamic_field].type].push( dynamic_field );
-                                    }
-
-                                    $.get
-                                    (
-                                        'tpl/schema-browser.html',
-                                        function( template )
-                                        {
-                                            content_element
-                                                .html( template );
-                                            
-                                            var schema_browser_element = $( '#schema-browser', content_element );
-                                            var related_element = $( '#related', schema_browser_element );
-                                            var related_select_element = $( 'select', related_element );
-                                            var data_element = $( '#data', schema_browser_element );
+                      app.schema_browser_data.relations.df_f[app.schema_browser_data.fields[field].dynamicBase] = [];
+                    }
+                    app.schema_browser_data.relations.df_f[app.schema_browser_data.fields[field].dynamicBase].push( field );
+                  }
+                }
+
+                for( var dynamic_field in app.schema_browser_data.dynamic_fields )
+                {
+                  app.schema_browser_data.relations.df_t[dynamic_field] = app.schema_browser_data.dynamic_fields[dynamic_field].type;
 
-                                            var related_options = '';
+                  if( !app.schema_browser_data.relations.t_df[app.schema_browser_data.dynamic_fields[dynamic_field].type] )
+                  {
+                    app.schema_browser_data.relations.t_df[app.schema_browser_data.dynamic_fields[dynamic_field].type] = [];
+                  }
+                  app.schema_browser_data.relations.t_df[app.schema_browser_data.dynamic_fields[dynamic_field].type].push( dynamic_field );
+                }
+
+                $.get
+                (
+                  'tpl/schema-browser.html',
+                  function( template )
+                  {
+                    content_element
+                      .html( template );
                                             
-                                            var fields = [];
-                                            for( var field_name in app.schema_browser_data.fields )
-                                            {
-                                                fields.push
-                                                (
-                                                    '<option value="/field/' + field_name + '">' + field_name + '</option>'
-                                                );
-                                            }
-                                            if( 0 !== fields.length )
-                                            {
-                                                fields.sort();
-                                                related_options += '<optgroup label="Fields">' + "\n";
-                                                related_options += fields.sort().join( "\n" ) + "\n";
-                                                related_options += '</optgroup>' + "\n";
-                                            }
+                    var schema_browser_element = $( '#schema-browser', content_element );
+                    var related_element = $( '#related', schema_browser_element );
+                    var related_select_element = $( 'select', related_element );
+                    var data_element = $( '#data', schema_browser_element );
+
+                    var related_options = '';
                                             
-                                            var dynamic_fields = [];
-                                            for( var type_name in app.schema_browser_data.dynamic_fields )
-                                            {
-                                                dynamic_fields.push
-                                                (
-                                                    '<option value="/dynamic-field/' + type_name + '">' + type_name + '</option>'
-                                                );
-                                            }
-                                            if( 0 !== dynamic_fields.length )
-                                            {
-                                                dynamic_fields.sort();
-                                                related_options += '<optgroup label="DynamicFields">' + "\n";
-                                                related_options += dynamic_fields.sort().join( "\n" ) + "\n";
-                                                related_options += '</optgroup>' + "\n";
-                                            }
+                    var fields = [];
+                    for( var field_name in app.schema_browser_data.fields )
+                    {
+                      fields.push
+                      (
+                        '<option value="?field=' + field_name + '">' + field_name + '</option>'
+                      );
+                    }
+                    if( 0 !== fields.length )
+                    {
+                      fields.sort();
+                      related_options += '<optgroup label="Fields">' + "\n";
+                      related_options += fields.sort().join( "\n" ) + "\n";
+                      related_options += '</optgroup>' + "\n";
+                    }
                                             
-                                            var types = [];
-                                            for( var type_name in app.schema_browser_data.types )
-                                            {
-                                                types.push
-                                                (
-                                                    '<option value="/type/' + type_name + '">' + type_name + '</option>'
-                                                );
-                                            }
-                                            if( 0 !== types.length )
-                                            {
-                                                types.sort();
-                                                related_options += '<optgroup label="Types">' + "\n";
-                                                related_options += types.sort().join( "\n" ) + "\n";
-                                                related_options += '</optgroup>' + "\n";
-                                            }
-
-                                            related_select_element
-                                                .attr( 'rel', '#/' + $( 'p a', params.active_core ).html() + '/schema-browser' )
-                                                .append( related_options );
+                    var dynamic_fields = [];
+                    for( var type_name in app.schema_browser_data.dynamic_fields )
+                    {
+                      dynamic_fields.push
+                      (
+                        '<option value="?dynamic-field=' + type_name + '">' + type_name + '</option>'
+                      );
+                    }
+                    if( 0 !== dynamic_fields.length )
+                    {
+                      dynamic_fields.sort();
+                      related_options += '<optgroup label="DynamicFields">' + "\n";
+                      related_options += dynamic_fields.sort().join( "\n" ) + "\n";
+                      related_options += '</optgroup>' + "\n";
+                    }
                                             
-                                            related_select_element
-                                                .die( 'change' )
-                                                .live
-                                                (
-                                                    'change',
-                                                    function( event )
-                                                    {
-                                                        var select_element = $( this );
-                                                        var option_element = $( 'option:selected', select_element );
-
-                                                        location.href = select_element.attr( 'rel' ) + option_element.val();
-                                                        return false;
-                                                    }
-                                                );
-
-                                            params.schema_browser_element = schema_browser_element;
-                                            sammy.trigger
-                                            (
-                                                'schema_browser_navi',
-                                                params
-                                            );
-                                        }
-                                    );
-                                },
-                                error : function( xhr, text_status, error_thrown)
-                                {
-                                },
-                                complete : function( xhr, text_status )
-                                {
-                                }
-                            }
-                        );
-
-                    },
-                    error : function( xhr, text_status, error_thrown)
+                    var types = [];
+                    for( var type_name in app.schema_browser_data.types )
                     {
-                    },
-                    complete : function( xhr, text_status )
+                      types.push
+                      (
+                        '<option value="?type=' + type_name + '">' + type_name + '</option>'
+                      );
+                    }
+                    if( 0 !== types.length )
                     {
+                      types.sort();
+                      related_options += '<optgroup label="Types">' + "\n";
+                      related_options += types.sort().join( "\n" ) + "\n";
+                      related_options += '</optgroup>' + "\n";
                     }
-                }
+
+                    related_select_element
+                      .attr( 'rel', '#/' + $( 'p a', params.active_core ).html() + '/schema-browser' )
+                      .append( related_options );
+                                            
+                    related_select_element
+                      .die( 'change' )
+                      .live
+                      (
+                        'change',
+                        function( event )
+                        {
+                          var select_element = $( this );
+                          var option_element = $( 'option:selected', select_element );
+
+                          location.href = select_element.attr( 'rel' ) + option_element.val();
+                          return false;
+                        }
+                      );
+
+                    params.schema_browser_element = schema_browser_element;
+                    sammy.trigger
+                    (
+                      'schema_browser_navi',
+                      params
+                    );
+                  }
+                );
+              },
+              error : function( xhr, text_status, error_thrown)
+              {
+              },
+              complete : function( xhr, text_status )
+              {
+              }
+            }
             );
+
+          },
+          error : function( xhr, text_status, error_thrown)
+          {
+          },
+          complete : function( xhr, text_status )
+          {
+          }
         }
+      );
     }
+  }
 );
 
 // #/:core/schema-browser
 sammy.get
 (
-    /^#\/([\w\d-]+)\/(schema-browser)$/,
-    function( context )
+  /^#\/([\w\d-]+)\/(schema-browser)$/,
+  function( context )
+  {
+    var core_basepath = this.active_core.attr( 'data-basepath' );
+
+    var trigger_params = {
+      active_core : this.active_core
+    };
+
+    var path = context.path.split( '?' );
+    if( path && path[1] )
     {
-        var callback = function( schema_browser_data, data_element )
+      var param = path[1].split( '=' );
+      trigger_params.route_params =  {
+        path : '?' + path[1],
+        type : param[0],
+        value : param[1]
+      }
+
+      trigger_params.callback = function( schema_browser_data, data_element )
+      {
+        var field = trigger_params.route_params.value;
+
+        var type = trigger_params.route_params.type;
+        var is_f = 'field' === type;
+        var is_df = 'dynamic-field' === type;
+        var is_t = 'type' === type;
+                
+        var options_element = $( '.options', data_element );
+        var sammy_basepath = context.path.indexOf( '/', context.path.indexOf( '/', 2 ) + 1 );
+
+        data_element
+          .show();
+
+        var keystring_to_list = function( keystring, element_class )
         {
-            data_element
-                .hide();
-        };
+          var key_list = keystring.replace( /-/g, '' ).split( '' );
+          var list = [];
 
-        delete app.schema_browser_data;
+          for( var i in key_list )
+          {
+            var option_key = schema_browser_data.key[key_list[i]];
 
-        sammy.trigger
-        (
-            'schema_browser_load',
+            if( !option_key )
             {
-                callback : callback,
-                active_core : this.active_core
+              option_key = schema_browser_data.key[key_list[i].toLowerCase()];
             }
-        );
-    }
-);
 
-// #/:core/schema-browser/field|dynamic-field|type/$field
-sammy.get
-(
-    /^#\/([\w\d-]+)\/(schema-browser)(\/(field|dynamic-field|type)\/(.+))$/,
-    function( context )
-    {
-        var core_basepath = this.active_core.attr( 'data-basepath' );
+            if( !option_key )
+            {
+              option_key = schema_browser_data.key[key_list[i].toUpperCase()];
+            }
 
-        var callback = function( schema_browser_data, data_element )
-        {
-            var field = context.params.splat[4];
+            if( option_key )
+            {
+              list.push
+              (
+                '<dd ' + ( element_class ? ' class="' + element_class + '"' : '' ) + '>' +
+                option_key +
+                ',</dd>'
+              );
+            }
+          }
 
-            var type = context.params.splat[3];
-            var is_f = 'field' === type;
-            var is_df = 'dynamic-field' === type;
-            var is_t = 'type' === type;
-            
-            var options_element = $( '.options', data_element );
-            var sammy_basepath = context.path.indexOf( '/', context.path.indexOf( '/', 2 ) + 1 );
+          list[list.length-1] = list[key_list.length-1].replace( /,/, '' );
 
-            data_element
-                .show();
+          return list;
+        }
 
-            var keystring_to_list = function( keystring, element_class )
-            {
-                var key_list = keystring.replace( /-/g, '' ).split( '' );
-                var list = [];
+        var flags = null;
 
-                for( var i in key_list )
-                {
-                    var option_key = schema_browser_data.key[key_list[i]];
+        if( is_f && schema_browser_data.fields[field] && schema_browser_data.fields[field].flags )
+        {
+          flags = schema_browser_data.fields[field].flags;
+        }
+        else if( is_df && schema_browser_data.dynamic_fields[field] && schema_browser_data.dynamic_fields[field].flags )
+        {
+          flags = schema_browser_data.dynamic_fields[field].flags;
+        }
 
-                    if( !option_key )
-                    {
-                        option_key = schema_browser_data.key[key_list[i].toLowerCase()];
-                    }
+        // -- head
 
-                    if( !option_key )
-                    {
-                        option_key = schema_browser_data.key[key_list[i].toUpperCase()];
-                    }
+        var head_element = $( '.head', data_element );
+        if( is_f )
+        {
+          $( '.type', head_element ).html( 'Field' );
+        }
+        else if( is_df )
+        {
+          $( '.type', head_element ).html( 'Dynamic Field' );
+        }
+        else if( is_t )
+        {
+          $( '.type', head_element ).html( 'Type' );
+        }
+        $( '.name', head_element ).html( field.esc() );
 
-                    if( option_key )
-                    {
-                        list.push
-                        (
-                            '<dd ' + ( element_class ? ' class="' + element_class + '"' : '' ) + '>' +
-                            option_key +
-                            ',</dd>'
-                        );
-                    }
-                }
+        // -- properties
+        var properties_element = $( 'dt.properties', options_element );
+        if( flags )
+        {
+          var properties_keys = keystring_to_list( flags, 'properties' );
 
-                list[list.length-1] = list[key_list.length-1].replace( /,/, '' );
+          $( 'dd.properties', options_element )
+            .remove();
 
-                return list;
-            }
+          properties_element
+            .show()
+            .after( properties_keys.join( "\n" ) );
+        }
+        else
+        {
+          $( '.properties', options_element )
+            .hide();
+        }
 
-            var flags = null;
+        // -- schema
+        var schema_element = $( 'dt.schema', options_element );
+        if( is_f && schema_browser_data.fields[field] && schema_browser_data.fields[field].schema )
+        {
+          var schema_keys = keystring_to_list( schema_browser_data.fields[field].schema, 'schema' );
 
-            if( is_f && schema_browser_data.fields[field] && schema_browser_data.fields[field].flags )
-            {
-                flags = schema_browser_data.fields[field].flags;
-            }
-            else if( is_df && schema_browser_data.dynamic_fields[field] && schema_browser_data.dynamic_fields[field].flags )
-            {
-                flags = schema_browser_data.dynamic_fields[field].flags;
-            }
+          $( 'dd.schema', options_element )
+            .remove();
 
-            // -- properties
-            var properties_element = $( 'dt.properties', options_element );
-            if( flags )
-            {
-                var properties_keys = keystring_to_list( flags, 'properties' );
+          schema_element
+            .show()
+            .after( schema_keys.join( "\n" ) );
+        }
+        else
+        {
+          $( '.schema', options_element )
+            .hide();
+        }
 
-                $( 'dd.properties', options_element )
-                    .remove();
+        // -- index
+        var index_element = $( 'dt.index', options_element );
+        if( is_f && schema_browser_data.fields[field] && schema_browser_data.fields[field].index )
+        {
+          var index_keys = [];
+
+          if( 0 === schema_browser_data.fields[field].index.indexOf( '(' ) )
+          {
+            index_keys.push( '<dd class="index">' + schema_browser_data.fields[field].index + '</dd>' );
+          }
+          else
+          {
+            index_keys = keystring_to_list( schema_browser_data.fields[field].index, 'index' );
+          }
+
+          $( 'dd.index', options_element )
+            .remove();
+
+          index_element
+            .show()
+            .after( index_keys.join( "\n" ) );
+        }
+        else
+        {
+          $( '.index', options_element )
+            .hide();
+        }
 
-                properties_element
-                    .show()
-                    .after( properties_keys.join( "\n" ) );
-            }
-            else
-            {
-                $( '.properties', options_element )
-                    .hide();
-            }
+        // -- docs
+        var docs_element = $( 'dt.docs', options_element );
+        if( is_f && schema_browser_data.fields[field] && schema_browser_data.fields[field].docs )
+        {
+          $( 'dd.docs', options_element )
+            .remove();
 
-            // -- schema
-            var schema_element = $( 'dt.schema', options_element );
-            if( is_f && schema_browser_data.fields[field] && schema_browser_data.fields[field].schema )
-            {
-                var schema_keys = keystring_to_list( schema_browser_data.fields[field].schema, 'schema' );
+          docs_element
+            .show()
+            .after( '<dd class="docs">' + schema_browser_data.fields[field].docs + '</dd>' );
+        }
+        else
+        {
+          $( '.docs', options_element )
+            .hide();
+        }
 
-                $( 'dd.schema', options_element )
-                    .remove();
+        // -- distinct 
+        var distinct_element = $( 'dt.distinct', options_element );
+        if( is_f && schema_browser_data.fields[field] && schema_browser_data.fields[field].distinct )
+        {
+          $( 'dd.distinct', options_element )
+            .remove();
 
-                schema_element
-                    .show()
-                    .after( schema_keys.join( "\n" ) );
-            }
-            else
-            {
-                $( '.schema', options_element )
-                    .hide();
-            }
+          distinct_element
+            .show()
+            .after( '<dd class="distinct">' + schema_browser_data.fields[field].distinct + '</dd>' );
+        }
+        else
+        {
+          $( '.distinct', options_element )
+            .hide();
+        }
 
-            // -- index
-            var index_element = $( 'dt.index', options_element );
-            if( is_f && schema_browser_data.fields[field] && schema_browser_data.fields[field].index )
-            {
-                var index_keys = [];
+        // -- position-increment-gap 
+        var pig_element = $( 'dt.position-increment-gap', options_element );
+        if( is_f && schema_browser_data.fields[field] && schema_browser_data.fields[field].positionIncrementGap )
+        {
+          $( 'dt.position-increment-gap', options_element )
+            .remove();
 
-                if( 0 === schema_browser_data.fields[field].index.indexOf( '(' ) )
+          pig_element
+            .show()
+            .after( '<dd class="position-increment-gap">' + schema_browser_data.fields[field].positionIncrementGap + '</dd>' );
+        }
+        else
+        {
+          $( '.position-increment-gap', options_element )
+            .hide();
+        }
+                
+        var analyzer_element = $( '.analyzer', data_element );
+        var analyzer_data = null;
+
+        if( is_f )
+        {
+          analyzer_data = schema_browser_data.types[schema_browser_data.relations.f_t[field]];
+        }
+        else if( is_df )
+        {
+          analyzer_data = schema_browser_data.types[schema_browser_data.relations.df_t[field]];
+        }
+        else if( is_t )
+        {
+          analyzer_data = schema_browser_data.types[field];
+        }
+
+        if( analyzer_data )
+        {
+          var transform_analyzer_data_into_list = function( analyzer_data )
+          {
+            var args = [];
+            for( var key in analyzer_data.args )
+            {
+              var arg_class = '';
+              var arg_content = '';
+
+              if( 'true' === analyzer_data.args[key] || '1' === analyzer_data.args[key] )
+              {
+                arg_class = 'ico-1';
+                arg_content = key;
+              }
+              else if( 'false' === analyzer_data.args[key] || '0' === analyzer_data.args[key] )
+              {
+                arg_class = 'ico-0';
+                arg_content = key;
+              }
+              else
+              {
+                arg_content = key + ': ';
+
+                if( 'synonyms' === key || 'words' === key )
                 {
-                    index_keys.push( '<dd class="index">' + schema_browser_data.fields[field].index + '</dd>' );
+                  // @TODO: set link target for file
+                  arg_content += '<a>' + analyzer_data.args[key] + '</a>';
                 }
                 else
                 {
-                    index_keys = keystring_to_list( schema_browser_data.fields[field].index, 'index' );
+                  arg_content += analyzer_data.args[key];
                 }
+              }
 
-                $( 'dd.index', options_element )
-                    .remove();
-
-                index_element
-                    .show()
-                    .after( index_keys.join( "\n" ) );
+              args.push( '<dd class="' + arg_class + '">' + arg_content + '</dd>' );
             }
-            else
+
+            var list_content = '<dt>' + analyzer_data.className + '</dt>';
+            if( 0 !== args.length )
             {
-                $( '.index', options_element )
-                    .hide();
+              args.sort();
+              list_content += args.join( "\n" );
             }
 
-            // -- docs
-            var docs_element = $( 'dt.docs', options_element );
-            if( is_f && schema_browser_data.fields[field] && schema_browser_data.fields[field].docs )
-            {
-                $( 'dd.docs', options_element )
-                    .remove();
+            return list_content;
+          }
 
-                docs_element
-                    .show()
-                    .after( '<dd class="docs">' + schema_browser_data.fields[field].docs + '</dd>' );
-            }
-            else
-            {
-                $( '.docs', options_element )
-                    .hide();
-            }
+          // -- field-type
+          var field_type_element = $( 'dt.field-type', options_element );
 
-            // -- distinct 
-            var distinct_element = $( 'dt.distinct', options_element );
-            if( is_f && schema_browser_data.fields[field] && schema_browser_data.fields[field].distinct )
-            {
-                $( 'dd.distinct', options_element )
-                    .remove();
+          $( 'dd.field-type', options_element )
+            .remove();
 
-                distinct_element
-                    .show()
-                    .after( '<dd class="distinct">' + schema_browser_data.fields[field].distinct + '</dd>' );
-            }
-            else
-            {
-                $( '.distinct', options_element )
-                    .hide();
-            }
+          field_type_element
+            .show()
+            .after( '<dd class="field-type">' + analyzer_data.className + '</dd>' );
 
-            // -- position-increment-gap 
-            var pig_element = $( 'dt.position-increment-gap', options_element );
-            if( is_f && schema_browser_data.fields[field] && schema_browser_data.fields[field].positionIncrementGap )
-            {
-                $( 'dt.position-increment-gap', options_element )
-                    .remove();
+          $( '.toggle', analyzer_element )
+            .die( 'click' )
+            .live
+            (
+              'click',
+              function( event )
+              {
+                $( this ).closest( 'li' )
+                  .toggleClass( 'open' );
+
+                return false;
+              }
+            );
 
-                pig_element
-                    .show()
-                    .after( '<dd class="position-increment-gap">' + schema_browser_data.fields[field].positionIncrementGap + '</dd>' );
-            }
-            else
+          for( var key in analyzer_data )
+          {
+            var key_match = key.match( /^(.+)Analyzer$/ );
+            if( !key_match )
             {
-                $( '.position-increment-gap', options_element )
-                    .hide();
+              continue;
             }
-            
-            var analyzer_element = $( '.analyzer', data_element );
-            var analyzer_data = null;
 
-            if( is_f )
-            {
-                analyzer_data = schema_browser_data.types[schema_browser_data.relations.f_t[field]];
-            }
-            else if( is_df )
-            {
-                analyzer_data = schema_browser_data.types[schema_browser_data.relations.df_t[field]];
-            }
-            else if( is_t )
-            {
-                analyzer_data = schema_browser_data.types[field];
-            }
+            var analyzer_key_element = $( '.' + key_match[1], analyzer_element );
+            var analyzer_key_data = analyzer_data[key];
 
-            if( analyzer_data )
-            {
-                var transform_analyzer_data_into_list = function( analyzer_data )
-                {
-                    var args = [];
-                    for( var key in analyzer_data.args )
-                    {
-                        var arg_class = '';
-                        var arg_content = '';
+            analyzer_element.show();
+            analyzer_key_element.show();
 
-                        if( 'true' === analyzer_data.args[key] || '1' === analyzer_data.args[key] )
-                        {
-                            arg_class = 'ico-1';
-                            arg_content = key;
-                        }
-                        else if( 'false' === analyzer_data.args[key] || '0' === analyzer_data.args[key] )
-                        {
-                            arg_class = 'ico-0';
-                            arg_content = key;
-                        }
-                        else
-                        {
-                            arg_content = key + ': ';
-
-                            if( 'synonyms' === key || 'words' === key )
-                            {
-                                // @TODO: set link target for file
-                                arg_content += '<a>' + analyzer_data.args[key] + '</a>';
-                            }
-                            else
-                            {
-                                arg_content += analyzer_data.args[key];
-                            }
-                        }
+            $( 'ul li', analyzer_key_element )
+            .removeClass( 'data' )
+            .hide();
 
-                        args.push( '<dd class="' + arg_class + '">' + arg_content + '</dd>' );
-                    }
+            for( var type in analyzer_key_data )
+            {
+              if( 'object' !== typeof analyzer_key_data[type] )
+              {
+                continue;
+              }
 
-                    var list_content = '<dt>' + analyzer_data.className + '</dt>';
-                    if( 0 !== args.length )
-                    {
-                        args.sort();
-                        list_content += args.join( "\n" );
-                    }
+              var type_element = $( '.' + type, analyzer_key_element );
+              var type_content = [];
+
+              type_element
+                .addClass( 'data' )
+                .show();
 
-                    return list_content;
+              if( analyzer_key_data[type].className )
+              {
+                type_content.push( transform_analyzer_data_into_list( analyzer_key_data[type] ) );
+              }
+              else
+              {
+                for( var entry in analyzer_key_data[type] )
+                {
+                  type_content.push( transform_analyzer_data_into_list( analyzer_key_data[type][entry] ) );
                 }
+              }
 
-                // -- field-type
-                var field_type_element = $( 'dt.field-type', options_element );
+              $( 'dl', type_element )
+                .empty()
+                .append( type_content.join( "\n" ) );
+            }
 
-                $( 'dd.field-type', options_element )
-                    .remove();
+            var name_element = $( 'dl:first dt a', analyzer_key_element );
+            if( analyzer_key_data.className )
+            {
+              name_element
+                .html( analyzer_key_data.className );
+            }
 
-                field_type_element
-                    .show()
-                    .after( '<dd class="field-type">' + analyzer_data.className + '</dd>' );
+            0 === $( 'ul li.data', analyzer_key_element ).size()
+            ? name_element.removeClass( 'toggle' )
+            : name_element.addClass( 'toggle' );
+          }
+        }
 
+        var terminfo_element = $( '.terminfo-holder', data_element );
 
-                for( var key in analyzer_data )
-                {
-                    var key_match = key.match( /^(.+)Analyzer$/ );
-                    if( !key_match )
-                    {
-                        continue;
-                    }
-
-                    var analyzer_key_element = $( '.' + key_match[1], analyzer_element );
-                    var analyzer_key_data = analyzer_data[key];
+        terminfo_element
+          .removeClass( 'disabled' )
+          .removeClass( 'loaded' );
 
-                    analyzer_element.show();
-                    analyzer_key_element.show();
+        var trigger_element = $( '.trigger button', terminfo_element );
+        var form_element = $( 'form', terminfo_element );
 
-                    if( analyzer_key_data.className )
-                    {
-                        $( 'dl:first dt', analyzer_key_element )
-                            .html( analyzer_key_data.className );
-                    }
+        trigger_element
+          .die( 'click' )
+          .live
+          (
+            'click',
+            function( event )
+            {
+              form_element
+                .trigger( 'submit' );
 
-                    $( 'ul li', analyzer_key_element )
-                        .hide();
+              return false;
+            }
+          );
+
+        form_element
+          .clearForm()
+          .die( 'submit' )
+          .live
+          (
+            'submit',
+            function( event )
+            {
+              load_terminfo( trigger_element, core_basepath, field, data_element, terminfo_element );
 
-                    for( var type in analyzer_key_data )
-                    {
-                        if( 'object' !== typeof analyzer_key_data[type] )
-                        {
-                            continue;
-                        }
+              terminfo_element
+                .addClass( 'loaded' );
 
-                        var type_element = $( '.' + type, analyzer_key_element );
-                        var type_content = [];
+              return false;
+            }
+          );
+
+        $( '.max-holder', terminfo_element )
+          .die( 'click' )
+          .live
+          (
+            'click',
+            function( event )
+            {
+              var element = $( this );
 
-                        type_element.show();
+              $( 'input', element.closest( 'form' ) )
+                .val( $( '.max', element ).text() );
 
-                        if( analyzer_key_data[type].className )
-                        {
-                            type_content.push( transform_analyzer_data_into_list( analyzer_key_data[type] ) );
-                        }
-                        else
-                        {
-                            for( var entry in analyzer_key_data[type] )
-                            {
-                                type_content.push( transform_analyzer_data_into_list( analyzer_key_data[type][entry] ) );
-                            }
-                        }
+              form_element
+                .trigger( 'submit' );
 
-                        $( 'dl', type_element )
-                            .empty()
-                            .append( type_content.join( "\n" ) );
-                    }
-                }
+              return false;
             }
+          );
+
+        $( '.trigger .autoload', terminfo_element )
+          .die( 'click' )
+          .live
+          (
+            'click',
+            function( event )
+            {
+              $.cookie( cookie_name, $.cookie( cookie_name ) ? null : true );
+              $( this ).trigger( 'state' );
 
-            var terminfo_element = $( '.terminfo-holder', data_element );
-
-            if( !is_f )
+              return false;
+            }
+          )
+          .die( 'state' )
+          .live
+          (
+            'state',
+            function( event )
             {
-                terminfo_element
-                    .hide();
+              $.cookie( cookie_name )
+                ? $( this ).addClass( 'on' )
+                : $( this ).removeClass( 'on' );
             }
-            else
+          )
+          .die( 'init' )
+          .live
+          (
+            'init',
+            function( event )
             {
-                terminfo_element
-                    .show();
-
-                var status_element = $( '.status', terminfo_element );
-                
-                $.ajax
-                (
-                    {
-                        url : core_basepath + '/admin/luke?numTerms=50&wt=json&fl=' + field,
-                        dataType : 'json',
-                        context : terminfo_element,
-                        beforeSend : function( xhr, settings )
-                        {
-                        },
-                        success : function( response, text_status, xhr )
-                        {
-                            status_element
-                                .hide();
-
-                            var field_data = response.fields[field];
-
-                            var topterms_holder_element = $( '.topterms-holder', data_element );
-                            var histogram_holder_element = $( '.histogram-holder', data_element );
-
-                            var luke_array_to_struct = function( array )
-                            {
-                                var struct = {
-                                    keys : [],
-                                    values : []
-                                };
-                                for( var i = 0; i < array.length; i += 2 )
-                                {
-                                    struct.keys.push( array[i] );
-                                    struct.values.push( array[i+1] );
-                                }
-                                return struct;
-                            }
-
-                            var luke_array_to_hash = function( array )
-                            {
-                                var hash = {};
-                                for( var i = 0; i < array.length; i += 2 )
-                                {
-                                    hash[ array[i] ] = array[i+1];
-                                }
-                                return hash;
-                            }
-
-                            if( !field_data.topTerms )
-                            {
-                                topterms_holder_element
-                                    .hide();
-                            }
-                            else
-                            {
-                                topterms_holder_element
-                                    .show();
-
-                                var topterms_table_element = $( 'table', topterms_holder_element );
-
-                                var topterms_navi_less = $( 'p.navi .less', topterms_holder_element );
-                                var topterms_navi_more = $( 'p.navi .more', topterms_holder_element );
-
-                                var topterms_count = luke_array_to_struct( field_data.topTerms ).keys.length; 
-                                var topterms_hash = luke_array_to_hash( field_data.topTerms );
-                                var topterms_content = '<tbody>';
-
-                                var i = 1;
-                                for( var term in topterms_hash )
-                                {
-                                    topterms_content += '<tr>' + "\n" +
-                                                        '<td class="position">' + i + '</td>' + "\n" + 
-                                                        '<td class="term">' + term + '</td>' + "\n" + 
-                                                        '<td class="frequency">' + topterms_hash[term] + '</td>' + "\n" + 
-                                                        '</tr>' + "\n";
-
-                                    if( i !== topterms_count && 0 === i % 10 )
-                                    {
-                                        topterms_content += '</tbody><tbody>';
-                                    }
-
-                                    i++;
-                                }
-
-                                topterms_content += '</tbody>';
-
-                                topterms_table_element
-                                    .empty()
-                                    .append( topterms_content );
-                                
-                                $( 'tbody', topterms_table_element )
-                                    .die( 'change' )
-                                    .live
-                                    (
-                                        'change',
-                                        function()
-                                        {
-                                            var blocks = $( 'tbody', topterms_table_element );
-                                            var visible_blocks = blocks.filter( ':visible' );
-                                            var hidden_blocks = blocks.filter( ':hidden' );
-
-                                            $( 'p.head .shown', topterms_holder_element )
-                                                .html( $( 'tr', visible_blocks ).size() );
-
-                                            0 < hidden_blocks.size()
-                                                ? topterms_navi_more.show()
-                                                : topterms_navi_more.hide();
-
-                                            1 < visible_blocks.size()
-                                                ? topterms_navi_less.show()
-                                                : topterms_navi_less.hide();
-                                        }
-                                    );
-
-                                $( 'tbody tr:odd', topterms_table_element )
-                                    .addClass( 'odd' );
-
-                                $( 'tbody:first', topterms_table_element )
-                                    .show()
-                                    .trigger( 'change' );
-
-                                $( 'p.head .max', topterms_holder_element )
-                                    .html( field_data.distinct );
-
-                                topterms_navi_less
-                                    .die( 'click' )
-                                    .live
-                                    (
-                                        'click',
-                                        function( event )
-                                        {
-                                            $( 'tbody:visible', topterms_table_element ).last()
-                                                .hide()
-                                                .trigger( 'change' );
-                                        }
-                                    );
-
-                                topterms_navi_more
-                                    .die( 'click' )
-                                    .live
-                                    (
-                                        'click',
-                                        function( event )
-                                        {
-                                            $( 'tbody:hidden', topterms_table_element ).first()
-                                                .show()
-                                                .trigger( 'change' );
-                                        }
-                                    );
-                            }
-
-                            if( !field_data.histogram )
-                            {
-                                histogram_holder_element
-                                    .hide();
-                            }
-                            else
-                            {
-                                histogram_holder_element
-                                    .show();
-
-                                var histogram_element = $( '.histogram', histogram_holder_element );
-
-                                var histogram_values = luke_array_to_hash( field_data.histogram );
-                                var histogram_legend = '';
-
-                                histogram_holder_element
-                                    .show();
-
-                                for( var key in histogram_values )
-                                {
-                                    histogram_legend += '<dt><span>' + key + '</span></dt>' + "\n" +
-                                                        '<dd title="' + key + '">' +
-                                                        '<span>' + histogram_values[key] + '</span>' +
-                                                        '</dd>' + "\n";
-                                }
-
-                                $( 'dl', histogram_holder_element )
-                                    .html( histogram_legend );
-
-                                histogram_element
-                                    .sparkline
-                                    (
-                                        luke_array_to_struct( field_data.histogram ).values,
-                                        {
-                                            type : 'bar',
-                                            barColor : '#c0c0c0',
-                                            zeroColor : '#ffffff',
-                                            height : histogram_element.height(),
-                                            barWidth : 46,
-                                            barSpacing : 3
-                                        }
-                                    );
-                            }
-
-                        },
-                        error : function( xhr, text_status, error_thrown)
-                        {
-                        },
-                        complete : function( xhr, text_status )
-                        {
-                        }
-                    }
-                );
+              if( !$.cookie( cookie_name ) )
+              {
+                return false;
+              }
 
+              $( this ).trigger( 'state' );
+              trigger_element.trigger( 'click' );
             }
+          )
+          .trigger( 'init' );
+
+        $( 'div[class$="-holder"]', terminfo_element )
+          .hide();
+
+        if( !is_f )
+        {
+          terminfo_element
+            .hide();
+        }
+        else
+        {
+          terminfo_element
+            .show();
         }
+      }
+    }
+    else
+    {
+      trigger_params.callback = function( schema_browser_data, data_element )
+      {
+        data_element
+          .hide();
+      };
 
-        sammy.trigger
-        (
-            'schema_browser_load',
-            {
-                callback : callback,
-                active_core : this.active_core,
-                route_params : this.params
-            }
-        );
+      delete app.schema_browser_data;
     }
+
+    sammy.trigger
+    (
+      'schema_browser_load',
+      trigger_params
+    );
+  }
 );
\ No newline at end of file
diff --git a/solr/webapp/web/js/scripts/threads.js b/solr/webapp/web/js/scripts/threads.js
index 0b5feec..e94ca01 100644
--- a/solr/webapp/web/js/scripts/threads.js
+++ b/solr/webapp/web/js/scripts/threads.js
@@ -1,144 +1,159 @@
+/*
+ Licensed to the Apache Software Foundation (ASF) under one or more
+ contributor license agreements.  See the NOTICE file distributed with
+ this work for additional information regarding copyright ownership.
+ The ASF licenses this file to You under the Apache License, Version 2.0
+ (the "License"); you may not use this file except in compliance with
+ the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+*/
+
 // #/threads
 sammy.get
 (
-    /^#\/(threads)$/,
-    function( context )
-    {
-        var core_basepath = $( 'li[data-basepath]', app.menu_element ).attr( 'data-basepath' );
-        var content_element = $( '#content' );
-
-        $.get
+  /^#\/(threads)$/,
+  function( context )
+  {
+    var core_basepath = $( 'li[data-basepath]', app.menu_element ).attr( 'data-basepath' );
+    var content_element = $( '#content' );
+
+    $.get
+    (
+      'tpl/threads.html',
+      function( template )
+      {
+        content_element
+          .html( template );
+
+        $.ajax
         (
-            'tpl/threads.html',
-            function( template )
+          {
+            url : core_basepath + '/admin/threads?wt=json',
+            dataType : 'json',
+            context : $( '#threads', content_element ),
+            beforeSend : function( xhr, settings )
             {
-                content_element
-                    .html( template );
-
-                $.ajax
-                (
-                    {
-                        url : core_basepath + '/admin/threads?wt=json',
-                        dataType : 'json',
-                        context : $( '#threads', content_element ),
-                        beforeSend : function( xhr, settings )
-                        {
-                        },
-                        success : function( response, text_status, xhr )
-                        {
-                            var self = this;
-
-                            var threadDumpData = response.system.threadDump;
-                            var threadDumpContent = [];
-                            var c = 0;
-                            for( var i = 1; i < threadDumpData.length; i += 2 )
-                            {
-                                var state = threadDumpData[i].state.esc();
-                                var name = '<a title="' + state +'"><span>' + threadDumpData[i].name.esc() + ' (' + threadDumpData[i].id.esc() + ')</span></a>';
-
-                                var classes = [state];
-                                var details = '';
-
-                                if( 0 !== c % 2 )
-                                {
-                                    classes.push( 'odd' );
-                                }
-
-                                if( threadDumpData[i].lock )
-                                {
-                                    classes.push( 'lock' );
-                                    name += "\n" + '<p title="Waiting on">' + threadDumpData[i].lock.esc() + '</p>';
-                                }
-
-                                if( threadDumpData[i].stackTrace && 0 !== threadDumpData[i].stackTrace.length )
-                                {
-                                    classes.push( 'stacktrace' );
-
-                                    var stack_trace = threadDumpData[i].stackTrace
-                                                        .join( '###' )
-                                                        .esc()
-                                                        .replace( /\(/g, '&#8203;(' )
-                                                        .replace( /###/g, '</li><li>' );
-
-                                    name += '<div>' + "\n"
-                                            + '<ul>' + "\n"
-                                            + '<li>' + stack_trace + '</li>'
-                                            + '</ul>' + "\n"
-                                            + '</div>';
-                                }
-
-                                var item = '<tr class="' + classes.join( ' ' ) +'">' + "\n"
-
-                                         + '<td class="name">' + name + '</td>' + "\n"
-                                         + '<td class="time">' + threadDumpData[i].cpuTime.esc() + '<br>' + threadDumpData[i].userTime.esc() + '</td>' + "\n"
-
-                                         + '</tr>';
+            },
+            success : function( response, text_status, xhr )
+            {
+              var self = this;
+
+              var threadDumpData = response.system.threadDump;
+              var threadDumpContent = [];
+              var c = 0;
+              for( var i = 1; i < threadDumpData.length; i += 2 )
+              {
+                var state = threadDumpData[i].state.esc();
+                var name = '<a title="' + state +'"><span>' + threadDumpData[i].name.esc() + ' (' + threadDumpData[i].id.esc() + ')</span></a>';
+
+                var classes = [state];
+                var details = '';
+
+                if( 0 !== c % 2 )
+                {
+                  classes.push( 'odd' );
+                }
+
+                if( threadDumpData[i].lock )
+                {
+                  classes.push( 'lock' );
+                  name += "\n" + '<p title="Waiting on">' + threadDumpData[i].lock.esc() + '</p>';
+                }
+
+                if( threadDumpData[i].stackTrace && 0 !== threadDumpData[i].stackTrace.length )
+                {
+                  classes.push( 'stacktrace' );
+
+                  var stack_trace = threadDumpData[i].stackTrace
+                            .join( '###' )
+                            .esc()
+                            .replace( /\(/g, '&#8203;(' )
+                            .replace( /###/g, '</li><li>' );
+
+                  name += '<div>' + "\n"
+                       + '<ul>' + "\n"
+                       + '<li>' + stack_trace + '</li>'
+                       + '</ul>' + "\n"
+                       + '</div>';
+                }
+
+                var item = '<tr class="' + classes.join( ' ' ) +'">' + "\n"
+                         + '<td class="name">' + name + '</td>' + "\n"
+                         + '<td class="time">' + threadDumpData[i].cpuTime.esc() + '<br>' + threadDumpData[i].userTime.esc() + '</td>' + "\n"
+                         + '</tr>';
                                 
-                                threadDumpContent.push( item );
-                                c++;
-                            }
+                threadDumpContent.push( item );
+                c++;
+              }
 
-                            var threadDumpBody = $( '#thread-dump tbody', this );
+              var threadDumpBody = $( '#thread-dump tbody', this );
 
-                            threadDumpBody
-                                .html( threadDumpContent.join( "\n" ) );
+              threadDumpBody
+                .html( threadDumpContent.join( "\n" ) );
                             
-                            $( '.name a', threadDumpBody )
-                                .die( 'click' )
-                                .live
-                                (
-                                    'click',
-                                    function( event )
-                                    {
-                                        $( this ).closest( 'tr' )
-                                            .toggleClass( 'open' );
-                                    }
-                                );
+              $( '.name a', threadDumpBody )
+                .die( 'click' )
+                .live
+                (
+                  'click',
+                  function( event )
+                  {
+                    $( this ).closest( 'tr' )
+                      .toggleClass( 'open' );
+                  }
+                );
                             
-                            $( '.controls a', this )
-                                .die( 'click' )
-                                .live
-                                (
-                                    'click',
-                                    function( event )
-                                    {
-                                        var threads_element = $( self );
-                                        var is_collapsed = threads_element.hasClass( 'collapsed' );
-                                        var thread_rows = $( 'tr', threads_element );
-
-                                        thread_rows
-                                            .each
-                                            (
-                                                function( index, element )
-                                                {
-                                                    if( is_collapsed )
-                                                    {
-                                                        $( element )
-                                                            .addClass( 'open' );
-                                                    }
-                                                    else
-                                                    {
-                                                        $( element )
-                                                            .removeClass( 'open' );
-                                                    }
-                                                }
-                                            );
-
-                                        threads_element
-                                            .toggleClass( 'collapsed' )
-                                            .toggleClass( 'expanded' );
-                                    }
-                                );
-                        },
-                        error : function( xhr, text_status, error_thrown)
-                        {
-                        },
-                        complete : function( xhr, text_status )
+              $( '.controls a', this )
+                .die( 'click' )
+                .live
+                (
+                  'click',
+                  function( event )
+                  {
+                    var threads_element = $( self );
+                    var is_collapsed = threads_element.hasClass( 'collapsed' );
+                    var thread_rows = $( 'tr', threads_element );
+
+                    thread_rows
+                      .each
+                      (
+                        function( index, element )
                         {
+                          if( is_collapsed )
+                          {
+                            $( element )
+                              .addClass( 'open' );
+                          }
+                          else
+                          {
+                            $( element )
+                              .removeClass( 'open' );
+                          }
                         }
-                    }
+                      );
+
+                    threads_element
+                      .toggleClass( 'collapsed' )
+                      .toggleClass( 'expanded' );
+                  }
                 );
+            },
+            error : function( xhr, text_status, error_thrown)
+            {
+            },
+            complete : function( xhr, text_status )
+            {
             }
+          }
         );
-    }
+      }
+    );
+  }
 );
\ No newline at end of file
diff --git a/solr/webapp/web/logging.json b/solr/webapp/web/logging.json
deleted file mode 100644
index eccaf3f..0000000
--- a/solr/webapp/web/logging.json
+++ /dev/null
@@ -1,113 +0,0 @@
-{
-	"levels" : ["FINEST", "FINE", "CONFIG", "INFO", "WARNING", "SEVERE"],
-	"logger" : {
-		"root" : {
-			"level": { "effective_level" : "INFO" },
-			"effective_level" : "INFO"
-		},
-		"global" : { "effective_level" : "INFO" },
-		"javax" : null,
-		"javax.management" : { "effective_level" : "INFO" },
-		"javax.management.mbeanserver" : { "effective_level" : "INFO" },
-		"javax.management.misc" : { "effective_level" : "INFO" },
-		"javax.management.mlet" : { "effective_level" : "INFO" },
-		"javax.management.modelmbean" : { "effective_level" : "INFO" },
-		"javax.management.monitor" : { "effective_level" : "INFO" },
-		"javax.management.notification" : { "effective_level" : "INFO" },
-		"javax.management.relation" : { "effective_level" : "INFO" },
-		"javax.management.snmp" : { "effective_level" : "INFO" },
-		"javax.management.snmp.daemon" : { "effective_level" : "INFO" },
-		"javax.management.timer" : { "effective_level" : "INFO" },
-		"org" : null,
-		"org.apache" : null,
-		"org.apache.solr" : null,
-		"org.apache.solr.analysis" : null,
-		"org.apache.solr.analysis.BaseTokenFilterFactory" : { "effective_level" : "INFO" },
-		"org.apache.solr.analysis.BaseTokenStreamFactory" : { "effective_level" : "INFO" },
-		"org.apache.solr.analysis.BaseTokenizerFactory" : { "effective_level" : "INFO" },
-		"org.apache.solr.cloud" : null,
-		"org.apache.solr.cloud.SolrZkServer" : { "effective_level" : "INFO" },
-		"org.apache.solr.cloud.ZkController" : { "effective_level" : "INFO" },
-		"org.apache.solr.common" : null,
-		"org.apache.solr.common.cloud" : null,
-		"org.apache.solr.common.cloud.CloudState" : { "effective_level" : "INFO" },
-		"org.apache.solr.common.cloud.ConnectionManager" : { "effective_level" : "INFO" },
-		"org.apache.solr.common.cloud.DefaultConnectionStrategy" : { "effective_level" : "INFO" },
-		"org.apache.solr.common.cloud.SolrZkClient" : { "effective_level" : "INFO" },
-		"org.apache.solr.common.cloud.ZkStateReader" : { "effective_level" : "INFO" },
-		"org.apache.solr.common.util" : null,
-		"org.apache.solr.common.util.ConcurrentLRUCache" : { "effective_level" : "INFO" },
-		"org.apache.solr.common.util.SystemIdResolver" : { "effective_level" : "INFO" },
-		"org.apache.solr.core" : null,
-		"org.apache.solr.core.Config" : { "effective_level" : "INFO" },
-		"org.apache.solr.core.CoreContainer" : { "effective_level" : "INFO" },
-		"org.apache.solr.core.JmxMonitoredMap" : { "effective_level" : "INFO" },
-		"org.apache.solr.core.RequestHandlers" : { "effective_level" : "INFO" },
-		"org.apache.solr.core.SolrConfig" : { "effective_level" : "INFO" },
-		"org.apache.solr.core.SolrCore" : { "effective_level" : "INFO" },
-		"org.apache.solr.core.SolrResourceLoader" : { "effective_level" : "INFO" },
-		"org.apache.solr.handler" : null,
-		"org.apache.solr.handler.XmlUpdateRequestHandler" : { "effective_level" : "INFO" },
-		"org.apache.solr.handler.admin" : null,
-		"org.apache.solr.handler.admin.LukeRequestHandler" : { "effective_level" : "INFO" },
-		"org.apache.solr.handler.admin.SystemInfoHandler" : { "effective_level" : "INFO" },
-		"org.apache.solr.handler.component" : null,
-		"org.apache.solr.handler.component.QueryElevationComponent" : { "effective_level" : "INFO" },
-		"org.apache.solr.handler.component.SearchHandler" : { "effective_level" : "INFO" },
-		"org.apache.solr.handler.component.SpellCheckComponent" : { "effective_level" : "INFO" },
-		"org.apache.solr.highlight" : null,
-		"org.apache.solr.highlight.DefaultSolrHighlighter" : { "effective_level" : "INFO" },
-		"org.apache.solr.highlight.SolrHighlighter" : { "effective_level" : "INFO" },
-		"org.apache.solr.response" : null,
-		"org.apache.solr.response.BinaryResponseWriter" : { "effective_level" : "INFO" },
-		"org.apache.solr.response.XSLTResponseWriter" : { "effective_level" : "INFO" },
-		"org.apache.solr.schema" : null,
-		"org.apache.solr.schema.FieldType" : { "effective_level" : "INFO" },
-		"org.apache.solr.schema.IndexSchema" : { "effective_level" : "INFO" },
-		"org.apache.solr.search" : null,
-		"org.apache.solr.search.SolrIndexSearcher" : { "effective_level" : "INFO" },
-		"org.apache.solr.servlet" : null,
-		"org.apache.solr.servlet.NewLogLevelSelection" : { "effective_level" : "INFO" },
-		"org.apache.solr.servlet.SolrDispatchFilter" : { "effective_level" : "INFO" },
-		"org.apache.solr.servlet.SolrRequestParsers" : { "effective_level" : "INFO" },
-		"org.apache.solr.spelling" : null,
-		"org.apache.solr.spelling.AbstractLuceneSpellChecker" : { "effective_level" : "INFO" },
-		"org.apache.solr.spelling.IndexBasedSpellChecker" : { "effective_level" : "INFO" },
-		"org.apache.solr.update" : null,
-		"org.apache.solr.update.SolrIndexConfig" : { "effective_level" : "INFO" },
-		"org.apache.solr.update.UpdateHandler" : { "effective_level" : "INFO" },
-		"org.apache.solr.util" : null,
-		"org.apache.solr.util.plugin" : null,
-		"org.apache.solr.util.plugin.AbstractPluginLoader" : { "effective_level" : "INFO" },
-		"org.apache.zookeeper" : null,
-		"org.apache.zookeeper.ClientCnxn" : { "effective_level" : "INFO" },
-		"org.apache.zookeeper.CreateMode" : { "effective_level" : "INFO" },
-		"org.apache.zookeeper.ZooKeeper" : { "effective_level" : "INFO" },
-		"org.apache.zookeeper.common" : null,
-		"org.apache.zookeeper.common.PathTrie" : { "effective_level" : "INFO" },
-		"org.apache.zookeeper.jmx" : null,
-		"org.apache.zookeeper.jmx.MBeanRegistry" : { "effective_level" : "INFO" },
-		"org.apache.zookeeper.server" : null,
-		"org.apache.zookeeper.server.ConnectionBean" : { "effective_level" : "INFO" },
-		"org.apache.zookeeper.server.DataTree" : { "effective_level" : "INFO" },
-		"org.apache.zookeeper.server.FinalRequestProcessor" : { "effective_level" : "INFO" },
-		"org.apache.zookeeper.server.NIOServerCnxn" : { "effective_level" : "INFO" },
-		"org.apache.zookeeper.server.PrepRequestProcessor" : { "effective_level" : "INFO" },
-		"org.apache.zookeeper.server.Request" : { "effective_level" : "INFO" },
-		"org.apache.zookeeper.server.SessionTrackerImpl" : { "effective_level" : "INFO" },
-		"org.apache.zookeeper.server.SyncRequestProcessor" : { "effective_level" : "INFO" },
-		"org.apache.zookeeper.server.WatchManager" : { "effective_level" : "INFO" },
-		"org.apache.zookeeper.server.ZKDatabase" : { "effective_level" : "INFO" },
-		"org.apache.zookeeper.server.ZooKeeperServer" : { "effective_level" : "INFO" },
-		"org.apache.zookeeper.server.ZooKeeperServerMain" : { "effective_level" : "INFO" },
-		"org.apache.zookeeper.server.persistence" : null,
-		"org.apache.zookeeper.server.persistence.FileSnap" : { "effective_level" : "INFO" },
-		"org.apache.zookeeper.server.persistence.FileTxnLog" : { "effective_level" : "INFO" },
-		"org.apache.zookeeper.server.persistence.FileTxnSnapLog" : { "effective_level" : "INFO" },
-		"org.apache.zookeeper.server.persistence.Util" : { "effective_level" : "INFO" },
-		"org.apache.zookeeper.server.quorum" : null,
-		"org.apache.zookeeper.server.quorum.QuorumPeerConfig" : { "effective_level" : "INFO" },
-		"org.apache.zookeeper.server.util" : null,
-		"org.apache.zookeeper.server.util.SerializeUtils" : { "effective_level" : "INFO" }
-	}
-}
\ No newline at end of file
diff --git a/solr/webapp/web/tpl/analysis.html b/solr/webapp/web/tpl/analysis.html
index f31d1f5..e3c9708 100644
--- a/solr/webapp/web/tpl/analysis.html
+++ b/solr/webapp/web/tpl/analysis.html
@@ -16,68 +16,68 @@ limitations under the License.
 -->
 <div id="analysis">
 
-    <div class="block analysis-error" id="analysis-handler-missing">
+  <div class="block analysis-error" id="analysis-handler-missing">
 
-        <div class="head">This Functionality requires the <code>/analysis/field</code> Handler to be registered and active!</div>
+    <div class="head">This Functionality requires the <code>/analysis/field</code> Handler to be registered and active!</div>
 
-    </div>
+  </div>
 
-    <div class="block analysis-error" id="analysis-error">
+  <div class="block analysis-error" id="analysis-error">
 
-        <div class="head"><a><span></span></a></div>
-        <div class="body"></div>
+    <div class="head"><a><span></span></a></div>
+    <div class="body"></div>
 
-    </div>
+  </div>
 
-    <div id="analysis-holder">
+  <div id="analysis-holder">
 
-        <div id="field-analysis">
+    <div id="field-analysis">
               
-            <form method="get">
+      <form method="get">
                 
-                <ul class="clearfix">
+        <ul class="clearfix">
                     
-                    <li class="index">
+          <li class="index">
                         
-                        <label for="analysis_fieldvalue_index">Field Value (Index)</label>
-                        <textarea name="analysis.fieldvalue" id="analysis_fieldvalue_index"></textarea>
+            <label for="analysis_fieldvalue_index">Field Value (Index)</label>
+            <textarea name="analysis.fieldvalue" id="analysis_fieldvalue_index"></textarea>
                         
-                    </li>
+          </li>
                     
-                    <li class="query">
+          <li class="query">
                         
-                        <label for="analysis_fieldvalue_query">Field Value (Query)</label>
-                        <textarea name="analysis.query" id="analysis_fieldvalue_query"></textarea>
+            <label for="analysis_fieldvalue_query">Field Value (Query)</label>
+            <textarea name="analysis.query" id="analysis_fieldvalue_query"></textarea>
                         
-                    </li>
+          </li>
 
-                    <li class="settings-holder clearfix">
-                        <div class="settings">
+          <li class="settings-holder clearfix">
+            <div class="settings">
 
-                            <label for="type_or_name">Analyse Fieldname / FieldType:</label>
-                            <select id="type_or_name"></select>
+              <label for="type_or_name">Analyse Fieldname / FieldType:</label>
+              <select id="type_or_name"></select>
 
-                            <div>
+              <div>
 
-                                <button type="submit">Analyse Values</button>
+                <button type="submit">Analyse Values</button>
 
-                                <div class="verbose_output active">
-                                    <a>Verbose Output</a>
-                                </div>
+                <div class="verbose_output active">
+                  <a>Verbose Output</a>
+                </div>
 
-                            </div>
+              </div>
 
-                        </div>
-                    </li>
+            </div>
+          </li>
                     
-                </ul>
+        </ul>
                 
-            </form>
+      </form>
             
-        </div>
+    </div>
         
-        <div id="analysis-result" class="clearfix verbose_output"></div>
+    <div id="analysis-result" class="clearfix verbose_output"></div>
 
-    </div>
+  </div>
 
 </div>
\ No newline at end of file
diff --git a/solr/webapp/web/tpl/cloud.html b/solr/webapp/web/tpl/cloud.html
index 32d53cb..ef8e1ec 100644
--- a/solr/webapp/web/tpl/cloud.html
+++ b/solr/webapp/web/tpl/cloud.html
@@ -16,32 +16,39 @@ limitations under the License.
 -->
 <div id="cloud">
 
-	<div class="block">
+  <div class="block">
 
-	    <h2><span>Zookeeper-Data</span></h2>
-	    
-	    <div class="message-container">
-	        <div class="message"></div>
-	    </div>
+      <h2><span>Zookeeper-Data</span></h2>
+      
+      <div class="message-container">
+          <div class="message"></div>
+      </div>
 
-	    <div class="content clearfix">
+      <div class="content clearfix">
+  <div id="tree" class="tree">#tree</div>
+  <div id="file-content" class="clearfix">
 
-			<div id="tree" class="tree">#tree</div>
+  <div id="prop">
+          <ul></ul>
+  </div>
 
-			<div id="file-content" class="clearfix">
+  <div id="data"></div>
 
-				<div id="prop">
-					<ul></ul>
-				</div>
+  <a class="close"><span>[x]</span></a>
+  </div>
 
-				<div id="data"></div>
-
-				<a class="close"><span>[x]</span></a>
-
-			</div>
-
-	    </div>
+      </div>
 
+      <a class="debug"><span>Generate Dump</span></a>
+      <div id="debug">
+        <ul class="clearfix">
+          <li class="clipboard"><a href="#" data-copied="Copied to Clipboard!">Copy to Clipboard (BUGGY!)</a></li>
+          <li class="close"><a href="#">Close</a></li>
+        </ul>
+        <pre class="debug"></pre>
+        
     </div>
 
+  </div>
+
 </div>
\ No newline at end of file
diff --git a/solr/webapp/web/tpl/cores.html b/solr/webapp/web/tpl/cores.html
index c1a2bc6..89aefd6 100644
--- a/solr/webapp/web/tpl/cores.html
+++ b/solr/webapp/web/tpl/cores.html
@@ -16,225 +16,225 @@ limitations under the License.
 -->
 <div id="cores" class="clearfix">
 
-	<div id="frame">
-
-		<div id="actions" class="actions clearfix">
-			
-			<div class="button-holder">
-				<div class="button">
-					<a class="reload">Reload</a>
-				</div>
-			</div>
-			
-			<div class="button-holder options rename">
-				<div class="button">
-					<a class="rename">Rename</a>
-				</div>
-				<div class="button-content">
-
-					<form>
-
-						<input type="hidden" name="action" value="RENAME">
-
-						<p class="clearfix"><label for="rename_core">from:</label>
-						<input type="text" name="core" id="rename_core" readonly="readonly"></p>
-
-						<p class="clearfix"><label for="rename_other">to:</label>
-						<input type="text" name="other" id="rename_other"></p>
-
-						<p class="clearfix buttons">
-							<a class="submit"><span>Rename</span></a>
-							<a class="reset"><span>Cancel</span></a>
-						</p>
-
-					</form>
-
-				</div>
-			</div>
-			
-			<div class="button-holder options swap">
-				<div class="button">
-					<a class="swap">Swap</a>
-				</div>
-				<div class="button-content">
-
-					<form>
-
-						<input type="hidden" name="action" value="SWAP">
-						<input type="hidden" name="core">
-
-						<p class="clearfix"><label for="swap_core">this:</label>
-						<select id="swap_core" class="core" disabled="disabled">
-						</select></p>
-
-						<p class="clearfix"><label for="swap_other">and:</label>
-						<select name="other" id="swap_other" class="other">
-						</select></p>
-
-						<p class="clearfix buttons">
-							<a class="submit"><span>Swap</span></a>
-							<a class="reset"><span>Cancel</span></a>
-						</p>
-
-					</form>
-				
-				</div>
-			</div>
-			
-			<div class="button-holder">
-				<div class="button">
-					<a class="unload">Unload</a>
-				</div>
-			</div>
-			
-			<div class="button-holder">
-				<div class="button">
-					<a class="optimize">Optimize</a>
-				</div>
-			</div>
-
-		</div>
-
-		<div id="data">
-
-			<div class="block" id="core-data">
-
-			    <h2><span></span></h2>
-			    
-			    <div class="message-container">
-			        <div class="message"></div>
-			    </div>
-
-			    <div class="content">
-
-					<ul>
-
-						<li class="startTime"><dl class="clearfix">
-							<dt><span>startTime:</span></dt>
-								<dd class="timeago"></dd>
-						</dl></li>
-
-						<li class="instanceDir"><dl class="clearfix">
-							<dt><span>instanceDir:</span></dt>
-								<dd></dd>
-						</dl></li>
-
-						<li class="dataDir"><dl class="clearfix">
-							<dt><span>dataDir:</span></dt>
-								<dd></dd>
-						</dl></li>
-				
-					</ul>
-				
-				</div>
-			</div>
-
-			<div class="block" id="index-data">
-
-			    <h2><span>Index</span></h2>
-			    
-			    <div class="message-container">
-			        <div class="message"></div>
-			    </div>
-
-			    <div class="content">
-			    
-					<ul>
-
-						<li class="lastModified"><dl class="clearfix">
-							<dt><span>lastModified:</span></dt>
-								<dd class="timeago"></dd>
-						</dl></li>
-
-						<li class="version"><dl class="clearfix">
-							<dt><span>version:</span></dt>
-								<dd></dd>
-						</dl></li>
-
-						<li class="numDocs"><dl class="clearfix">
-							<dt><span>numDocs:</span></dt>
-								<dd></dd>
-						</dl></li>
-
-						<li class="maxDoc"><dl class="clearfix">
-							<dt><span>maxDoc:</span></dt>
-								<dd></dd>
-						</dl></li>
-
-						<li class="optimized"><dl class="clearfix">
-							<dt><span>optimized:</span></dt>
-								<dd class="ico"><span></span></dd>
-						</dl></li>
-
-						<li class="current"><dl class="clearfix">
-							<dt><span>current:</span></dt>
-								<dd class="ico"><span></span></dd>
-						</dl></li>
-
-						<li class="hasDeletions"><dl class="clearfix">
-							<dt><span>hasDeletions:</span></dt>
-								<dd class="ico"><span></span></dd>
-						</dl></li>
-
-						<li class="directory"><dl class="clearfix">
-							<dt><span>directory:</span></dt>
-								<dd></dd>
-						</dl></li>
-					
-					</ul>
-				
-				</div>
-			</div>
-
-		</div>
-	
-	</div>
-
-	<div id="navigation" class="clearfix">
-
-		<div class="actions">
-			
-			<div class="button-holder options add">
-				<div class="button">
-					<a class="add">Add Core</a>
-				</div>
-				<div class="button-content">
-
-					<form>
-
-						<input type="hidden" name="action" value="CREATE">
-
-						<p class="clearfix"><label for="add_name">name:</label>
-						<input type="text" name="name" id="add_name"></p>
-
-						<p class="clearfix"><label for="add_instanceDir">instanceDir:</label>
-						<input type="text" name="instanceDir" id="add_instanceDir"></p>
-
-						<p class="clearfix"><label for="add_config">config:</label>
-						<input type="text" name="config" id="add_config"></p>
-
-						<p class="clearfix"><label for="add_schema">schema:</label>
-						<input type="text" name="schema" id="add_schema"></p>
-
-						<p class="clearfix"><label for="add_dataDir">dataDir:</label>
-						<input type="text" name="dataDir" id="dataDir"></p>
-
-						<p class="clearfix buttons">
-							<a class="submit"><span>Add Core</span></a>
-							<a class="reset"><span>Cancel</span></a>
-						</p>
-
-					</form>
-
-				</div>
-			</div>
-		
-		</div>
-
-		<div id="list">
-
-		</div>
-	
-	</div>
+  <div id="frame">
+
+    <div id="actions" class="actions clearfix">
+      
+      <div class="button-holder">
+        <div class="button">
+          <a class="reload">Reload</a>
+        </div>
+      </div>
+      
+      <div class="button-holder options rename">
+        <div class="button">
+          <a class="rename">Rename</a>
+        </div>
+        <div class="button-content">
+
+          <form>
+
+            <input type="hidden" name="action" value="RENAME">
+
+            <p class="clearfix"><label for="rename_core">from:</label>
+            <input type="text" name="core" id="rename_core" readonly="readonly"></p>
+
+            <p class="clearfix"><label for="rename_other">to:</label>
+            <input type="text" name="other" id="rename_other"></p>
+
+            <p class="clearfix buttons">
+              <a class="submit"><span>Rename</span></a>
+              <a class="reset"><span>Cancel</span></a>
+            </p>
+
+          </form>
+
+        </div>
+      </div>
+      
+      <div class="button-holder options swap">
+        <div class="button">
+          <a class="swap">Swap</a>
+        </div>
+        <div class="button-content">
+
+          <form>
+
+            <input type="hidden" name="action" value="SWAP">
+            <input type="hidden" name="core">
+
+            <p class="clearfix"><label for="swap_core">this:</label>
+            <select id="swap_core" class="core" disabled="disabled">
+            </select></p>
+
+            <p class="clearfix"><label for="swap_other">and:</label>
+            <select name="other" id="swap_other" class="other">
+            </select></p>
+
+            <p class="clearfix buttons">
+              <a class="submit"><span>Swap</span></a>
+              <a class="reset"><span>Cancel</span></a>
+            </p>
+
+          </form>
+        
+        </div>
+      </div>
+      
+      <div class="button-holder">
+        <div class="button">
+          <a class="unload">Unload</a>
+        </div>
+      </div>
+      
+      <div class="button-holder">
+        <div class="button">
+          <a class="optimize">Optimize</a>
+        </div>
+      </div>
+
+    </div>
+
+    <div id="data">
+
+      <div class="block" id="core-data">
+
+          <h2><span></span></h2>
+          
+          <div class="message-container">
+              <div class="message"></div>
+          </div>
+
+          <div class="content">
+
+          <ul>
+
+            <li class="startTime"><dl class="clearfix">
+              <dt><span>startTime:</span></dt>
+                <dd class="timeago"></dd>
+            </dl></li>
+
+            <li class="instanceDir"><dl class="clearfix">
+              <dt><span>instanceDir:</span></dt>
+                <dd></dd>
+            </dl></li>
+
+            <li class="dataDir"><dl class="clearfix">
+              <dt><span>dataDir:</span></dt>
+                <dd></dd>
+            </dl></li>
+        
+          </ul>
+        
+        </div>
+      </div>
+
+      <div class="block" id="index-data">
+
+          <h2><span>Index</span></h2>
+          
+          <div class="message-container">
+              <div class="message"></div>
+          </div>
+
+          <div class="content">
+          
+          <ul>
+
+            <li class="lastModified"><dl class="clearfix">
+              <dt><span>lastModified:</span></dt>
+                <dd class="timeago"></dd>
+            </dl></li>
+
+            <li class="version"><dl class="clearfix">
+              <dt><span>version:</span></dt>
+                <dd></dd>
+            </dl></li>
+
+            <li class="numDocs"><dl class="clearfix">
+              <dt><span>numDocs:</span></dt>
+                <dd></dd>
+            </dl></li>
+
+            <li class="maxDoc"><dl class="clearfix">
+              <dt><span>maxDoc:</span></dt>
+                <dd></dd>
+            </dl></li>
+
+            <li class="optimized"><dl class="clearfix">
+              <dt><span>optimized:</span></dt>
+                <dd class="ico"><span></span></dd>
+            </dl></li>
+
+            <li class="current"><dl class="clearfix">
+              <dt><span>current:</span></dt>
+                <dd class="ico"><span></span></dd>
+            </dl></li>
+
+            <li class="hasDeletions"><dl class="clearfix">
+              <dt><span>hasDeletions:</span></dt>
+                <dd class="ico"><span></span></dd>
+            </dl></li>
+
+            <li class="directory"><dl class="clearfix">
+              <dt><span>directory:</span></dt>
+                <dd></dd>
+            </dl></li>
+          
+          </ul>
+        
+        </div>
+      </div>
+
+    </div>
+  
+  </div>
+
+  <div id="navigation" class="clearfix">
+
+    <div class="actions">
+      
+      <div class="button-holder options add">
+        <div class="button">
+          <a class="add">Add Core</a>
+        </div>
+        <div class="button-content">
+
+          <form>
+
+            <input type="hidden" name="action" value="CREATE">
+
+            <p class="clearfix"><label for="add_name">name:</label>
+            <input type="text" name="name" id="add_name"></p>
+
+            <p class="clearfix"><label for="add_instanceDir">instanceDir:</label>
+            <input type="text" name="instanceDir" id="add_instanceDir"></p>
+
+            <p class="clearfix"><label for="add_config">config:</label>
+            <input type="text" name="config" id="add_config"></p>
+
+            <p class="clearfix"><label for="add_schema">schema:</label>
+            <input type="text" name="schema" id="add_schema"></p>
+
+            <p class="clearfix"><label for="add_dataDir">dataDir:</label>
+            <input type="text" name="dataDir" id="dataDir"></p>
+
+            <p class="clearfix buttons">
+              <a class="submit"><span>Add Core</span></a>
+              <a class="reset"><span>Cancel</span></a>
+            </p>
+
+          </form>
+
+        </div>
+      </div>
+    
+    </div>
+
+    <div id="list">
+
+    </div>
+  
+  </div>
 
 </div>
\ No newline at end of file
diff --git a/solr/webapp/web/tpl/dashboard.html b/solr/webapp/web/tpl/dashboard.html
index 430114b..4d0d8e2 100644
--- a/solr/webapp/web/tpl/dashboard.html
+++ b/solr/webapp/web/tpl/dashboard.html
@@ -16,134 +16,126 @@ limitations under the License.
 -->
 <div id="dashboard">
 
-    <div class="clearfix">
+  <div class="clearfix">
 
-        <div class="block" id="statistics">
+    <div class="block" id="statistics">
 
-            <h2><span>Statistics</span></h2>
+      <h2><span>Statistics</span></h2>
             
-            <div class="message-container">
-                <div class="message"></div>
-            </div>
+      <div class="message-container">
+        <div class="message"></div>
+      </div>
 
-            <div class="content">
+      <div class="content">
                 
-                <dl>
+        <dl>
                     
-                    <dt class="index_last-modified">Last Modified:</dt>
-                        <dd class="index_last-modified value timeago"></dd>
+          <dt class="index_last-modified">Last Modified:</dt>
+            <dd class="index_last-modified value timeago"></dd>
 
-                    <dt class="index_num-docs">Num Docs:</dt>
-                        <dd class="index_num-docs value"></dd>
+          <dt class="index_num-docs">Num Docs:</dt>
+            <dd class="index_num-docs value"></dd>
 
-                    <dt class="index_max-doc">Max Doc:</dt>
-                        <dd class="index_max-doc value"></dd>
+          <dt class="index_max-doc">Max Doc:</dt>
+            <dd class="index_max-doc value"></dd>
 
-                    <dt class="index_version">Version:</dt>
-                        <dd class="index_version value"></dd>
+          <dt class="index_version">Version:</dt>
+            <dd class="index_version value"></dd>
 
-                    <dt class="index_segmentCount">Segment Count:</dt>
-                        <dd class="index_segmentCount value"></dd>
+          <dt class="index_segmentCount">Segment Count:</dt>
+            <dd class="index_segmentCount value"></dd>
 
-                    <dt class="index_optimized">Optimized:</dt>
-                        <dd class="index_optimized value ico"><span></span>
-                        <a>optimize now</a></dd>
+          <dt class="index_optimized">Optimized:</dt>
+            <dd class="index_optimized value ico"><span></span>
+            <a>optimize now</a></dd>
 
-                    <dt class="index_current">Current:</dt>
-                        <dd class="index_current value ico"><span></span></dd>
+          <dt class="index_current">Current:</dt>
+            <dd class="index_current value ico"><span></span></dd>
                         
-                </dl>
+        </dl>
            
-            </div>
-        </div>
+      </div>
+    </div>
 
-        <div class="block" id="admin-extra">
+    <div class="block" id="admin-extra">
 
-            <h2><span>Admin Extra</span></h2>
+      <h2><span>Admin Extra</span></h2>
             
-            <div class="message-container">
-                <div class="message"></div>
-            </div>
+      <div class="message-container">
+        <div class="message"></div>
+      </div>
 
-            <div class="content">
+      <div class="content">
 
-            </div>
+      </div>
         
-        </div>
-
     </div>
-    <div class="clearfix">
 
-        <div class="block" id="replication">
+  </div>
+  <div class="clearfix">
+
+    <div class="block" id="replication">
 
-            <h2><span class="is-replicating">Replication</span></h2>
+      <h2><span class="is-replicating">Replication</span></h2>
             
-            <div class="message-container">
-                <div class="message"></div>
-            </div>
+      <div class="message-container">
+        <div class="message"></div>
+      </div>
 
-            <div class="content clearfix"id="details">
+      <div class="content clearfix"id="details">
 
-                <table border="0" cellspacing="0" cellpadding="0">
+        <table border="0" cellspacing="0" cellpadding="0">
 
-                    <thead>
+          <thead>
 
-                        <tr>
+            <tr>
                             
-                            <td><span>Index</span></td>
-                            <th>Version</th>
-                            <th><abbr title="Generation">Gen</abbr></th>
-                            <th>Size</th>
+              <td><span>Index</span></td>
+              <th>Version</th>
+              <th><abbr title="Generation">Gen</abbr></th>
+              <th>Size</th>
                         
-                        </tr>
+            </tr>
                     
-                    </thead>
-                    <tbody>
+          </thead>
+          <tbody>
 
-                        <tr class="master">
+            <tr class="master">
 
-                            <th>Master:</th>
-                            <td class="version"><div>x</div></td>
-                            <td class="generation"><div>y</div></td>
-                            <td class="size"><div>z</div></td>
+              <th>Master:</th>
+              <td class="version"><div>x</div></td>
+              <td class="generation"><div>y</div></td>
+              <td class="size"><div>z</div></td>
 
-                        </tr>
+            </tr>
 
-                        <tr class="slave slaveOnly">
+            <tr class="slave slaveOnly">
 
-                            <th>Slave:</th>
-                            <td class="version"><div>a</div></td>
-                            <td class="generation"><div>c</div></td>
-                            <td class="size"><div>c</div></td>
+              <th>Slave:</th>
+              <td class="version"><div>a</div></td>
+              <td class="generation"><div>c</div></td>
+              <td class="size"><div>c</div></td>
 
-                        </tr>
+            </tr>
 
-                    </tbody>
+          </tbody>
 
-                </table>
+        </table>
             
-            </div>
-        </div>
+      </div>
+    </div>
 
-        <div class="block" id="dataimport">
+    <div class="block" id="dataimport">
 
-            <h2><span>Dataimport</span></h2>
+      <h2><span>Dataimport</span></h2>
             
-            <div class="message-container">
-                <div class="message"></div>
-            </div>
-
-            <div class="content">
-
-<!--
-status:
-    idle
-info:
--->
-
-            </div>
-        </div>
+      <div class="message-container">
+        <div class="message"></div>
+      </div>
 
+      <div class="content"></div>
     </div>
 
+  </div>
+
 </div>
\ No newline at end of file
diff --git a/solr/webapp/web/tpl/index.html b/solr/webapp/web/tpl/index.html
index 19186aa..18fd71a 100644
--- a/solr/webapp/web/tpl/index.html
+++ b/solr/webapp/web/tpl/index.html
@@ -14,110 +14,237 @@ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 -->
-<div id="index">
+<div id="index" class="clearfix">
 
-    <div class="clearfix">
+  <div class="clearfix">
 
-		<div class="block" id="data">
+    <div class="index-left">
 
-		    <h2><span>Dashboard</span></h2>
-		    
-		    <div class="message-container">
-		        <div class="message"></div>
-		    </div>
+      <div class="block" id="instance">
 
-		    <div class="content">
+          <h2><span>Instance</span></h2>
 
-		    	<ul class="data">
+          <div class="content">
 
-		    		<li class="start_time"><dl class="clearfix">
-		    			<dt><span>startTime</span></dt>
-		    				<dd class="timeago"></dd>
-		    		</dl></li>
+            <ul class="data">
 
-		    		<li class="host"><dl class="clearfix">
-			    		<dt><span>host</span></dt>
-			    			<dd></dd>
-		    		</dl></li>
+              <li class="start_time"><dl class="clearfix">
+                <dt><span>Start</span></dt>
+                  <dd class="timeago"></dd>
+              </dl></li>
 
-		    		<li class="cwd"><dl class="clearfix">
-			    		<dt><span>cwd</span></dt>
-							<dd></dd>
-		    		</dl></li>
+              <li class="host"><dl class="clearfix">
+                <dt><span>Host</span></dt>
+                  <dd></dd>
+              </dl></li>
 
-		    		<li class="jvm"><dl class="clearfix">
-			    		<dt><span>JVM</span></dt>
-			    			<dd></dd>
-		    		</dl></li>
+              <li class="dir dir_cwd"><dl class="clearfix">
+                <dt><span>CWD</span></dt>
+                <dd></dd>
+              </dl></li>
 
-		    		<li class="command_line_args"><dl class="clearfix">
-			    		<dt><span>commandLineArgs</span></dt>
-							<dd></dd>
-		    		</dl></li>
-		    	
-		    	</ul>
+              <li class="dir dir_instance"><dl class="clearfix">
+                <dt><span>Instance</span></dt>
+                <dd></dd>
+              </dl></li>
 
-		    	<ul class="lucene">
+              <li class="dir dir_data"><dl class="clearfix">
+                <dt><span>Data</span></dt>
+                <dd></dd>
+              </dl></li>
 
-		    		<li class="solr_spec_version"><dl class="clearfix">
-			    		<dt><span>solr-spec-version</span></dt>
-			    			<dd></dd>
-		    		</dl></li>
-		    		
-		    		<li class="solr_impl_version"><dl class="clearfix">
-			    		<dt class=""><span>solr-impl-version</span></dt>
-			    			<dd></dd>
-		    		</dl></li>
-		    		
-		    		<li class="lucene_spec_version"><dl class="clearfix">
-			    		<dt><span>lucene-spec-version</span></dt>
-			    			<dd></dd>
-		    		</dl></li>
+              <li class="dir dir_index"><dl class="clearfix">
+                <dt><span>Index</span></dt>
+                <dd></dd>
+              </dl></li>
+            
+            </ul>
 
-		    		<li class="lucene_impl_version"><dl class="clearfix">		    		
-			    		<dt><span>lucene-impl-version</span></dt>
-			    			<dd></dd>
-		    		</dl></li>
-		    	
-		    	</ul>
+          </div>
 
-		    </div>
+      </div>
 
-		</div>
-	
-		<div class="block" id="memory">
+      <div class="block" id="versions">
 
-		    <h2><span>Memory</span></h2>
-		    
-		    <div class="message-container">
-		        <div class="message"></div>
-		    </div>
+          <h2><span>Versions</span></h2>
 
-		    <div class="content">
+          <div class="content">
 
-		    	<div id="memory-bar">
+            <ul class="data">
 
-		    		<div id="memory-bar-max">
-		    			<span class="memory-bar-max value"></span>
+              <li class="solr solr_spec_version"><dl class="clearfix">
+                <dt><span>solr-spec</span></dt>
+                  <dd></dd>
+              </dl></li>
+              
+              <li class="solr_impl_version"><dl class="clearfix">
+                <dt class=""><span>solr-impl</span></dt>
+                  <dd></dd>
+              </dl></li>
+              
+              <li class="lucene lucene_spec_version"><dl class="clearfix">
+                <dt><span>lucene-spec</span></dt>
+                  <dd></dd>
+              </dl></li>
 
-		    			<div id="memory-bar-total" class="bar">
-		    				<span class="memory-bar-total value"></span>
+              <li class="lucene_impl_version"><dl class="clearfix">            
+                <dt><span>lucene-impl</span></dt>
+                  <dd></dd>
+              </dl></li>
+            
+            </ul>
 
-		    				<div id="memory-bar-used" class="bar">
-		    					<span class="memory-bar-used value"></span>
+          </div>
 
-		    				</div>
+      </div>
 
-		    			</div>
+    </div>
+      
+    <div class="index-right">
 
-		    		</div>
+      <div class="block" id="system">
 
-		    	</div>
+          <h2><span>System</span></h2>
+          <a class="reload"><span>reload</span></a>
 
-		    </div>
+          <div class="content">
 
-		</div>
+            <div id="physical-memory-bar">
 
-	</div>
+              <p data-desc="physical-memory-bar">Physical Memory</p>
+              <div class="bar-holder">
+
+                <div class="bar-max bar">
+                  <span class="bar-max val"></span>
+
+                  <div class="bar-total bar">
+                    <span class="bar-total val"></span>
+
+                  </div>
+
+                </div>
+
+              </div>
+
+            </div>
+
+            <div id="swap-space-bar">
+
+              <p data-desc="swap-space-bar">Swap Space</p>
+              <div class="bar-holder">
+
+                <div class="bar-max bar">
+                  <span class="bar-max val"></span>
+
+                  <div class="bar-total bar">
+                    <span class="bar-total val"></span>
+
+                  </div>
+
+                </div>
+
+              </div>
+
+            </div>
+
+          <div id="file-descriptor-bar">
+
+              <p data-desc="file-descriptor-bar">File Descriptor Count</p>
+              <div class="bar-holder">
+
+                <div class="bar-max bar">
+                  <span class="bar-max val"></span>
+
+                  <div class="bar-total bar">
+                    <span class="bar-total val"></span>
+
+                  </div>
+
+                </div>
+
+              </div>
+
+            </div>
+
+            <p class="no-info">Sorry, no information available</p>
+
+          </div>
+
+      </div>
+
+    </div>
+
+  </div>
+
+  <div class="clearfix">
+
+    <div class="index-left">
+
+      <div class="block" id="jvm">
+
+          <h2><span>JVM</span></h2>
+
+          <div class="content clearfix">
+
+            <ul class="data">
+
+              <li class="jvm_version"><dl class="clearfix">            
+                <dt><span>Runtime</span></dt>
+                  <dd></dd>
+              </dl></li>
+
+              <li class="processors"><dl class="clearfix">            
+                <dt><span>Processors</span></dt>
+                  <dd></dd>
+              </dl></li>
+
+              <li class="command_line_args"><dl class="clearfix">
+                <dt><span>Args</span></dt>
+                <dd></dd>
+              </dl></li>
+            
+            </ul>
+
+          </div>
+
+      </div>
+
+    </div>
+    <div class="index-right">
+
+      <div class="block" id="jvm-memory">
+
+          <h2><span data-desc="jvm-memory-bar">JVM-Memory</span></h2>
+
+          <div class="content">
+
+            <div id="jvm-memory-bar">
+              <div class="bar-holder">
+
+                <div class="bar-max bar">
+                  <span class="bar-max val"></span>
+
+                  <div class="bar-total bar">
+                    <span class="bar-total val"></span>
+
+                    <div class="bar-used bar">
+                      <span class="bar-used val"></span>
+
+                    </div>
+
+                  </div>
+
+                </div>
+
+              </div>
+            </div>
+
+          </div>
+
+      </div>
+
+    </div>
+
+  </div>
 
 </div>
\ No newline at end of file
diff --git a/solr/webapp/web/tpl/plugins.html b/solr/webapp/web/tpl/plugins.html
index 6afac23..1eaf237 100644
--- a/solr/webapp/web/tpl/plugins.html
+++ b/solr/webapp/web/tpl/plugins.html
@@ -16,15 +16,15 @@ limitations under the License.
 -->
 <div id="plugins" class="clearfix">
 
-	<div id="frame">
+  <div id="frame">
 
-	</div>
+  </div>
 
-	<div id="navigation" class="clearfix">
+  <div id="navigation" class="clearfix">
 
-		<ul>
-		</ul>
-	
-	</div>
+    <ul>
+    </ul>
+  
+  </div>
 
 </div>
diff --git a/solr/webapp/web/tpl/query.html b/solr/webapp/web/tpl/query.html
index c602419..6c41bb9 100644
--- a/solr/webapp/web/tpl/query.html
+++ b/solr/webapp/web/tpl/query.html
@@ -16,258 +16,296 @@ limitations under the License.
 -->
 <div id="query" class="clearfix">
 
-	<div id="form">
-
-		<form action="#" method="get">
-
-			<fieldset>
-				<legend>common</legend>
-				<div class="fieldset">
-
-				<label for="q">
-					q
-				</label>
-				<textarea name="q" id="q">*:*</textarea>
-
-				<label for="fq">
-					<a rel="help">fq</a>
-				</label>
-				<input type="text" id="fq" name="fq" class="multiple">
-
-				<label for="sort">
-					<a rel="help">sort</a>
-				</label>
-				<input type="text" id="sort" name="sort" class="multiple">
-
-				<label for="start">
-					<a rel="help">start</a>,
-					<a rel="help">rows</a>
-				</label>
-				<input type="text" name="start" id="start" value="0">
-				<input type="text" name="rows" id="rows" value="10">
-
-				<label for="fl">
-					<a rel="help">fl</a>
-				</label>
-				<input type="text" name="fl" id="fl" value="">
-
-				<label for="qt">
-					<a rel="help">qt</a>
-				</label>
-				<input type="text" name="qt" id="qt" value="">
-
-				<label for="wt">
-					<a rel="help">wt</a>
-				</label>
-				<select name="wt" id="wt">
-					<option>xml</option>
-					<option>json</option>
-					<option>python</option>
-					<option>ruby</option>
-					<option>php</option>
-					<option>csv</option>
-				</select>
-
-				<label for="indent" class="checkbox">
-					<input type="checkbox" name="indent" id="indent" value="true">
-					<a rel="help">indent</a>
-				</label>
-
-				<label for="debugQuery" class="checkbox">
-					<input type="checkbox" name="debugQuery" id="debugQuery" value="true">
-					<a rel="help">debugQuery</a>
-				</label>
-
-				</div>
-			</fieldset>
-
-			<fieldset class="optional">
-				<legend>
-					<label for="dismax" class="checkbox">
-						<input type="checkbox" name="dismax" id="dismax" value="true">
-						dismax
-					</label>
-				</legend>
-				<div class="fieldset">
-
-				<label for="q_alt">q.alt</label>
-				<input type="text" name="q.alt" id="q_alt">
-
-				<label for="qf">qf</label>
-				<input type="text" name="qf" id="qf">
-
-				<label for="mm">mm</label>
-				<input type="text" name="mm" id="mm">
-
-				<label for="pf">pf</label>
-				<input type="text" name="pf" id="pf">
-
-				<label for="ps">ps</label>
-				<input type="text" name="ps" id="ps">
-
-				<label for="qs">qs</label>
-				<input type="text" name="qs" id="qs">
-
-				<label for="tie">tie</label>
-				<input type="text" name="tie" id="tie">
-
-				<label for="bq">bq</label>
-				<input type="text" name="bq" id="bq">
-
-				<label for="bf">bf</label>
-				<input type="text" name="bf" id="bf">
-			
-			</fieldset>
-
-			<fieldset class="optional">
-				<legend>
-					<label for="hl" class="checkbox">
-						<input type="checkbox" name="hl" id="hl" value="true">
-						hl
-					</label>
-				</legend>
-				<div class="fieldset">
-
-				<label for="hl_fl">hl.fl</label>
-				<input type="text" name="hl.fl" id="hl_fl" value="">
-
-				<label for="hl_simple_pre">hl.simple.pre</label>
-				<input type="text" name="hl.simple.pre" id="hl_simple_pre" value="<em>">
-
-				<label for="hl_simple_post">hl.simple.post</label>
-				<input type="text" name="hl.simple.post" id="hl_simple_post" value="</em>">
-
-				<label for="hl_requireFieldMatch" class="checkbox">
-					<input type="checkbox" name="hl.requireFieldMatch" id="hl_requireFieldMatch" value="true">
-					hl.requireFieldMatch
-				</label>
-
-				<label for="hl_usePhraseHighlighter" class="checkbox">
-					<input type="checkbox" name="hl.usePhraseHighlighter" id="hl_usePhraseHighlighter" value="true">
-					hl.usePhraseHighlighter
-				</label>
-
-				<label for="hl_highlightMultiTerm" class="checkbox">
-					<input type="checkbox" name="hl.highlightMultiTerm" id="hl_highlightMultiTerm" value="true">
-					hl.highlightMultiTerm
-				</label>
-			
-				</div>
-			</fieldset>
-
-			<fieldset class="optional">
-				<legend>
-					<label for="facet" class="checkbox">
-						<input type="checkbox" name="facet" id="facet" value="true">
-						facet
-					</label>
-				</legend>
-				<div class="fieldset">
-
-				<label for="facet_query">facet.query</label>
-				<textarea name="facet.query" id="facet_query"></textarea>
-
-				<label for="facet_field">facet.field</label>
-				<input type="text" name="facet.field" id="facet_field">
-
-				<label for="facet_prefix">facet.prefix</label>
-				<input type="text" name="facet.prefix" id="facet_prefix">
+  <div id="form">
+
+    <form action="#" method="get">
+
+      <fieldset>
+        <legend>common</legend>
+        <div class="fieldset">
+
+        <label for="q">
+          q
+        </label>
+        <textarea name="q" id="q">*:*</textarea>
+
+        <label for="fq">
+          <a rel="help">fq</a>
+        </label>
+        <input type="text" id="fq" name="fq" class="multiple">
+
+        <label for="sort">
+          <a rel="help">sort</a>
+        </label>
+        <input type="text" id="sort" name="sort" class="multiple">
+
+        <label for="start">
+          <a rel="help">start</a>,
+          <a rel="help">rows</a>
+        </label>
+        <input type="text" name="start" id="start" value="0">
+        <input type="text" name="rows" id="rows" value="10">
+
+        <label for="fl">
+          <a rel="help">fl</a>
+        </label>
+        <input type="text" name="fl" id="fl" value="">
+
+        <label for="qt">
+          <a rel="help">qt</a>
+        </label>
+        <input type="text" name="qt" id="qt" value="">
+
+        <label for="wt">
+          <a rel="help">wt</a>
+        </label>
+        <select name="wt" id="wt">
+          <option>xml</option>
+          <option>json</option>
+          <option>python</option>
+          <option>ruby</option>
+          <option>php</option>
+          <option>csv</option>
+        </select>
+
+        <label for="indent" class="checkbox">
+          <input type="checkbox" name="indent" id="indent" value="true">
+          <a rel="help">indent</a>
+        </label>
+
+        <label for="debugQuery" class="checkbox">
+          <input type="checkbox" name="debugQuery" id="debugQuery" value="true">
+          <a rel="help">debugQuery</a>
+        </label>
+
+        </div>
+      </fieldset>
+
+      <fieldset class="optional">
+        <legend>
+          <label for="dismax" class="checkbox">
+            <input type="checkbox" name="dismax" id="dismax" value="true">
+            dismax
+          </label>
+        </legend>
+        <div class="fieldset">
+
+        <label for="q_alt">q.alt</label>
+        <input type="text" name="q.alt" id="q_alt">
+
+        <label for="qf">qf</label>
+        <input type="text" name="qf" id="qf">
+
+        <label for="mm">mm</label>
+        <input type="text" name="mm" id="mm">
+
+        <label for="pf">pf</label>
+        <input type="text" name="pf" id="pf">
+
+        <label for="ps">ps</label>
+        <input type="text" name="ps" id="ps">
+
+        <label for="qs">qs</label>
+        <input type="text" name="qs" id="qs">
+
+        <label for="tie">tie</label>
+        <input type="text" name="tie" id="tie">
+
+        <label for="bq">bq</label>
+        <input type="text" name="bq" id="bq">
+
+        <label for="bf">bf</label>
+        <input type="text" name="bf" id="bf">
+      
+      </fieldset>
+
+      <fieldset class="optional">
+        <legend>
+          <label for="edismax" class="checkbox">
+            <input type="checkbox" name="edismax" id="edismax" value="true">
+            <strong>e</strong>dismax
+          </label>
+        </legend>
+        <div class="fieldset">
+
+        <label for="q_alt">q.alt</label>
+        <input type="text" name="q.alt" id="q_alt">
+
+        <label for="qf">qf</label>
+        <input type="text" name="qf" id="qf">
+
+        <label for="mm">mm</label>
+        <input type="text" name="mm" id="mm">
+
+        <label for="pf">pf</label>
+        <input type="text" name="pf" id="pf">
+
+        <label for="ps">ps</label>
+        <input type="text" name="ps" id="ps">
+
+        <label for="qs">qs</label>
+        <input type="text" name="qs" id="qs">
+
+        <label for="tie">tie</label>
+        <input type="text" name="tie" id="tie">
+
+        <label for="bq">bq</label>
+        <input type="text" name="bq" id="bq">
+
+        <label for="bf">bf</label>
+        <input type="text" name="bf" id="bf">
+      
+      </fieldset>
+
+      <fieldset class="optional">
+        <legend>
+          <label for="hl" class="checkbox">
+            <input type="checkbox" name="hl" id="hl" value="true">
+            hl
+          </label>
+        </legend>
+        <div class="fieldset">
+
+        <label for="hl_fl">hl.fl</label>
+        <input type="text" name="hl.fl" id="hl_fl" value="">
+
+        <label for="hl_simple_pre">hl.simple.pre</label>
+        <input type="text" name="hl.simple.pre" id="hl_simple_pre" value="<em>">
+
+        <label for="hl_simple_post">hl.simple.post</label>
+        <input type="text" name="hl.simple.post" id="hl_simple_post" value="</em>">
+
+        <label for="hl_requireFieldMatch" class="checkbox">
+          <input type="checkbox" name="hl.requireFieldMatch" id="hl_requireFieldMatch" value="true">
+          hl.requireFieldMatch
+        </label>
+
+        <label for="hl_usePhraseHighlighter" class="checkbox">
+          <input type="checkbox" name="hl.usePhraseHighlighter" id="hl_usePhraseHighlighter" value="true">
+          hl.usePhraseHighlighter
+        </label>
+
+        <label for="hl_highlightMultiTerm" class="checkbox">
+          <input type="checkbox" name="hl.highlightMultiTerm" id="hl_highlightMultiTerm" value="true">
+          hl.highlightMultiTerm
+        </label>
+      
+        </div>
+      </fieldset>
+
+      <fieldset class="optional">
+        <legend>
+          <label for="facet" class="checkbox">
+            <input type="checkbox" name="facet" id="facet" value="true">
+            facet
+          </label>
+        </legend>
+        <div class="fieldset">
 
-				</div>
-			</fieldset>
+        <label for="facet_query">facet.query</label>
+        <textarea name="facet.query" id="facet_query"></textarea>
 
-			<fieldset class="optional">
-				<legend>
-					<label for="spatial" class="checkbox">
-						<input type="checkbox" name="spatial" id="spatial" value="true">
-						spatial
-					</label>
-				</legend>
-				<div class="fieldset">
+        <label for="facet_field">facet.field</label>
+        <input type="text" name="facet.field" id="facet_field">
 
-				<label for="pt">pt</label>
-				<input type="text" name="pt" id="pt">
+        <label for="facet_prefix">facet.prefix</label>
+        <input type="text" name="facet.prefix" id="facet_prefix">
 
-				<label for="sfield">sfield</label>
-				<input type="text" name="sfield" id="sfield">
+        </div>
+      </fieldset>
 
-				<label for="d">d</label>
-				<input type="text" name="d" id="d">
-				
-				</div>
-			</fieldset>
+      <fieldset class="optional">
+        <legend>
+          <label for="spatial" class="checkbox">
+            <input type="checkbox" name="spatial" id="spatial" value="true">
+            spatial
+          </label>
+        </legend>
+        <div class="fieldset">
 
-			<fieldset class="optional">
-				<legend>
-					<label for="spellcheck" class="checkbox">
-						<input type="checkbox" name="spellcheck" id="spellcheck" value="true">
-						spellcheck
-					</label>
-				</legend>
-				<div class="fieldset">
-
-				<label for="spellcheck_build" class="checkbox">
-					<input type="checkbox" name="spellcheck.build" id="spellcheck_build" value="true">
-					spellcheck.build
-				</label>
+        <label for="pt">pt</label>
+        <input type="text" name="pt" id="pt">
 
-				<label for="spellcheck_reload" class="checkbox">
-					<input type="checkbox" name="spellcheck.reload" id="spellcheck_reload" value="true">
-					spellcheck.reload
-				</label>
-
-				<label for="spellcheck_q">spellcheck.q</label>
-				<input type="text" name="spellcheck.q" id="spellcheck_q">
+        <label for="sfield">sfield</label>
+        <input type="text" name="sfield" id="sfield">
 
-				<label for="spellcheck_dictionary">spellcheck.dictionary</label>
-				<input type="text" name="spellcheck.dictionary" id="spellcheck_dictionary">
-
-				<label for="spellcheck_count">spellcheck.count</label>
-				<input type="text" name="spellcheck.count" id="spellcheck_count">
+        <label for="d">d</label>
+        <input type="text" name="d" id="d">
+        
+        </div>
+      </fieldset>
 
-				<label for="spellcheck_onlyMorePopular" class="checkbox">
-					<input type="checkbox" name="spellcheck.onlyMorePopular" id="spellcheck_onlyMorePopular" value="true">
-					spellcheck.onlyMorePopular
-				</label>
+      <fieldset class="optional">
+        <legend>
+          <label for="spellcheck" class="checkbox">
+            <input type="checkbox" name="spellcheck" id="spellcheck" value="true">
+            spellcheck
+          </label>
+        </legend>
+        <div class="fieldset">
+
+        <label for="spellcheck_build" class="checkbox">
+          <input type="checkbox" name="spellcheck.build" id="spellcheck_build" value="true">
+          spellcheck.build
+        </label>
 
-				<label for="spellcheck_extendedResults" class="checkbox">
-					<input type="checkbox" name="spellcheck.extendedResults" id="spellcheck_extendedResults" value="true">
-					spellcheck.extendedResults
-				</label>
+        <label for="spellcheck_reload" class="checkbox">
+          <input type="checkbox" name="spellcheck.reload" id="spellcheck_reload" value="true">
+          spellcheck.reload
+        </label>
+
+        <label for="spellcheck_q">spellcheck.q</label>
+        <input type="text" name="spellcheck.q" id="spellcheck_q">
 
-				<label for="spellcheck_collate" class="checkbox">
-					<input type="checkbox" name="spellcheck.collate" id="spellcheck_collate" value="true">
-					spellcheck.collate
-				</label>
+        <label for="spellcheck_dictionary">spellcheck.dictionary</label>
+        <input type="text" name="spellcheck.dictionary" id="spellcheck_dictionary">
+
+        <label for="spellcheck_count">spellcheck.count</label>
+        <input type="text" name="spellcheck.count" id="spellcheck_count">
 
-				<label for="spellcheck_maxCollations">spellcheck.maxCollations</label>
-				<input type="text" name="spellcheck.maxCollations" id="spellcheck_maxCollations">
+        <label for="spellcheck_onlyMorePopular" class="checkbox">
+          <input type="checkbox" name="spellcheck.onlyMorePopular" id="spellcheck_onlyMorePopular" value="true">
+          spellcheck.onlyMorePopular
+        </label>
 
-				<label for="spellcheck_maxCollationTries">spellcheck.maxCollationTries</label>
-				<input type="text" name="spellcheck.maxCollationTries" id="spellcheck_maxCollationTries">
+        <label for="spellcheck_extendedResults" class="checkbox">
+          <input type="checkbox" name="spellcheck.extendedResults" id="spellcheck_extendedResults" value="true">
+          spellcheck.extendedResults
+        </label>
 
-				<label for="spellcheck_accuracy">spellcheck.accuracy</label>
-				<input type="text" name="spellcheck.accuracy" id="spellcheck_accuracy">
-			
-			</fieldset>
+        <label for="spellcheck_collate" class="checkbox">
+          <input type="checkbox" name="spellcheck.collate" id="spellcheck_collate" value="true">
+          spellcheck.collate
+        </label>
 
+        <label for="spellcheck_maxCollations">spellcheck.maxCollations</label>
+        <input type="text" name="spellcheck.maxCollations" id="spellcheck_maxCollations">
 
-			<button type="submit">Execute Query</button>
+        <label for="spellcheck_maxCollationTries">spellcheck.maxCollationTries</label>
+        <input type="text" name="spellcheck.maxCollationTries" id="spellcheck_maxCollationTries">
 
-		</form>
+        <label for="spellcheck_accuracy">spellcheck.accuracy</label>
+        <input type="text" name="spellcheck.accuracy" id="spellcheck_accuracy">
+      
+      </fieldset>
 
-	</div>
 
-	<div id="result">
+      <button type="submit">Execute Query</button>
 
-		<a id="url" href="#"></a>
+    </form>
 
-		<div id="response">
+  </div>
 
-			<iframe src="about:blank"></iframe>
-		
-		</div>
+  <div id="result">
 
-	</div>
+    <a id="url" href="#"></a>
+
+    <div id="response">
+
+      <iframe src="about:blank"></iframe>
+    
+    </div>
+
+  </div>
 
 </div>
\ No newline at end of file
diff --git a/solr/webapp/web/tpl/replication.html b/solr/webapp/web/tpl/replication.html
index 9968a68..1f60f3e 100644
--- a/solr/webapp/web/tpl/replication.html
+++ b/solr/webapp/web/tpl/replication.html
@@ -16,185 +16,192 @@ limitations under the License.
 -->
 <div id="replication" class="clearfix">
 
-    <div id="frame">
+  <div id="frame">
 
-        <div id="error"></div>
+    <div id="error"></div>
 
-        <div class="replicating block">
+    <div class="replicating block">
 
-            <div id="progress">
+      <div id="progress">
 
-                <div id="start"><div class="info">
+        <div id="start"><div class="info">
 
-                    <span>Wed May 11 19:41:48 UTC 2011</span>
+          <span>Wed May 11 19:41:48 UTC 2011</span>
                 
-                </div></div>
+        </div></div>
 
-                <div id="speed"><div class="info">
+        <div id="speed"><div class="info">
 
-                    <span>5.1 MB</span>/s
+          <span>5.1 MB</span>/s
                 
-                </div></div>
+        </div></div>
 
-                <div id="bar">
+        <div id="bar">
 
-                    <div id="bar-info"><div class="info">
+          <div id="bar-info"><div class="info">
 
-                        <div class="files"><span>24</span> Files</div>
-                        <div class="size"><span>226.85 MB</span></div>
+            <div class="files"><span>24</span> Files</div>
+            <div class="size"><span>226.85 MB</span></div>
 
-                    </div></div>
+          </div></div>
 
-                    <div id="eta"><div class="info">
+          <div id="eta"><div class="info">
 
-                        ETA: <span>25s</span>
+            ETA: <span>25s</span>
                     
-                    </div></div>
+          </div></div>
 
-                    <div id="done" style="width: 20.0%;">
+          <div id="done" style="width: 20.0%;">
 
-                        <div class="percent">
+            <div class="percent">
 
-                            <span>20</span>%
+              <span>20</span>%
 
-                        </div>
-
-                        <div id="done-info"><div class="info">
+            </div>
 
-                            <div class="files"><span>2</span> Files</div>
-                            <div class="size"><span>91.76 MB</span></div>
+            <div id="done-info"><div class="info">
 
-                        </div></div>
+              <div class="files"><span>2</span> Files</div>
+              <div class="size"><span>91.76 MB</span></div>
 
-                    </div>
+            </div></div>
 
-                </div>
+          </div>
 
-            </div>
+        </div>
 
-            <div id="current-file" class="clearfix">
+      </div>
 
-                <div class="label"><span class="loader">Current File:</span></div>
-                <div class="file">_a.fdt</div>
-                <div class="progress">
-                    <span class="done">84 MB</span> / <span class="total">102.98 MB</span> [<span class="percent">81</span>%]
-                </div>
+      <div id="current-file" class="clearfix">
 
-            </div>
-        
+        <div class="label"><span class="loader">Current File:</span></div>
+        <div class="file">_a.fdt</div>
+        <div class="progress">
+          <span class="done">84 MB</span> / <span class="total">102.98 MB</span> [<span class="percent">81</span>%]
         </div>
 
-        <div id="iterations" class="slaveOnly block clearfix">
+      </div>
+        
+    </div>
 
-            <div class="label"><span class="">Iterations:</span></div>
-            <div class="iterations">
-                <ul>
-                </ul>
-                <a>
-                    <span class="expand">Show all Iterations</span>
-                    <span class="collapse">Hide past Iterations</span>
-                </a>
-            </div>
+    <div id="iterations" class="slaveOnly block clearfix">
+
+      <div class="label"><span class="">Iterations:</span></div>
+      <div class="iterations">
+        <ul>
+        </ul>
+        <a>
+          <span class="expand">Show all Iterations</span>
+          <span class="collapse">Hide past Iterations</span>
+        </a>
+      </div>
         
-        </div>
+    </div>
 
-        <div id="details" class="block clearfix">
+    <div id="details" class="block clearfix">
 
-            <table border="0" cellspacing="0" cellpadding="0">
+      <table border="0" cellspacing="0" cellpadding="0">
 
-                <thead>
+        <thead>
 
-                    <tr>
+          <tr>
                         
-                        <td><span>Index</span></td>
-                        <th>Version</th>
-                        <th><abbr title="Generation">Gen</abbr></th>
-                        <th>Size</th>
+            <td><span>Index</span></td>
+            <th>Version</th>
+            <th><abbr title="Generation">Gen</abbr></th>
+            <th>Size</th>
                     
-                    </tr>
+          </tr>
                 
-                </thead>
-                <tbody>
+        </thead>
+        <tbody>
 
-                    <tr class="master">
+          <tr class="master">
 
-                        <th>Master:</th>
-                        <td class="version"><div></div></td>
-                        <td class="generation"><div></div></td>
-                        <td class="size"><div></div></td>
+            <th>Master:</th>
+            <td class="version"><div></div></td>
+            <td class="generation"><div></div></td>
+            <td class="size"><div></div></td>
 
-                    </tr>
+          </tr>
 
-                    <tr class="slave slaveOnly">
+          <tr class="slave slaveOnly">
 
-                        <th>Slave:</th>
-                        <td class="version"><div></div></td>
-                        <td class="generation"><div></div></td>
-                        <td class="size"><div></div></td>
+            <th>Slave:</th>
+            <td class="version"><div></div></td>
+            <td class="generation"><div></div></td>
+            <td class="size"><div></div></td>
 
-                    </tr>
+          </tr>
 
-                </tbody>
+        </tbody>
 
-            </table>
+      </table>
 
-        </div>
+    </div>
 
-        <div id="settings" class="settings block clearfix slaveOnly">
-
-            <div class="label"><span>Settings:</span></div>
-            <ul>
-                <li class="masterUrl"><dl class="clearfix">
-                    <dt>master url:</dt>
-                        <dd></dd>
-                </dl></li>
-                <li class="isPollingDisabled"><dl class="clearfix">
-                    <dt>polling enable:</dt>
-                        <dd class="ico">&nbsp;</dd>
-                </dl></li>
-            </ul>
+    <div id="settings" class="settings block clearfix slaveOnly">
+
+      <div class="label"><span>Settings:</span></div>
+      <ul>
+        <li class="masterUrl"><dl class="clearfix">
+          <dt>master url:</dt>
+            <dd></dd>
+        </dl></li>
+        <li class="isPollingDisabled"><dl class="clearfix">
+          <dt>polling enable:</dt>
+            <dd class="ico">&nbsp;</dd>
+        </dl></li>
+      </ul>
         
-        </div>
+    </div>
 
-        <div id="master-settings" class="settings block clearfix">
-
-            <div class="label"><span>Settings (Master):</span></div>
-            <ul>
-                <li class="replicationEnabled"><dl class="clearfix">
-                    <dt>replication enable:</dt>
-                        <dd class="ico">&nbsp;</dd>
-                </dl></li>
-                <li class="replicateAfter"><dl class="clearfix">
-                    <dt>replicateAfter:</dt>
-                        <dd></dd>
-                </dl></li>
-                <li class="confFiles"><dl class="clearfix">
-                    <dt>confFiles:</dt>
-                        <dd></dd>
-                </dl></li>
-            </ul>
+    <div id="master-settings" class="settings block clearfix">
+
+      <div class="label"><span>Settings (Master):</span></div>
+      <ul>
+        <li class="replicationEnabled"><dl class="clearfix">
+          <dt>replication enable:</dt>
+            <dd class="ico">&nbsp;</dd>
+        </dl></li>
+        <li class="replicateAfter"><dl class="clearfix">
+          <dt>replicateAfter:</dt>
+            <dd></dd>
+        </dl></li>
+        <li class="confFiles"><dl class="clearfix">
+          <dt>confFiles:</dt>
+            <dd></dd>
+        </dl></li>
+      </ul>
         
-        </div>
-    
     </div>
+    
+  </div>
 
-    <div id="navigation">
+  <div id="navigation">
 
-        <button class="refresh-status">Refresh Status</button>
+    <div class="timer">
 
-        <div class="slaveOnly">        
-            <button class="optional replicate-now" data-command="fetchindex">Replicate now</button>
-            <button class="optional abort-replication" data-command="abortfetch">Abort Replication</button>
+      <p>Next Run: <span class="approx">~</span><span class="tick">15m 8s</span></p>
+      <small>Sat Mar 03 11:00:00 CET 2012</smalL>
 
-            <button class="optional disable-polling" data-command="disablepoll">Disable Polling</button>
-            <button class="optional enable-polling" data-command="enablepoll">Enable Polling</button>
-        </div>
+    </div>
 
-        <div class="masterOnly">
-            <button class="optional disable-replication" data-command="disablereplication">Disable Replication</button>
-            <button class="optional enable-replication" data-command="enablereplication">Enable Replication</button>
-        </div>
-    
+    <button class="refresh-status">Refresh Status</button>
+
+    <div class="slaveOnly">        
+      <button class="optional replicate-now" data-command="fetchindex">Replicate now</button>
+      <button class="optional abort-replication" data-command="abortfetch">Abort Replication</button>
+
+      <button class="optional disable-polling" data-command="disablepoll">Disable Polling</button>
+      <button class="optional enable-polling" data-command="enablepoll">Enable Polling</button>
     </div>
 
+    <div class="masterOnly">
+      <button class="optional disable-replication" data-command="disablereplication">Disable Replication</button>
+      <button class="optional enable-replication" data-command="enablereplication">Enable Replication</button>
+    </div>
+    
+  </div>
+
 </div>
\ No newline at end of file
diff --git a/solr/webapp/web/tpl/schema-browser.html b/solr/webapp/web/tpl/schema-browser.html
index 72bb4c2..506637b 100644
--- a/solr/webapp/web/tpl/schema-browser.html
+++ b/solr/webapp/web/tpl/schema-browser.html
@@ -16,147 +16,150 @@ limitations under the License.
 -->
 <div id="schema-browser" class="loaded">
 
-    <div class="clearfix">
+  <div class="clearfix">
 
-        <div id="data">
+    <div id="data">
 
-            <div id="field">
+      <div id="field">
 
-                <div class="field-options">
+        <div class="field-options">
 
-                    <dl class="options clearfix">
+          <div class="block head">
+            <h2>
+              <span class="type"></span>:
+              <span class="name"></span>
+            </h2>
+          </div>
 
-                        <dt class="field-type">Field-Type:</dt>
+          <dl class="options clearfix">
 
-                        <dt class="properties">Properties:</dt>
+            <dt class="field-type">Field-Type:</dt>
 
-                        <dt class="schema">Schema:</dt>
+            <dt class="properties">Properties:</dt>
 
-                        <dt class="index">Index:</dt>
+            <dt class="schema">Schema:</dt>
 
-                        <dt class="position-increment-gap"><abbr title="Position Increment Gap">PI Gap</abbr>:</dt>
+            <dt class="index">Index:</dt>
 
-                        <dt class="docs">Docs:</dt>
+            <dt class="position-increment-gap"><abbr title="Position Increment Gap">PI Gap</abbr>:</dt>
 
-                        <dt class="distinct">Distinct:</dt>
+            <dt class="docs">Docs:</dt>
+
+            <dt class="distinct">Distinct:</dt>
                         
-                    </dl>
-
-                    <ul class="analyzer">
-                        <li class="clearfix index">
-
-                            <p>Index Analyzer:</p>
-                            <dl>
-                                <dt></dt>
-                            </dl>
-
-                            <ul>
-                                <li class="clearfix tokenizer">
-                                    <p>Tokenizer:</p>
-                                    <dl>
-                                    </dl>
-                                </li>
-                                <li class="clearfix filters">
-                                    <p>Filters:</p>
-                                    <dl>
-                                    </dl>
-                                </li>
-                            </ul>
+          </dl>
+
+          <ul class="analyzer">
+            <li class="clearfix index">
+
+              <p>Index Analyzer:</p>
+              <dl>
+                <dt><a class="toggle"></a></dt>
+              </dl>
+
+              <ul>
+                <li class="clearfix tokenizer">
+                  <p>Tokenizer:</p>
+                  <dl>
+                  </dl>
+                </li>
+                <li class="clearfix filters">
+                  <p>Filters:</p>
+                  <dl>
+                  </dl>
+                </li>
+              </ul>
                             
-                        </li>
-                        <li class="clearfix query">
-
-                            <p>Query Analyzer:</p>
-                            <dl>
-                                <dt></dt>
-                            </dl>
-
-                            <ul>
-                                <li class="clearfix tokenizer">
-                                    <p>Tokenizer:</p>
-                                    <dl>
-                                    </dl>
-                                </li>
-                                <li class="clearfix filters">
-                                    <p>Filters:</p>
-                                    <dl>
-                                    </dl>
-                                </li>
-                            </ul>
+            </li>
+            <li class="clearfix query">
+
+              <p>Query Analyzer:</p>
+              <dl>
+                <dt><a class="toggle"></a></dt>
+              </dl>
+
+              <ul>
+                <li class="clearfix tokenizer">
+                  <p>Tokenizer:</p>
+                  <dl>
+                  </dl>
+                </li>
+                <li class="clearfix filters">
+                  <p>Filters:</p>
+                  <dl>
+                  </dl>
+                </li>
+              </ul>
                             
-                        </li>
-                    </ul>
-
-                </div>
+            </li>
+          </ul>
 
-                <div class="terminfo-holder clearfix">
+        </div>
 
-                    <div class="status loader">Loading Term Info ...</div>
+        <div class="terminfo-holder clearfix">
 
-                    <div class="topterms-holder">
+          <div class="trigger">
 
-                        <p class="head">Top <span class="shown"></span><span class="max-holder">/<span class="max"></span></span> Terms:</p>
+            <button class="submit">Load Term Info</button>
 
-                        <table border="0" cellspacing="0" cellpadding="0">
+            <a class="autoload" title="Automatically load Term Info?"><span>Autoload??</span></a>
 
-                            <thead>
+          </div>
 
-                                <tr>
+          <p class="status">Sorry, no Term Info available :(</p>
 
-                                    <th class="position" title="Position">&nbsp;</th>
-                                    <th class="term">Term</th>
-                                    <th class="frequency" title="Frequency">Frq</th>
-                                
-                                </tr>
+          <div class="topterms-holder">
 
-                            </thead>
+            <form>
+            <p class="head">
+              <input type="text">
+              <a class="max-holder" title="Load all Top-Terms">/<span class="max"></span></a> Top-Terms:
+            </p>
+            </form>
 
-                        </table>
+            <ul>
 
-                        <p class="navi clearfix">
-                            <a class="less"><span>less</span></a>
-                            <a class="more"><span>more</span></a>
-                        </p>
+            </ul>
 
-                    </div>
+          </div>
 
-                    <div class="histogram-holder">
+          <div class="histogram-holder">
 
-                        <p class="head">Histogram:</p>
+            <p class="head">Histogram:</p>
 
-                        <div class="histogram"></div>
+            <div class="histogram"></div>
 
-                        <dl class="clearfix">
+            <dl class="clearfix">
 
-                        </dl>
+            </dl>
                     
-                    </div>
+          </div>
 
-                </div>
+        </div>
 
-            </div>
+      </div>
 
-        </div>
+    </div>
 
-        <div id="related">
+    <div id="related">
 
-            <select>
-                <option value="" selected="selected">Please select ...</option>
-            </select>
+      <select>
+        <option value="" selected="selected">Please select ...</option>
+      </select>
 
-            <dl id="f-df-t">
-            </dl>
+      <dl id="f-df-t">
+      </dl>
 
-            <dl class="ukf-dsf">
+      <dl class="ukf-dsf">
 
-                <dt class="unique-key-field">Unique Key Field</dt>
+        <dt class="unique-key-field">Unique Key Field</dt>
 
-                <dt class="default-search-field">Default Search Field</dt>
+        <dt class="default-search-field">Default Search Field</dt>
             
-            </dl>   
-
-        </div>
+      </dl>   
 
     </div>
 
+  </div>
+
 </div>
\ No newline at end of file
diff --git a/solr/webapp/web/tpl/threads.html b/solr/webapp/web/tpl/threads.html
index 4591f69..87153ba 100644
--- a/solr/webapp/web/tpl/threads.html
+++ b/solr/webapp/web/tpl/threads.html
@@ -16,41 +16,41 @@ limitations under the License.
 -->
 <div id="threads" class="collapsed">
 
-    <div class="controls">
-        <a>
-            <span class="expand">Show all Stacktraces</span>
-            <span class="collapse">Hide all Stacktraces</span>
-        </a>
-    </div>
+  <div class="controls">
+    <a>
+      <span class="expand">Show all Stacktraces</span>
+      <span class="collapse">Hide all Stacktraces</span>
+    </a>
+  </div>
 
-    <div id="thread-dump">
+  <div id="thread-dump">
 
-        <table border="0" cellpadding="0" cellspacing="0">
+    <table border="0" cellpadding="0" cellspacing="0">
 
-            <thead>
+      <thead>
 
-                <tr>
+        <tr>
 
-                    <th class="name">name</th>
-                    <th class="time">cpuTime / userTime</th>
+          <th class="name">name</th>
+          <th class="time">cpuTime / userTime</th>
                 
-                </tr>
+        </tr>
 
-            </thead>
+      </thead>
 
-            <tbody>
+      <tbody>
 
-            </tbody>
+      </tbody>
 
-        </table>
+    </table>
     
-    </div>
-
-    <div class="controls">
-        <a>
-            <span class="expand">Show all Stacktraces</span>
-            <span class="collapse">Hide all Stacktraces</span>
-        </a>
-    </div>
+  </div>
+
+  <div class="controls">
+    <a>
+      <span class="expand">Show all Stacktraces</span>
+      <span class="collapse">Hide all Stacktraces</span>
+    </a>
+  </div>
 
 </div>
\ No newline at end of file

