GitDiffStart: a5bd0e63cb60ea95f8b0ecb304f033b1ea06129b | Fri Apr 27 08:55:28 2012 +0000
diff --git a/lucene/core/src/java/org/apache/lucene/search/DisjunctionMaxScorer.java b/lucene/core/src/java/org/apache/lucene/search/DisjunctionMaxScorer.java
index 9995062..6e87343 100644
--- a/lucene/core/src/java/org/apache/lucene/search/DisjunctionMaxScorer.java
+++ b/lucene/core/src/java/org/apache/lucene/search/DisjunctionMaxScorer.java
@@ -17,6 +17,9 @@ package org.apache.lucene.search;
  */
 
 import java.io.IOException;
+import java.util.Arrays;
+import java.util.Collection;
+import java.util.Collections;
 
 /**
  * The Scorer for DisjunctionMaxQuery.  The union of all documents generated by the the subquery scorers
@@ -183,4 +186,12 @@ class DisjunctionMaxScorer extends Scorer {
     }
   }
 
+  @Override
+  public Collection<ChildScorer> getChildren() {
+    final ChildScorer[] children = new ChildScorer[numScorers];
+    for (int i = 0; i< numScorers; i++) {
+      children[i] = new ChildScorer(subScorers[i], BooleanClause.Occur.SHOULD.toString());
+    }
+    return Collections.unmodifiableCollection(Arrays.asList(children));
+  }
 }

