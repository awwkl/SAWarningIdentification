GitDiffStart: 25135dd2daff66618956322d7d63ae39a09b7733 | Mon Jul 27 21:13:08 2009 +0000
diff --git a/client/ruby/flare/README b/client/ruby/flare/README
index 7b7f879..9c1858c 100644
--- a/client/ruby/flare/README
+++ b/client/ruby/flare/README
@@ -1,3 +1,16 @@
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
+
 == Welcome to Solr Flare
 
 Flare promises to expose the power of Solr through a Rails-based user interface. Integral to Flare will be general purpose faceted browsing, auto-suggest, folksonomy tagging/annotating, and much more.
diff --git a/client/ruby/flare/Rakefile b/client/ruby/flare/Rakefile
index e9b54dd..98a185e 100644
--- a/client/ruby/flare/Rakefile
+++ b/client/ruby/flare/Rakefile
@@ -1,3 +1,15 @@
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
 # Add your own tasks in files placed in lib/tasks ending in .rake,
 # for example lib/tasks/capistrano.rake, and they will automatically be available to Rake.
 
diff --git a/client/ruby/flare/app/helpers/application_helper.rb b/client/ruby/flare/app/helpers/application_helper.rb
index a0c9177..b72ef86 100644
--- a/client/ruby/flare/app/helpers/application_helper.rb
+++ b/client/ruby/flare/app/helpers/application_helper.rb
@@ -1,5 +1,14 @@
-# Copyright:: Copyright (c) 2007 Apache Software Foundation
-# License::   Apache Version 2.0 (see http://www.apache.org/licenses/)
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
 
 # Methods added to this helper will be available to all templates in the application.
 module ApplicationHelper
diff --git a/client/ruby/flare/app/helpers/browse_helper.rb b/client/ruby/flare/app/helpers/browse_helper.rb
index 1e343cc..7d520e7 100644
--- a/client/ruby/flare/app/helpers/browse_helper.rb
+++ b/client/ruby/flare/app/helpers/browse_helper.rb
@@ -1,5 +1,14 @@
-# Copyright:: Copyright (c) 2007 Apache Software Foundation
-# License::   Apache Version 2.0 (see http://www.apache.org/licenses/)
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
 
 module BrowseHelper
 end
diff --git a/client/ruby/flare/app/views/browse/_suggest.rhtml b/client/ruby/flare/app/views/browse/_suggest.rhtml
index 1d49a86..6cb4b05 100755
--- a/client/ruby/flare/app/views/browse/_suggest.rhtml
+++ b/client/ruby/flare/app/views/browse/_suggest.rhtml
@@ -1,3 +1,16 @@
+<%
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+%>
 <ul class="cookies">
 <%
 @values.each do |value|
diff --git a/client/ruby/flare/app/views/browse/facet.rhtml b/client/ruby/flare/app/views/browse/facet.rhtml
index fbe281f..bf658cb 100755
--- a/client/ruby/flare/app/views/browse/facet.rhtml
+++ b/client/ruby/flare/app/views/browse/facet.rhtml
@@ -1,33 +1,46 @@
+<%
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+%>
 <div id="variables">
-	<div class="clear">
-		<%=link_to '[clear constraints]', :action => 'clear'%>
-	</div>
-	
+  <div class="clear">
+    <%=link_to '[clear constraints]', :action => 'clear'%>
+  </div>
+  
 <div>
 Queries:
-	<div id="queries">
+  <div id="queries">
 <% @flare.queries.each_with_index do |q,i| %>
 <%=link_to q[:negative] ? "-" : '+', :action => :invert_query, :index => i%>
 <span id="query_<%=i%>"><%=q[:query]%></span>
 <%= in_place_editor "query_#{i}", :url=> url_for(:action=>"update_query", :index=>i) %>
 <%=link_to image_tag("x-close.gif"), :action => :remove_query, :index => i %><br/>
 <% end %>
-	</div>
+  </div>
 </div>
 
 <div>
 Filters:
-	<div id="filters">
+  <div id="filters">
 <% @flare.filters.each_with_index do |filter, i| %>
       <%=link_to filter[:negative] ? "-" : "+", :action => :invert_filter, :index => i%>
       <%=filter[:field]%>:<%=filter[:value]%>
       <%=link_to image_tag("x-close.gif"), :action => :remove_filter, :index => i %>
 <% end %>
-	</div>
+  </div>
 </div>
 
 <div class="clear">
-	<%=link_to '[clear constraints]', :action => 'clear'%>
+  <%=link_to '[clear constraints]', :action => 'clear'%>
 </div>
 
 </div>
diff --git a/client/ruby/flare/app/views/document/_document_delicious.rhtml b/client/ruby/flare/app/views/document/_document_delicious.rhtml
index f71217a..dca714b 100755
--- a/client/ruby/flare/app/views/document/_document_delicious.rhtml
+++ b/client/ruby/flare/app/views/document/_document_delicious.rhtml
@@ -1,3 +1,16 @@
+<%
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+%>
 <tr valign="top">
   <td>
     <%=image_tag "http://images.amazon.com/images/P/#{doc['id']}.01.MZZZZZZZ" %>
diff --git a/client/ruby/flare/app/views/document/_document_tang.rhtml b/client/ruby/flare/app/views/document/_document_tang.rhtml
index c7913d7..5be65f2 100755
--- a/client/ruby/flare/app/views/document/_document_tang.rhtml
+++ b/client/ruby/flare/app/views/document/_document_tang.rhtml
@@ -1,4 +1,17 @@
 <%
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+%>
+<%
   body_zh_highlighted = response.highlighted(doc['id'], 'body_zh_text')
   body_en_highlighted = response.highlighted(doc['id'], 'body_en_text')
 -%>
diff --git a/client/ruby/flare/app/views/document/_document_uva.rhtml b/client/ruby/flare/app/views/document/_document_uva.rhtml
index 0132ac1..40696a9 100755
--- a/client/ruby/flare/app/views/document/_document_uva.rhtml
+++ b/client/ruby/flare/app/views/document/_document_uva.rhtml
@@ -1,4 +1,17 @@
 <%
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+%>
+<%
     virgo_link = "http://virgo.lib.virginia.edu/uhtbin/cgisirsi/uva/0/0/5?searchdata1=#{doc['id'][1..-1]}%7bCKEY%7d"
     # url = URI.parse(virgo_link)
     # res = Net::HTTP.start(url.host, url.port) {|http|
diff --git a/client/ruby/flare/app/views/i18n/index.rhtml b/client/ruby/flare/app/views/i18n/index.rhtml
index 3388828..98161b0 100644
--- a/client/ruby/flare/app/views/i18n/index.rhtml
+++ b/client/ruby/flare/app/views/i18n/index.rhtml
@@ -1,3 +1,16 @@
+<%
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+%>
 <% @results[0]['features'].each do |f| %>
   <%= h f%>
 <% end %>
\ No newline at end of file
diff --git a/client/ruby/flare/app/views/layouts/browse.rhtml b/client/ruby/flare/app/views/layouts/browse.rhtml
index cc1fea4..18a15f5 100755
--- a/client/ruby/flare/app/views/layouts/browse.rhtml
+++ b/client/ruby/flare/app/views/layouts/browse.rhtml
@@ -1,3 +1,16 @@
+<%
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+%>
 <html>
   <head>
     <title>Solr flare: <%=controller.action_name%></title>
diff --git a/client/ruby/flare/config/boot.rb b/client/ruby/flare/config/boot.rb
index b7af0c3..ac6267f 100644
--- a/client/ruby/flare/config/boot.rb
+++ b/client/ruby/flare/config/boot.rb
@@ -1,3 +1,15 @@
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
 # Don't change this file. Configuration is done in config/environment.rb and config/environments/*.rb
 
 unless defined?(RAILS_ROOT)
diff --git a/client/ruby/flare/config/database.yml b/client/ruby/flare/config/database.yml
index b72df7f..29c5c53 100644
--- a/client/ruby/flare/config/database.yml
+++ b/client/ruby/flare/config/database.yml
@@ -1,3 +1,15 @@
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
 # NOTE: Flare currently does not use a database, but there are plans to eventually leverage a relational database 
 #       in conjunction with Solr.  When a database is added, lib/tasks/clear_database_prerequisites.rake should be removed.
 
diff --git a/client/ruby/flare/config/environment.rb b/client/ruby/flare/config/environment.rb
index 1177085..b545733 100644
--- a/client/ruby/flare/config/environment.rb
+++ b/client/ruby/flare/config/environment.rb
@@ -1,3 +1,15 @@
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
 # Be sure to restart your web server when you modify this file.
 
 # Uncomment below to force Rails into production mode when 
diff --git a/client/ruby/flare/config/environments/development.rb b/client/ruby/flare/config/environments/development.rb
index 0589aa9..63570f6 100644
--- a/client/ruby/flare/config/environments/development.rb
+++ b/client/ruby/flare/config/environments/development.rb
@@ -1,3 +1,15 @@
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
 # Settings specified here will take precedence over those in config/environment.rb
 
 # In the development environment your application's code is reloaded on
diff --git a/client/ruby/flare/config/environments/production.rb b/client/ruby/flare/config/environments/production.rb
index cb295b8..5f8a29a 100644
--- a/client/ruby/flare/config/environments/production.rb
+++ b/client/ruby/flare/config/environments/production.rb
@@ -1,3 +1,15 @@
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
 # Settings specified here will take precedence over those in config/environment.rb
 
 # The production environment is meant for finished, "live" apps.
diff --git a/client/ruby/flare/config/environments/test.rb b/client/ruby/flare/config/environments/test.rb
index f0689b9..1c4e13d6 100644
--- a/client/ruby/flare/config/environments/test.rb
+++ b/client/ruby/flare/config/environments/test.rb
@@ -1,3 +1,15 @@
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
 # Settings specified here will take precedence over those in config/environment.rb
 
 # The test environment is used exclusively to run your application's
diff --git a/client/ruby/flare/config/routes.rb b/client/ruby/flare/config/routes.rb
index 54855e5..c4a2125 100644
--- a/client/ruby/flare/config/routes.rb
+++ b/client/ruby/flare/config/routes.rb
@@ -1,3 +1,15 @@
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
 ActionController::Routing::Routes.draw do |map|
   # The priority is based upon order of creation: first created -> highest priority.
   
diff --git a/client/ruby/flare/db/schema.rb b/client/ruby/flare/db/schema.rb
index e69de29..873a19b 100644
--- a/client/ruby/flare/db/schema.rb
+++ b/client/ruby/flare/db/schema.rb
@@ -0,0 +1,11 @@
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
diff --git a/client/ruby/flare/doc/README_FOR_APP b/client/ruby/flare/doc/README_FOR_APP
deleted file mode 100644
index ac6c149..0000000
--- a/client/ruby/flare/doc/README_FOR_APP
+++ /dev/null
@@ -1,2 +0,0 @@
-Use this README file to introduce your application and point to useful places in the API for learning more.
-Run "rake appdoc" to generate API documentation for your models and controllers.
\ No newline at end of file
diff --git a/client/ruby/flare/public/.htaccess b/client/ruby/flare/public/.htaccess
index d3c9983..8a74972 100644
--- a/client/ruby/flare/public/.htaccess
+++ b/client/ruby/flare/public/.htaccess
@@ -1,3 +1,15 @@
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
 # General Apache options
 AddHandler fastcgi-script .fcgi
 AddHandler cgi-script .cgi
diff --git a/client/ruby/flare/public/404.html b/client/ruby/flare/public/404.html
index eff660b..dd0fca8 100644
--- a/client/ruby/flare/public/404.html
+++ b/client/ruby/flare/public/404.html
@@ -1,3 +1,16 @@
+<!--
+  # The ASF licenses this file to You under the Apache License, Version 2.0
+  # (the "License"); you may not use this file except in compliance with
+  # the License.  You may obtain a copy of the License at
+  #
+  #     http://www.apache.org/licenses/LICENSE-2.0
+  #
+  # Unless required by applicable law or agreed to in writing, software
+  # distributed under the License is distributed on an "AS IS" BASIS,
+  # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  # See the License for the specific language governing permissions and
+  # limitations under the License.
+-->
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
 
diff --git a/client/ruby/flare/public/500.html b/client/ruby/flare/public/500.html
index f0aee0e..d20477d 100644
--- a/client/ruby/flare/public/500.html
+++ b/client/ruby/flare/public/500.html
@@ -1,3 +1,16 @@
+<!--
+  # The ASF licenses this file to You under the Apache License, Version 2.0
+  # (the "License"); you may not use this file except in compliance with
+  # the License.  You may obtain a copy of the License at
+  #
+  #     http://www.apache.org/licenses/LICENSE-2.0
+  #
+  # Unless required by applicable law or agreed to in writing, software
+  # distributed under the License is distributed on an "AS IS" BASIS,
+  # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  # See the License for the specific language governing permissions and
+  # limitations under the License.
+-->
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
 
diff --git a/client/ruby/flare/public/dispatch.cgi b/client/ruby/flare/public/dispatch.cgi
index a76782a..cb8f7d3 100755
--- a/client/ruby/flare/public/dispatch.cgi
+++ b/client/ruby/flare/public/dispatch.cgi
@@ -1,5 +1,17 @@
 #!/opt/local/bin/ruby
 
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
 require File.dirname(__FILE__) + "/../config/environment" unless defined?(RAILS_ROOT)
 
 # If you're using RubyGems and mod_ruby, this require should be changed to an absolute path one, like:
diff --git a/client/ruby/flare/public/dispatch.fcgi b/client/ruby/flare/public/dispatch.fcgi
index a526766..1a5278d 100755
--- a/client/ruby/flare/public/dispatch.fcgi
+++ b/client/ruby/flare/public/dispatch.fcgi
@@ -1,4 +1,17 @@
 #!/opt/local/bin/ruby
+
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
 #
 # You may specify the path to the FastCGI crash log (a log of unhandled
 # exceptions which forced the FastCGI instance to exit, great for debugging)
diff --git a/client/ruby/flare/public/dispatch.rb b/client/ruby/flare/public/dispatch.rb
index a76782a..cb8f7d3 100755
--- a/client/ruby/flare/public/dispatch.rb
+++ b/client/ruby/flare/public/dispatch.rb
@@ -1,5 +1,17 @@
 #!/opt/local/bin/ruby
 
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
 require File.dirname(__FILE__) + "/../config/environment" unless defined?(RAILS_ROOT)
 
 # If you're using RubyGems and mod_ruby, this require should be changed to an absolute path one, like:
diff --git a/client/ruby/flare/public/javascripts/application.js b/client/ruby/flare/public/javascripts/application.js
index fe45776..2cbbc17 100644
--- a/client/ruby/flare/public/javascripts/application.js
+++ b/client/ruby/flare/public/javascripts/application.js
@@ -1,2 +1,16 @@
+/*
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+*/
+
 // Place your application-specific JavaScript functions and classes here
 // This file is automatically included by javascript_include_tag :defaults
diff --git a/client/ruby/flare/public/robots.txt b/client/ruby/flare/public/robots.txt
deleted file mode 100644
index 4ab9e89..0000000
--- a/client/ruby/flare/public/robots.txt
+++ /dev/null
@@ -1 +0,0 @@
-# See http://www.robotstxt.org/wc/norobots.html for documentation on how to use the robots.txt file
\ No newline at end of file
diff --git a/client/ruby/flare/public/stylesheets/flare.css b/client/ruby/flare/public/stylesheets/flare.css
index d033b65..17150ab 100644
--- a/client/ruby/flare/public/stylesheets/flare.css
+++ b/client/ruby/flare/public/stylesheets/flare.css
@@ -1,3 +1,17 @@
+/*
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+*/
+
 body {
   font-family: Verdana, Geneva, Arial, helvetica, sans-serif;
   font-size: 12px;
@@ -5,162 +19,162 @@ body {
 }
 
 #header {
-	font-size: 22px;
-	margin-bottom: -10px;
-	width: 200px;
-	border-top: 4px solid #D43D1A;
-	border-left: 4px solid #EE4000;
-  	background:url(../images/flare.jpg) no-repeat left top; 
+    font-size: 22px;
+    margin-bottom: -10px;
+    width: 200px;
+    border-top: 4px solid #D43D1A;
+    border-left: 4px solid #EE4000;
+    background:url(../images/flare.jpg) no-repeat left top; 
 }
 
 #header a {
-	color: #EE4000;
+    color: #EE4000;
 }
 
 #header a:hover {
-	color: #CD3700;
+    color: #CD3700;
 }
 
 a img {
-	border: 0;
+    border: 0;
 }
 
 td {
-	font-family: Verdana, Geneva, Arial, helvetica, sans-serif;
-	font-size: 11px;
+    font-family: Verdana, Geneva, Arial, helvetica, sans-serif;
+    font-size: 11px;
 }
 a, a:visited {
-	color: #cc6633;
-	text-decoration: none;
+    color: #cc6633;
+    text-decoration: none;
 }
 a:hover {
-	color: #ff9933; 
-	text-decoration: none;
+    color: #ff9933; 
+    text-decoration: none;
 }
 
 h2 {
-	font-size: 16px;
-	font-weight: normal;
-	}
+    font-size: 16px;
+    font-weight: normal;
+    }
 
 h4 {
-	font-size: 13px;
-	font-weight: normal;
-	letter-spacing: .2em;
-	}
-	
+    font-size: 13px;
+    font-weight: normal;
+    letter-spacing: .2em;
+    }
+    
 h4 a {
-		font-size: 11px;
-		letter-spacing: normal;
-		}
+        font-size: 11px;
+        letter-spacing: normal;
+        }
 
 h4 a:hover {
-	text-decoration: none;
-	}
+    text-decoration: none;
+    }
 
 em {
-	color: #000;
+    color: #000;
 }
 
 #sidebar {
-	float: right;
-	width: 339px;
-	font-size: 11px;
-	line-height: 20px;
-	margin-bottom: 20px;
-	padding: 10px;
+    float: right;
+    width: 339px;
+    font-size: 11px;
+    line-height: 20px;
+    margin-bottom: 20px;
+    padding: 10px;
 }
 
 .searchbar {
-	line-height: 12px;
+    line-height: 12px;
 }
 
 #sidebar ul {
-	list-style: none;
-	margin-left: -20px;
-	margin-top: -10px;
+    list-style: none;
+    margin-left: -20px;
+    margin-top: -10px;
 }
 
 #sidebar img {
-	vertical-align: middle;
+    vertical-align: middle;
 }
 
 #sidebar .exhibit {
-	float: right;
+    float: right;
 }
 
 #variables {
-	padding: 20px;
+    padding: 20px;
 }
 
 .varheader {
-	font-size: 14px;
-	font-weight: normal;
-	letter-spacing: .2em;	
+    font-size: 14px;
+    font-weight: normal;
+    letter-spacing: .2em;   
 }
 
 #queries img {
-	vertical-align: baseline;
-	width:14px;
+    vertical-align: baseline;
+    width:14px;
 }
 
 #queries {
-	margin-left: 10px;
-	color: #666;
+    margin-left: 10px;
+    color: #666;
 }
 
 #filters img {
-	vertical-align: baseline;
-	width:14px;
+    vertical-align: baseline;
+    width:14px;
 }
 
 #filters {
-	margin-left: 10px;
-	color: #666;
+    margin-left: 10px;
+    color: #666;
 }
 
 .clear {
-	padding: 10px 0 10px 0px;
-	font-size: 11px;
+    padding: 10px 0 10px 0px;
+    font-size: 11px;
 }
 
 .resultsheader {
-	font-size: 14px;
-	font-weight: normal;
-	letter-spacing: .2em;
-	margin-bottom: -20px;
+    font-size: 14px;
+    font-weight: normal;
+    letter-spacing: .2em;
+    margin-bottom: -20px;
 }
 
 #results {
-	padding: 20px;
-	margin-right: 380px;
+    padding: 20px;
+    margin-right: 380px;
 }
 
 .resultsPager {
-	padding: 4px;
-	margin-top: 30px;
-	margin-bottom: 20px;
-	border: 1px solid #A2C9EF;
-	background-color: #E4F1FD;
+    padding: 4px;
+    margin-top: 30px;
+    margin-bottom: 20px;
+    border: 1px solid #A2C9EF;
+    background-color: #E4F1FD;
 }
 
 .title {
-	font-size: 13px;
-	color: #000;
-	letter-spacing: .1em;
+    font-size: 13px;
+    color: #000;
+    letter-spacing: .1em;
 }
 
 .entry {
-	color: #666;
+    color: #666;
 }
 
 .field {
-	color: #999;
-	font-style: italic;
+    color: #999;
+    font-style: italic;
 }
 
 div.auto_complete {
-	padding-left: 20px;
-	padding-top: 10px;
-	background: #fff;
+    padding-left: 20px;
+    padding-top: 10px;
+    background: #fff;
 }
diff --git a/client/ruby/flare/script/about b/client/ruby/flare/script/about
index 7b07d46..f30f07e 100755
--- a/client/ruby/flare/script/about
+++ b/client/ruby/flare/script/about
@@ -1,3 +1,15 @@
 #!/usr/bin/env ruby
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
 require File.dirname(__FILE__) + '/../config/boot'
 require 'commands/about'
\ No newline at end of file
diff --git a/client/ruby/flare/script/breakpointer b/client/ruby/flare/script/breakpointer
index 64af76e..ce02815 100755
--- a/client/ruby/flare/script/breakpointer
+++ b/client/ruby/flare/script/breakpointer
@@ -1,3 +1,15 @@
 #!/usr/bin/env ruby
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
 require File.dirname(__FILE__) + '/../config/boot'
 require 'commands/breakpointer'
\ No newline at end of file
diff --git a/client/ruby/flare/script/console b/client/ruby/flare/script/console
index 42f28f7..7c2f7a4 100755
--- a/client/ruby/flare/script/console
+++ b/client/ruby/flare/script/console
@@ -1,3 +1,15 @@
 #!/usr/bin/env ruby
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
 require File.dirname(__FILE__) + '/../config/boot'
 require 'commands/console'
\ No newline at end of file
diff --git a/client/ruby/flare/script/destroy b/client/ruby/flare/script/destroy
index fa0e6fc..96ca14a 100755
--- a/client/ruby/flare/script/destroy
+++ b/client/ruby/flare/script/destroy
@@ -1,3 +1,15 @@
 #!/usr/bin/env ruby
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
 require File.dirname(__FILE__) + '/../config/boot'
 require 'commands/destroy'
\ No newline at end of file
diff --git a/client/ruby/flare/script/generate b/client/ruby/flare/script/generate
index ef976e0..6c6fcb0 100755
--- a/client/ruby/flare/script/generate
+++ b/client/ruby/flare/script/generate
@@ -1,3 +1,15 @@
 #!/usr/bin/env ruby
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
 require File.dirname(__FILE__) + '/../config/boot'
 require 'commands/generate'
\ No newline at end of file
diff --git a/client/ruby/flare/script/performance/benchmarker b/client/ruby/flare/script/performance/benchmarker
index c842d35..5bedc81 100755
--- a/client/ruby/flare/script/performance/benchmarker
+++ b/client/ruby/flare/script/performance/benchmarker
@@ -1,3 +1,15 @@
 #!/usr/bin/env ruby
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
 require File.dirname(__FILE__) + '/../../config/boot'
 require 'commands/performance/benchmarker'
diff --git a/client/ruby/flare/script/performance/profiler b/client/ruby/flare/script/performance/profiler
index d855ac8..3daeaab 100755
--- a/client/ruby/flare/script/performance/profiler
+++ b/client/ruby/flare/script/performance/profiler
@@ -1,3 +1,15 @@
 #!/usr/bin/env ruby
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
 require File.dirname(__FILE__) + '/../../config/boot'
 require 'commands/performance/profiler'
diff --git a/client/ruby/flare/script/plugin b/client/ruby/flare/script/plugin
index 26ca64c..3ba1934 100755
--- a/client/ruby/flare/script/plugin
+++ b/client/ruby/flare/script/plugin
@@ -1,3 +1,15 @@
 #!/usr/bin/env ruby
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
 require File.dirname(__FILE__) + '/../config/boot'
 require 'commands/plugin'
\ No newline at end of file
diff --git a/client/ruby/flare/script/process/inspector b/client/ruby/flare/script/process/inspector
index bf25ad8..5653e91 100755
--- a/client/ruby/flare/script/process/inspector
+++ b/client/ruby/flare/script/process/inspector
@@ -1,3 +1,15 @@
 #!/usr/bin/env ruby
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
 require File.dirname(__FILE__) + '/../../config/boot'
 require 'commands/process/inspector'
diff --git a/client/ruby/flare/script/process/reaper b/client/ruby/flare/script/process/reaper
index c77f045..7dd181a 100755
--- a/client/ruby/flare/script/process/reaper
+++ b/client/ruby/flare/script/process/reaper
@@ -1,3 +1,15 @@
 #!/usr/bin/env ruby
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
 require File.dirname(__FILE__) + '/../../config/boot'
 require 'commands/process/reaper'
diff --git a/client/ruby/flare/script/process/spawner b/client/ruby/flare/script/process/spawner
index 7118f39..2e9b27d 100755
--- a/client/ruby/flare/script/process/spawner
+++ b/client/ruby/flare/script/process/spawner
@@ -1,3 +1,15 @@
 #!/usr/bin/env ruby
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
 require File.dirname(__FILE__) + '/../../config/boot'
 require 'commands/process/spawner'
diff --git a/client/ruby/flare/script/runner b/client/ruby/flare/script/runner
index ccc30f9..05ba157 100755
--- a/client/ruby/flare/script/runner
+++ b/client/ruby/flare/script/runner
@@ -1,3 +1,15 @@
 #!/usr/bin/env ruby
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
 require File.dirname(__FILE__) + '/../config/boot'
 require 'commands/runner'
\ No newline at end of file
diff --git a/client/ruby/flare/script/server b/client/ruby/flare/script/server
index dfabcb8..5ddadff 100755
--- a/client/ruby/flare/script/server
+++ b/client/ruby/flare/script/server
@@ -1,3 +1,15 @@
 #!/usr/bin/env ruby
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
 require File.dirname(__FILE__) + '/../config/boot'
 require 'commands/server'
\ No newline at end of file
diff --git a/client/ruby/flare/test/test_helper.rb b/client/ruby/flare/test/test_helper.rb
index 376b9e4..cc17dff 100644
--- a/client/ruby/flare/test/test_helper.rb
+++ b/client/ruby/flare/test/test_helper.rb
@@ -1,3 +1,15 @@
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
 ENV["RAILS_ENV"] = "test"
 require File.expand_path(File.dirname(__FILE__) + "/../config/environment")
 
diff --git a/client/ruby/flare/vendor/plugins/flare/app/controllers/document_controller.rb b/client/ruby/flare/vendor/plugins/flare/app/controllers/document_controller.rb
index 48290af..b11e345 100755
--- a/client/ruby/flare/vendor/plugins/flare/app/controllers/document_controller.rb
+++ b/client/ruby/flare/vendor/plugins/flare/app/controllers/document_controller.rb
@@ -10,7 +10,6 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-
 class DocumentController < ApplicationController
   # Currently not used, as partials are used for rendering documents in search results
   # TODO: how best to allow pluggable document rendering?
diff --git a/client/ruby/flare/vendor/plugins/flare/app/controllers/simile_controller.rb b/client/ruby/flare/vendor/plugins/flare/app/controllers/simile_controller.rb
index ae78a43..d11791c 100755
--- a/client/ruby/flare/vendor/plugins/flare/app/controllers/simile_controller.rb
+++ b/client/ruby/flare/vendor/plugins/flare/app/controllers/simile_controller.rb
@@ -10,7 +10,6 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-
 class SimileController < ApplicationController
   before_filter :flare_before
   
diff --git a/client/ruby/flare/vendor/plugins/flare/app/helpers/application_helper.rb b/client/ruby/flare/vendor/plugins/flare/app/helpers/application_helper.rb
index b3aae31..2af0b89 100755
--- a/client/ruby/flare/vendor/plugins/flare/app/helpers/application_helper.rb
+++ b/client/ruby/flare/vendor/plugins/flare/app/helpers/application_helper.rb
@@ -1,3 +1,15 @@
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
 module ApplicationHelper
   def facet_label(field)
      field.match(/(.*)_.*/)[1].humanize.downcase
diff --git a/client/ruby/flare/vendor/plugins/flare/app/views/browse/_suggest.rhtml b/client/ruby/flare/vendor/plugins/flare/app/views/browse/_suggest.rhtml
index 1d49a86..6cb4b05 100755
--- a/client/ruby/flare/vendor/plugins/flare/app/views/browse/_suggest.rhtml
+++ b/client/ruby/flare/vendor/plugins/flare/app/views/browse/_suggest.rhtml
@@ -1,3 +1,16 @@
+<%
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+%>
 <ul class="cookies">
 <%
 @values.each do |value|
diff --git a/client/ruby/flare/vendor/plugins/flare/app/views/browse/facet.rhtml b/client/ruby/flare/vendor/plugins/flare/app/views/browse/facet.rhtml
index fbe281f..bf658cb 100755
--- a/client/ruby/flare/vendor/plugins/flare/app/views/browse/facet.rhtml
+++ b/client/ruby/flare/vendor/plugins/flare/app/views/browse/facet.rhtml
@@ -1,33 +1,46 @@
+<%
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+%>
 <div id="variables">
-	<div class="clear">
-		<%=link_to '[clear constraints]', :action => 'clear'%>
-	</div>
-	
+  <div class="clear">
+    <%=link_to '[clear constraints]', :action => 'clear'%>
+  </div>
+  
 <div>
 Queries:
-	<div id="queries">
+  <div id="queries">
 <% @flare.queries.each_with_index do |q,i| %>
 <%=link_to q[:negative] ? "-" : '+', :action => :invert_query, :index => i%>
 <span id="query_<%=i%>"><%=q[:query]%></span>
 <%= in_place_editor "query_#{i}", :url=> url_for(:action=>"update_query", :index=>i) %>
 <%=link_to image_tag("x-close.gif"), :action => :remove_query, :index => i %><br/>
 <% end %>
-	</div>
+  </div>
 </div>
 
 <div>
 Filters:
-	<div id="filters">
+  <div id="filters">
 <% @flare.filters.each_with_index do |filter, i| %>
       <%=link_to filter[:negative] ? "-" : "+", :action => :invert_filter, :index => i%>
       <%=filter[:field]%>:<%=filter[:value]%>
       <%=link_to image_tag("x-close.gif"), :action => :remove_filter, :index => i %>
 <% end %>
-	</div>
+  </div>
 </div>
 
 <div class="clear">
-	<%=link_to '[clear constraints]', :action => 'clear'%>
+  <%=link_to '[clear constraints]', :action => 'clear'%>
 </div>
 
 </div>
diff --git a/client/ruby/flare/vendor/plugins/flare/app/views/browse/index.rhtml b/client/ruby/flare/vendor/plugins/flare/app/views/browse/index.rhtml
index 1fa586f..858d10c 100755
--- a/client/ruby/flare/vendor/plugins/flare/app/views/browse/index.rhtml
+++ b/client/ruby/flare/vendor/plugins/flare/app/views/browse/index.rhtml
@@ -1,10 +1,23 @@
+<%
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+%>
 <div id="sidebar"><div class="boxContent">
-	<div class="searchbar">
+  <div class="searchbar">
   <% form_tag(:action=>'add_query') do %>
     <%= text_field_with_auto_complete :search, :query %>
     <%=submit_tag "search"%>
   <% end %>
-	</div>
+  </div>
 <!-- <h2>browse facets</h2> -->
 
 <% if @flare.facet_queries.size > 0%>
@@ -42,13 +55,13 @@
 </div></div> 
 
 <div id="variables">
-	<div class="clear">
-		<%=link_to '[clear constraints]', :action => 'clear'%>
-	</div>
-	
+  <div class="clear">
+    <%=link_to '[clear constraints]', :action => 'clear'%>
+  </div>
+  
 <div>
   <span class="varheader">Saved searches:</span>
-  	<div id="queries">
+    <div id="queries">
       <% @flare.applied_facet_queries.each_with_index do |q, i| %>
             <%=link_to q[:negative] ? "-" : "+", :action => :invert_saved_constraint, :index => i%>
             <%=q[:name]%>
@@ -56,29 +69,29 @@
       <% end %>
     </div>
 <span class="varheader">Queries:</span>
-	<div id="queries">
+  <div id="queries">
 <% @flare.queries.each_with_index do |q,i| %>
 <%=link_to q[:negative] ? "-" : '+', :action => :invert_query, :index => i%>
 <span id="query_<%=i%>"><%=q[:query]%></span>
 <%= in_place_editor "query_#{i}", :url=> url_for(:action=>"update_query", :index=>i, :script=>true) %>
 <%=link_to image_tag("x-close.gif"), :action => :remove_query, :index => i %><br/>
 <% end %>
-	</div>
+  </div>
 </div>
 
 <div>
 <span class="varheader">Filters:</span>
-	<div id="filters">
+  <div id="filters">
 <% @flare.filters.each_with_index do |filter, i| %>
       <%=link_to filter[:negative] ? "-" : "+", :action => :invert_filter, :index => i%>
       <%=filter[:field]%>:<%=filter[:value]%>
       <%=link_to image_tag("x-close.gif"), :action => :remove_filter, :index => i %><br/>
 <% end %>
-	</div>
+  </div>
 </div>
 
 <div class="clear">
-	<%=link_to '[clear constraints]', :action => 'clear'%>
+  <%=link_to '[clear constraints]', :action => 'clear'%>
 </div>
 
 <% form_tag({:action=>'save'},{:id => 'savesearch', :style => "display:none;"}) do %>
diff --git a/client/ruby/flare/vendor/plugins/flare/app/views/document/_document_development.rhtml b/client/ruby/flare/vendor/plugins/flare/app/views/document/_document_development.rhtml
index 6d25c47..1039e1e 100755
--- a/client/ruby/flare/vendor/plugins/flare/app/views/document/_document_development.rhtml
+++ b/client/ruby/flare/vendor/plugins/flare/app/views/document/_document_development.rhtml
@@ -1,3 +1,16 @@
+<%
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+%>
 <tr valign="top">
   <td>
     <table class="entry">
diff --git a/client/ruby/flare/vendor/plugins/flare/app/views/layouts/browse.rhtml b/client/ruby/flare/vendor/plugins/flare/app/views/layouts/browse.rhtml
index cc1fea4..18a15f5 100755
--- a/client/ruby/flare/vendor/plugins/flare/app/views/layouts/browse.rhtml
+++ b/client/ruby/flare/vendor/plugins/flare/app/views/layouts/browse.rhtml
@@ -1,3 +1,16 @@
+<%
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+%>
 <html>
   <head>
     <title>Solr flare: <%=controller.action_name%></title>
diff --git a/client/ruby/flare/vendor/plugins/flare/app/views/simile/exhibit.rhtml b/client/ruby/flare/vendor/plugins/flare/app/views/simile/exhibit.rhtml
index 8a39fac..acb919f 100644
--- a/client/ruby/flare/vendor/plugins/flare/app/views/simile/exhibit.rhtml
+++ b/client/ruby/flare/vendor/plugins/flare/app/views/simile/exhibit.rhtml
@@ -1,3 +1,16 @@
+<%
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+%>
 <html>
     <head>
         <title>SIMILE Exhibit view</title>
diff --git a/client/ruby/flare/vendor/plugins/flare/app/views/simile/timeline.rhtml b/client/ruby/flare/vendor/plugins/flare/app/views/simile/timeline.rhtml
index d8119ad..d04797b 100755
--- a/client/ruby/flare/vendor/plugins/flare/app/views/simile/timeline.rhtml
+++ b/client/ruby/flare/vendor/plugins/flare/app/views/simile/timeline.rhtml
@@ -1,6 +1,18 @@
+<%
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+%>
 <html>
   <head>
-    ...
     <script src="http://simile.mit.edu/timeline/api/timeline-api.js" type="text/javascript"></script>
     <script type="text/javascript">
     var tl;
diff --git a/client/ruby/flare/vendor/plugins/flare/routes.rb b/client/ruby/flare/vendor/plugins/flare/routes.rb
index 4365b2b..a2753fc 100755
--- a/client/ruby/flare/vendor/plugins/flare/routes.rb
+++ b/client/ruby/flare/vendor/plugins/flare/routes.rb
@@ -1 +1,13 @@
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
 connect '', :controller => "browse"

