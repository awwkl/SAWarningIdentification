GitDiffStart: 05fe1689614a86ee4e0d59367d07240d5719e96b | Wed Mar 28 22:22:25 2012 +0000
diff --git a/lucene/CHANGES.txt b/lucene/CHANGES.txt
index a3a4d60..ea87e02 100644
--- a/lucene/CHANGES.txt
+++ b/lucene/CHANGES.txt
@@ -257,6 +257,8 @@ Changes in backwards compatibility policy
   you can use SlowCompositeReaderWrapper to make all parallel readers atomic
   and use ParallelAtomicReader.  (Uwe Schindler, Mike McCandless, Robert Muir)
 
+* LUCENE-2000: clone() now returns covariant types where possible. (ryan)
+
 Changes in Runtime Behavior
 
 * LUCENE-2846: omitNorms now behaves like omitTermFrequencyAndPositions, if you
diff --git a/lucene/contrib/misc/src/java/org/apache/lucene/store/NativeUnixDirectory.java b/lucene/contrib/misc/src/java/org/apache/lucene/store/NativeUnixDirectory.java
index 926a87a..dba8796 100644
--- a/lucene/contrib/misc/src/java/org/apache/lucene/store/NativeUnixDirectory.java
+++ b/lucene/contrib/misc/src/java/org/apache/lucene/store/NativeUnixDirectory.java
@@ -424,7 +424,7 @@ public class NativeUnixDirectory extends FSDirectory {
     }
 
     @Override
-    public Object clone() {
+    public NativeUnixIndexInput clone() {
       try {
         return new NativeUnixIndexInput(this);
       } catch (IOException ioe) {
diff --git a/lucene/contrib/misc/src/java/org/apache/lucene/store/WindowsDirectory.java b/lucene/contrib/misc/src/java/org/apache/lucene/store/WindowsDirectory.java
index 36a25f0..2b78ed1 100644
--- a/lucene/contrib/misc/src/java/org/apache/lucene/store/WindowsDirectory.java
+++ b/lucene/contrib/misc/src/java/org/apache/lucene/store/WindowsDirectory.java
@@ -120,7 +120,7 @@ public class WindowsDirectory extends FSDirectory {
     }
     
     @Override
-    public Object clone() {
+    public WindowsIndexInput clone() {
       WindowsIndexInput clone = (WindowsIndexInput)super.clone();
       clone.isClone = true;
       return clone;
diff --git a/lucene/core/src/java/org/apache/lucene/analysis/Token.java b/lucene/core/src/java/org/apache/lucene/analysis/Token.java
index 80c31ec..5daa4b3 100644
--- a/lucene/core/src/java/org/apache/lucene/analysis/Token.java
+++ b/lucene/core/src/java/org/apache/lucene/analysis/Token.java
@@ -366,7 +366,7 @@ public class Token extends CharTermAttributeImpl
   }
 
   @Override
-  public Object clone() {
+  public Token clone() {
     Token t = (Token)super.clone();
     // Do a deep clone
     if (payload != null) {
diff --git a/lucene/core/src/java/org/apache/lucene/analysis/tokenattributes/CharTermAttributeImpl.java b/lucene/core/src/java/org/apache/lucene/analysis/tokenattributes/CharTermAttributeImpl.java
index f7bb38e..a293f1d 100644
--- a/lucene/core/src/java/org/apache/lucene/analysis/tokenattributes/CharTermAttributeImpl.java
+++ b/lucene/core/src/java/org/apache/lucene/analysis/tokenattributes/CharTermAttributeImpl.java
@@ -208,7 +208,7 @@ public class CharTermAttributeImpl extends AttributeImpl implements CharTermAttr
   }
 
   @Override
-  public Object clone() {
+  public CharTermAttributeImpl clone() {
     CharTermAttributeImpl t = (CharTermAttributeImpl)super.clone();
     // Do a deep clone
     t.termBuffer = new char[this.termLength];
diff --git a/lucene/core/src/java/org/apache/lucene/analysis/tokenattributes/PayloadAttributeImpl.java b/lucene/core/src/java/org/apache/lucene/analysis/tokenattributes/PayloadAttributeImpl.java
index 22e5903..fd742ae 100644
--- a/lucene/core/src/java/org/apache/lucene/analysis/tokenattributes/PayloadAttributeImpl.java
+++ b/lucene/core/src/java/org/apache/lucene/analysis/tokenattributes/PayloadAttributeImpl.java
@@ -58,7 +58,7 @@ public class PayloadAttributeImpl extends AttributeImpl implements PayloadAttrib
   }
 
   @Override
-  public Object clone()  {
+  public PayloadAttributeImpl clone()  {
     PayloadAttributeImpl clone = (PayloadAttributeImpl) super.clone();
     if (payload != null) {
       clone.payload = (Payload) payload.clone();
diff --git a/lucene/core/src/java/org/apache/lucene/codecs/BlockTermsReader.java b/lucene/core/src/java/org/apache/lucene/codecs/BlockTermsReader.java
index 72be59c..484557e 100644
--- a/lucene/core/src/java/org/apache/lucene/codecs/BlockTermsReader.java
+++ b/lucene/core/src/java/org/apache/lucene/codecs/BlockTermsReader.java
@@ -95,7 +95,7 @@ public class BlockTermsReader extends FieldsProducer {
     }
 
     @Override
-    public Object clone() {
+    public FieldAndTerm clone() {
       return new FieldAndTerm(this);
     }
 
diff --git a/lucene/core/src/java/org/apache/lucene/codecs/intblock/FixedIntBlockIndexInput.java b/lucene/core/src/java/org/apache/lucene/codecs/intblock/FixedIntBlockIndexInput.java
index de3c3fc..1760ec5 100644
--- a/lucene/core/src/java/org/apache/lucene/codecs/intblock/FixedIntBlockIndexInput.java
+++ b/lucene/core/src/java/org/apache/lucene/codecs/intblock/FixedIntBlockIndexInput.java
@@ -181,7 +181,7 @@ public abstract class FixedIntBlockIndexInput extends IntIndexInput {
     }
 
     @Override
-    public Object clone() {
+    public Index clone() {
       Index other = new Index();
       other.fp = fp;
       other.upto = upto;
diff --git a/lucene/core/src/java/org/apache/lucene/codecs/intblock/VariableIntBlockIndexInput.java b/lucene/core/src/java/org/apache/lucene/codecs/intblock/VariableIntBlockIndexInput.java
index 28a2e22..de972a8 100644
--- a/lucene/core/src/java/org/apache/lucene/codecs/intblock/VariableIntBlockIndexInput.java
+++ b/lucene/core/src/java/org/apache/lucene/codecs/intblock/VariableIntBlockIndexInput.java
@@ -207,7 +207,7 @@ public abstract class VariableIntBlockIndexInput extends IntIndexInput {
     }
 
     @Override
-    public Object clone() {
+    public Index clone() {
       Index other = new Index();
       other.fp = fp;
       other.upto = upto;
diff --git a/lucene/core/src/java/org/apache/lucene/codecs/lucene3x/SegmentTermEnum.java b/lucene/core/src/java/org/apache/lucene/codecs/lucene3x/SegmentTermEnum.java
index e8636fd..7bd5e1e 100644
--- a/lucene/core/src/java/org/apache/lucene/codecs/lucene3x/SegmentTermEnum.java
+++ b/lucene/core/src/java/org/apache/lucene/codecs/lucene3x/SegmentTermEnum.java
@@ -100,7 +100,7 @@ final class SegmentTermEnum implements Cloneable {
   }
 
   @Override
-  protected Object clone() {
+  protected SegmentTermEnum clone() {
     SegmentTermEnum clone = null;
     try {
       clone = (SegmentTermEnum) super.clone();
diff --git a/lucene/core/src/java/org/apache/lucene/codecs/lucene3x/TermBuffer.java b/lucene/core/src/java/org/apache/lucene/codecs/lucene3x/TermBuffer.java
index 1ea4bc5..6ce2887 100644
--- a/lucene/core/src/java/org/apache/lucene/codecs/lucene3x/TermBuffer.java
+++ b/lucene/core/src/java/org/apache/lucene/codecs/lucene3x/TermBuffer.java
@@ -111,7 +111,7 @@ final class TermBuffer implements Cloneable {
   }
 
   @Override
-  protected Object clone() {
+  protected TermBuffer clone() {
     TermBuffer clone = null;
     try {
       clone = (TermBuffer)super.clone();
diff --git a/lucene/core/src/java/org/apache/lucene/codecs/lucene3x/TermInfosReader.java b/lucene/core/src/java/org/apache/lucene/codecs/lucene3x/TermInfosReader.java
index e862367..fd63c7f 100644
--- a/lucene/core/src/java/org/apache/lucene/codecs/lucene3x/TermInfosReader.java
+++ b/lucene/core/src/java/org/apache/lucene/codecs/lucene3x/TermInfosReader.java
@@ -82,7 +82,7 @@ final class TermInfosReader {
     }
 
     @Override
-    public Object clone() {
+    public CloneableTerm clone() {
       return new CloneableTerm(term);
     }
   }
diff --git a/lucene/core/src/java/org/apache/lucene/codecs/lucene40/Lucene40PostingsReader.java b/lucene/core/src/java/org/apache/lucene/codecs/lucene40/Lucene40PostingsReader.java
index ad054f0..2af3226 100644
--- a/lucene/core/src/java/org/apache/lucene/codecs/lucene40/Lucene40PostingsReader.java
+++ b/lucene/core/src/java/org/apache/lucene/codecs/lucene40/Lucene40PostingsReader.java
@@ -105,7 +105,7 @@ public class Lucene40PostingsReader extends PostingsReaderBase {
     byte[] bytes;
 
     @Override
-    public Object clone() {
+    public StandardTermState clone() {
       StandardTermState other = new StandardTermState();
       other.copyFrom(this);
       return other;
diff --git a/lucene/core/src/java/org/apache/lucene/codecs/pulsing/PulsingPostingsReader.java b/lucene/core/src/java/org/apache/lucene/codecs/pulsing/PulsingPostingsReader.java
index 3a9c947..49ebb98 100644
--- a/lucene/core/src/java/org/apache/lucene/codecs/pulsing/PulsingPostingsReader.java
+++ b/lucene/core/src/java/org/apache/lucene/codecs/pulsing/PulsingPostingsReader.java
@@ -73,7 +73,7 @@ public class PulsingPostingsReader extends PostingsReaderBase {
     private byte[] inlinedBytes;
 
     @Override
-    public Object clone() {
+    public PulsingTermState clone() {
       PulsingTermState clone;
       clone = (PulsingTermState) super.clone();
       if (postingsSize != -1) {
diff --git a/lucene/core/src/java/org/apache/lucene/codecs/sep/IntIndexInput.java b/lucene/core/src/java/org/apache/lucene/codecs/sep/IntIndexInput.java
index 6caa1cc..3f417f2 100644
--- a/lucene/core/src/java/org/apache/lucene/codecs/sep/IntIndexInput.java
+++ b/lucene/core/src/java/org/apache/lucene/codecs/sep/IntIndexInput.java
@@ -47,7 +47,7 @@ public abstract class IntIndexInput implements Closeable {
     public abstract void set(Index other);
     
     @Override
-    public abstract Object clone();
+    public abstract Index clone();
   }
 
   public abstract static class Reader {
diff --git a/lucene/core/src/java/org/apache/lucene/codecs/sep/SepPostingsReader.java b/lucene/core/src/java/org/apache/lucene/codecs/sep/SepPostingsReader.java
index 1259a91..39a8d81 100644
--- a/lucene/core/src/java/org/apache/lucene/codecs/sep/SepPostingsReader.java
+++ b/lucene/core/src/java/org/apache/lucene/codecs/sep/SepPostingsReader.java
@@ -161,7 +161,7 @@ public class SepPostingsReader extends PostingsReaderBase {
     ByteArrayDataInput bytesReader;
 
     @Override
-    public Object clone() {
+    public SepTermState clone() {
       SepTermState other = new SepTermState();
       other.copyFrom(this);
       return other;
diff --git a/lucene/core/src/java/org/apache/lucene/index/FieldInfo.java b/lucene/core/src/java/org/apache/lucene/index/FieldInfo.java
index 09a7476..2e4618b 100644
--- a/lucene/core/src/java/org/apache/lucene/index/FieldInfo.java
+++ b/lucene/core/src/java/org/apache/lucene/index/FieldInfo.java
@@ -87,7 +87,7 @@ public final class FieldInfo {
   }
   
   @Override
-  public Object clone() {
+  public FieldInfo clone() {
     return new FieldInfo(name, isIndexed, number, storeTermVector,
                          omitNorms, storePayloads, indexOptions, docValueType, normType);
   }
diff --git a/lucene/core/src/java/org/apache/lucene/index/FieldInfos.java b/lucene/core/src/java/org/apache/lucene/index/FieldInfos.java
index 3bfeea6..37268f4 100644
--- a/lucene/core/src/java/org/apache/lucene/index/FieldInfos.java
+++ b/lucene/core/src/java/org/apache/lucene/index/FieldInfos.java
@@ -163,7 +163,7 @@ public final class FieldInfos implements Iterable<FieldInfo> {
    * Returns a deep clone of this FieldInfos instance.
    */
   @Override
-  synchronized public Object clone() {
+  synchronized public FieldInfos clone() {
     FieldInfos fis = new FieldInfos(globalFieldNumbers);
     fis.hasFreq = hasFreq;
     fis.hasProx = hasProx;
diff --git a/lucene/core/src/java/org/apache/lucene/index/IndexWriterConfig.java b/lucene/core/src/java/org/apache/lucene/index/IndexWriterConfig.java
index 6adaebe..7483926 100644
--- a/lucene/core/src/java/org/apache/lucene/index/IndexWriterConfig.java
+++ b/lucene/core/src/java/org/apache/lucene/index/IndexWriterConfig.java
@@ -185,11 +185,11 @@ public final class IndexWriterConfig implements Cloneable {
   }
 
   @Override
-  public Object clone() {
+  public IndexWriterConfig clone() {
     // Shallow clone is the only thing that's possible, since parameters like
     // analyzer, index commit etc. do not implement Cloneable.
     try {
-      return super.clone();
+      return (IndexWriterConfig)super.clone();
     } catch (CloneNotSupportedException e) {
       // should not happen
       throw new RuntimeException(e);
diff --git a/lucene/core/src/java/org/apache/lucene/index/Payload.java b/lucene/core/src/java/org/apache/lucene/index/Payload.java
index 34b91a1..ec8b8c4 100644
--- a/lucene/core/src/java/org/apache/lucene/index/Payload.java
+++ b/lucene/core/src/java/org/apache/lucene/index/Payload.java
@@ -155,7 +155,7 @@ public class Payload implements Cloneable {
    * byte array.
    */
   @Override
-  public Object clone() {
+  public Payload clone() {
     try {
       // Start with a shallow copy of data
       Payload clone = (Payload) super.clone();
diff --git a/lucene/core/src/java/org/apache/lucene/index/SegmentInfo.java b/lucene/core/src/java/org/apache/lucene/index/SegmentInfo.java
index 9acfba2..3ab59f9 100644
--- a/lucene/core/src/java/org/apache/lucene/index/SegmentInfo.java
+++ b/lucene/core/src/java/org/apache/lucene/index/SegmentInfo.java
@@ -252,7 +252,7 @@ public final class SegmentInfo implements Cloneable {
   }
 
   @Override
-  public Object clone() {
+  public SegmentInfo clone() {
     final SegmentInfo si = new SegmentInfo(name, docCount, dir, isCompoundFile, codec,
         fieldInfos == null ? null : (FieldInfos) fieldInfos.clone());
     si.docStoreOffset = docStoreOffset;
diff --git a/lucene/core/src/java/org/apache/lucene/index/SegmentInfos.java b/lucene/core/src/java/org/apache/lucene/index/SegmentInfos.java
index 3c89b7c..53b190d 100644
--- a/lucene/core/src/java/org/apache/lucene/index/SegmentInfos.java
+++ b/lucene/core/src/java/org/apache/lucene/index/SegmentInfos.java
@@ -374,7 +374,7 @@ public final class SegmentInfos implements Cloneable, Iterable<SegmentInfo> {
    */
   
   @Override
-  public Object clone() {
+  public SegmentInfos clone() {
     try {
       final SegmentInfos sis = (SegmentInfos) super.clone();
       // deep clone, first recreate all collections:
diff --git a/lucene/core/src/java/org/apache/lucene/index/TermState.java b/lucene/core/src/java/org/apache/lucene/index/TermState.java
index a45f17c..9355d67 100644
--- a/lucene/core/src/java/org/apache/lucene/index/TermState.java
+++ b/lucene/core/src/java/org/apache/lucene/index/TermState.java
@@ -36,9 +36,9 @@ public abstract class TermState implements Cloneable {
   public abstract void copyFrom(TermState other);
 
   @Override
-  public Object clone() {
+  public TermState clone() {
     try {
-      return super.clone();
+      return (TermState)super.clone();
     } catch (CloneNotSupportedException cnse) {
       // should not happen
       throw new RuntimeException(cnse);
diff --git a/lucene/core/src/java/org/apache/lucene/search/BooleanQuery.java b/lucene/core/src/java/org/apache/lucene/search/BooleanQuery.java
index 5317949..b3547ef 100644
--- a/lucene/core/src/java/org/apache/lucene/search/BooleanQuery.java
+++ b/lucene/core/src/java/org/apache/lucene/search/BooleanQuery.java
@@ -454,7 +454,7 @@ public class BooleanQuery extends Query implements Iterable<BooleanClause> {
           // The BooleanQuery clone is lazily initialized so only initialize
           // it if a rewritten clause differs from the original clause (and hasn't been
           // initialized already).  If nothing differs, the clone isn't needlessly created
-          clone = (BooleanQuery)this.clone();
+          clone = this.clone();
         }
         clone.clauses.set(i, new BooleanClause(query, c.getOccur()));
       }
@@ -474,7 +474,7 @@ public class BooleanQuery extends Query implements Iterable<BooleanClause> {
   }
 
   @Override @SuppressWarnings("unchecked")
-  public Object clone() {
+  public BooleanQuery clone() {
     BooleanQuery clone = (BooleanQuery)super.clone();
     clone.clauses = (ArrayList<BooleanClause>) this.clauses.clone();
     return clone;
diff --git a/lucene/core/src/java/org/apache/lucene/search/DisjunctionMaxQuery.java b/lucene/core/src/java/org/apache/lucene/search/DisjunctionMaxQuery.java
index bc02e34..16b7b5d 100644
--- a/lucene/core/src/java/org/apache/lucene/search/DisjunctionMaxQuery.java
+++ b/lucene/core/src/java/org/apache/lucene/search/DisjunctionMaxQuery.java
@@ -200,7 +200,7 @@ public class DisjunctionMaxQuery extends Query implements Iterable<Query> {
       Query clause = disjuncts.get(i);
       Query rewrite = clause.rewrite(reader);
       if (rewrite != clause) {
-        if (clone == null) clone = (DisjunctionMaxQuery)this.clone();
+        if (clone == null) clone = this.clone();
         clone.disjuncts.set(i, rewrite);
       }
     }
@@ -211,7 +211,7 @@ public class DisjunctionMaxQuery extends Query implements Iterable<Query> {
   /** Create a shallow copy of us -- used in rewriting if necessary
    * @return a copy of us (but reuse, don't copy, our subqueries) */
   @Override @SuppressWarnings("unchecked")
-  public Object clone() {
+  public DisjunctionMaxQuery clone() {
     DisjunctionMaxQuery clone = (DisjunctionMaxQuery)super.clone();
     clone.disjuncts = (ArrayList<Query>) this.disjuncts.clone();
     return clone;
diff --git a/lucene/core/src/java/org/apache/lucene/search/Query.java b/lucene/core/src/java/org/apache/lucene/search/Query.java
index 0bf05ec..1494963 100644
--- a/lucene/core/src/java/org/apache/lucene/search/Query.java
+++ b/lucene/core/src/java/org/apache/lucene/search/Query.java
@@ -97,9 +97,9 @@ public abstract class Query implements Cloneable {
 
   /** Returns a clone of this query. */
   @Override
-  public Object clone() {
+  public Query clone() {
     try {
-      return super.clone();
+      return (Query)super.clone();
     } catch (CloneNotSupportedException e) {
       throw new RuntimeException("Clone not supported: " + e.getMessage());
     }
diff --git a/lucene/core/src/java/org/apache/lucene/search/payloads/PayloadNearQuery.java b/lucene/core/src/java/org/apache/lucene/search/payloads/PayloadNearQuery.java
index beb1c4a..f892d5f 100644
--- a/lucene/core/src/java/org/apache/lucene/search/payloads/PayloadNearQuery.java
+++ b/lucene/core/src/java/org/apache/lucene/search/payloads/PayloadNearQuery.java
@@ -76,7 +76,7 @@ public class PayloadNearQuery extends SpanNearQuery {
   }
 
   @Override
-  public Object clone() {
+  public PayloadNearQuery clone() {
     int sz = clauses.size();
     SpanQuery[] newClauses = new SpanQuery[sz];
 
diff --git a/lucene/core/src/java/org/apache/lucene/search/spans/SpanFirstQuery.java b/lucene/core/src/java/org/apache/lucene/search/spans/SpanFirstQuery.java
index b90f08e..01e582c 100644
--- a/lucene/core/src/java/org/apache/lucene/search/spans/SpanFirstQuery.java
+++ b/lucene/core/src/java/org/apache/lucene/search/spans/SpanFirstQuery.java
@@ -61,7 +61,7 @@ public class SpanFirstQuery extends SpanPositionRangeQuery {
   }
 
   @Override
-  public Object clone() {
+  public SpanFirstQuery clone() {
     SpanFirstQuery spanFirstQuery = new SpanFirstQuery((SpanQuery) match.clone(), end);
     spanFirstQuery.setBoost(getBoost());
     return spanFirstQuery;
diff --git a/lucene/core/src/java/org/apache/lucene/search/spans/SpanNearPayloadCheckQuery.java b/lucene/core/src/java/org/apache/lucene/search/spans/SpanNearPayloadCheckQuery.java
index 2b17f62..4ec8882 100644
--- a/lucene/core/src/java/org/apache/lucene/search/spans/SpanNearPayloadCheckQuery.java
+++ b/lucene/core/src/java/org/apache/lucene/search/spans/SpanNearPayloadCheckQuery.java
@@ -88,7 +88,7 @@ public class SpanNearPayloadCheckQuery extends SpanPositionCheckQuery {
   }
 
   @Override
-  public Object clone() {
+  public SpanNearPayloadCheckQuery clone() {
     SpanNearPayloadCheckQuery result = new SpanNearPayloadCheckQuery((SpanNearQuery) match.clone(), payloadToMatch);
     result.setBoost(getBoost());
     return result;
diff --git a/lucene/core/src/java/org/apache/lucene/search/spans/SpanNearQuery.java b/lucene/core/src/java/org/apache/lucene/search/spans/SpanNearQuery.java
index 3193706..43d40ba 100644
--- a/lucene/core/src/java/org/apache/lucene/search/spans/SpanNearQuery.java
+++ b/lucene/core/src/java/org/apache/lucene/search/spans/SpanNearQuery.java
@@ -140,7 +140,7 @@ public class SpanNearQuery extends SpanQuery implements Cloneable {
       SpanQuery query = (SpanQuery) c.rewrite(reader);
       if (query != c) {                     // clause rewrote: must clone
         if (clone == null)
-          clone = (SpanNearQuery) this.clone();
+          clone = this.clone();
         clone.clauses.set(i,query);
       }
     }
@@ -152,7 +152,7 @@ public class SpanNearQuery extends SpanQuery implements Cloneable {
   }
   
   @Override
-  public Object clone() {
+  public SpanNearQuery clone() {
     int sz = clauses.size();
     SpanQuery[] newClauses = new SpanQuery[sz];
 
diff --git a/lucene/core/src/java/org/apache/lucene/search/spans/SpanNotQuery.java b/lucene/core/src/java/org/apache/lucene/search/spans/SpanNotQuery.java
index 3c8e65a..f1396b3 100644
--- a/lucene/core/src/java/org/apache/lucene/search/spans/SpanNotQuery.java
+++ b/lucene/core/src/java/org/apache/lucene/search/spans/SpanNotQuery.java
@@ -71,7 +71,7 @@ public class SpanNotQuery extends SpanQuery implements Cloneable {
   }
 
   @Override
-  public Object clone() {
+  public SpanNotQuery clone() {
     SpanNotQuery spanNotQuery = new SpanNotQuery((SpanQuery)include.clone(),(SpanQuery) exclude.clone());
     spanNotQuery.setBoost(getBoost());
     return  spanNotQuery;
@@ -175,12 +175,12 @@ public class SpanNotQuery extends SpanQuery implements Cloneable {
 
     SpanQuery rewrittenInclude = (SpanQuery) include.rewrite(reader);
     if (rewrittenInclude != include) {
-      clone = (SpanNotQuery) this.clone();
+      clone = this.clone();
       clone.include = rewrittenInclude;
     }
     SpanQuery rewrittenExclude = (SpanQuery) exclude.rewrite(reader);
     if (rewrittenExclude != exclude) {
-      if (clone == null) clone = (SpanNotQuery) this.clone();
+      if (clone == null) clone = this.clone();
       clone.exclude = rewrittenExclude;
     }
 
diff --git a/lucene/core/src/java/org/apache/lucene/search/spans/SpanOrQuery.java b/lucene/core/src/java/org/apache/lucene/search/spans/SpanOrQuery.java
index 7c679dc..fc8a130 100644
--- a/lucene/core/src/java/org/apache/lucene/search/spans/SpanOrQuery.java
+++ b/lucene/core/src/java/org/apache/lucene/search/spans/SpanOrQuery.java
@@ -76,7 +76,7 @@ public class SpanOrQuery extends SpanQuery implements Cloneable {
   }
   
   @Override
-  public Object clone() {
+  public SpanOrQuery clone() {
     int sz = clauses.size();
     SpanQuery[] newClauses = new SpanQuery[sz];
 
@@ -96,7 +96,7 @@ public class SpanOrQuery extends SpanQuery implements Cloneable {
       SpanQuery query = (SpanQuery) c.rewrite(reader);
       if (query != c) {                     // clause rewrote: must clone
         if (clone == null)
-          clone = (SpanOrQuery) this.clone();
+          clone = this.clone();
         clone.clauses.set(i,query);
       }
     }
diff --git a/lucene/core/src/java/org/apache/lucene/search/spans/SpanPayloadCheckQuery.java b/lucene/core/src/java/org/apache/lucene/search/spans/SpanPayloadCheckQuery.java
index 086dad2..b7fa763 100644
--- a/lucene/core/src/java/org/apache/lucene/search/spans/SpanPayloadCheckQuery.java
+++ b/lucene/core/src/java/org/apache/lucene/search/spans/SpanPayloadCheckQuery.java
@@ -90,7 +90,7 @@ public class SpanPayloadCheckQuery extends SpanPositionCheckQuery{
   }
 
   @Override
-  public Object clone() {
+  public SpanPayloadCheckQuery clone() {
     SpanPayloadCheckQuery result = new SpanPayloadCheckQuery((SpanQuery) match.clone(), payloadToMatch);
     result.setBoost(getBoost());
     return result;
diff --git a/lucene/core/src/java/org/apache/lucene/search/spans/SpanPositionRangeQuery.java b/lucene/core/src/java/org/apache/lucene/search/spans/SpanPositionRangeQuery.java
index 3e023ed..ad9e01b 100644
--- a/lucene/core/src/java/org/apache/lucene/search/spans/SpanPositionRangeQuery.java
+++ b/lucene/core/src/java/org/apache/lucene/search/spans/SpanPositionRangeQuery.java
@@ -77,7 +77,7 @@ public class SpanPositionRangeQuery extends SpanPositionCheckQuery {
   }
 
   @Override
-  public Object clone() {
+  public SpanPositionRangeQuery clone() {
     SpanPositionRangeQuery result = new SpanPositionRangeQuery((SpanQuery) match.clone(), start, end);
     result.setBoost(getBoost());
     return result;
diff --git a/lucene/core/src/java/org/apache/lucene/store/BufferedIndexInput.java b/lucene/core/src/java/org/apache/lucene/store/BufferedIndexInput.java
index f155d6e..e7fad52 100644
--- a/lucene/core/src/java/org/apache/lucene/store/BufferedIndexInput.java
+++ b/lucene/core/src/java/org/apache/lucene/store/BufferedIndexInput.java
@@ -306,7 +306,7 @@ public abstract class BufferedIndexInput extends IndexInput {
   protected abstract void seekInternal(long pos) throws IOException;
 
   @Override
-  public Object clone() {
+  public BufferedIndexInput clone() {
     BufferedIndexInput clone = (BufferedIndexInput)super.clone();
 
     clone.buffer = null;
diff --git a/lucene/core/src/java/org/apache/lucene/store/DataInput.java b/lucene/core/src/java/org/apache/lucene/store/DataInput.java
index 788f487..4ee6ddf 100644
--- a/lucene/core/src/java/org/apache/lucene/store/DataInput.java
+++ b/lucene/core/src/java/org/apache/lucene/store/DataInput.java
@@ -184,7 +184,7 @@ public abstract class DataInput implements Cloneable {
    * were cloned from.
    */
   @Override
-  public Object clone() {
+  public DataInput clone() {
     DataInput clone = null;
     try {
       clone = (DataInput)super.clone();
diff --git a/lucene/core/src/java/org/apache/lucene/store/Directory.java b/lucene/core/src/java/org/apache/lucene/store/Directory.java
index 350b004..f3668c0 100644
--- a/lucene/core/src/java/org/apache/lucene/store/Directory.java
+++ b/lucene/core/src/java/org/apache/lucene/store/Directory.java
@@ -284,7 +284,7 @@ public abstract class Directory implements Closeable {
     }
     
     @Override
-    public Object clone() {
+    public SlicedIndexInput clone() {
       SlicedIndexInput clone = (SlicedIndexInput)super.clone();
       clone.base = (IndexInput)base.clone();
       clone.fileOffset = fileOffset;
diff --git a/lucene/core/src/java/org/apache/lucene/store/MMapDirectory.java b/lucene/core/src/java/org/apache/lucene/store/MMapDirectory.java
index e5ff1e0..f985b90 100644
--- a/lucene/core/src/java/org/apache/lucene/store/MMapDirectory.java
+++ b/lucene/core/src/java/org/apache/lucene/store/MMapDirectory.java
@@ -412,7 +412,7 @@ public class MMapDirectory extends FSDirectory {
     }
   
     @Override
-    public Object clone() {
+    public MMapIndexInput clone() {
       if (buffers == null) {
         throw new AlreadyClosedException("MMapIndexInput already closed: " + this);
       }
diff --git a/lucene/core/src/java/org/apache/lucene/store/SimpleFSDirectory.java b/lucene/core/src/java/org/apache/lucene/store/SimpleFSDirectory.java
index f256d29..bc58798 100644
--- a/lucene/core/src/java/org/apache/lucene/store/SimpleFSDirectory.java
+++ b/lucene/core/src/java/org/apache/lucene/store/SimpleFSDirectory.java
@@ -193,7 +193,7 @@ public class SimpleFSDirectory extends FSDirectory {
     }
   
     @Override
-    public Object clone() {
+    public SimpleFSIndexInput clone() {
       SimpleFSIndexInput clone = (SimpleFSIndexInput)super.clone();
       clone.isClone = true;
       return clone;
diff --git a/lucene/core/src/java/org/apache/lucene/util/AttributeImpl.java b/lucene/core/src/java/org/apache/lucene/util/AttributeImpl.java
index 7d71335..85c66fa 100644
--- a/lucene/core/src/java/org/apache/lucene/util/AttributeImpl.java
+++ b/lucene/core/src/java/org/apache/lucene/util/AttributeImpl.java
@@ -123,10 +123,10 @@ public abstract class AttributeImpl implements Cloneable, Attribute {
    * need to clone any members deeply,
    */
   @Override
-  public Object clone() {
-    Object clone = null;
+  public AttributeImpl clone() {
+    AttributeImpl clone = null;
     try {
-      clone = super.clone();
+      clone = (AttributeImpl)super.clone();
     } catch (CloneNotSupportedException e) {
       throw new RuntimeException(e);  // shouldn't happen
     }
diff --git a/lucene/core/src/java/org/apache/lucene/util/AttributeSource.java b/lucene/core/src/java/org/apache/lucene/util/AttributeSource.java
index 805616b..5cb808d 100644
--- a/lucene/core/src/java/org/apache/lucene/util/AttributeSource.java
+++ b/lucene/core/src/java/org/apache/lucene/util/AttributeSource.java
@@ -101,12 +101,12 @@ public class AttributeSource {
     State next;
     
     @Override
-    public Object clone() {
+    public State clone() {
       State clone = new State();
-      clone.attribute = (AttributeImpl) attribute.clone();
+      clone.attribute = attribute.clone();
       
       if (next != null) {
-        clone.next = (State) next.clone();
+        clone.next = next.clone();
       }
       
       return clone;
diff --git a/lucene/core/src/java/org/apache/lucene/util/DoubleBarrelLRUCache.java b/lucene/core/src/java/org/apache/lucene/util/DoubleBarrelLRUCache.java
index 5648983..d1c06f0 100644
--- a/lucene/core/src/java/org/apache/lucene/util/DoubleBarrelLRUCache.java
+++ b/lucene/core/src/java/org/apache/lucene/util/DoubleBarrelLRUCache.java
@@ -47,7 +47,7 @@ final public class DoubleBarrelLRUCache<K extends DoubleBarrelLRUCache.Cloneable
   /** Object providing clone(); the key class must subclass this. */
   public static abstract class CloneableKey {
     @Override
-    abstract public Object clone();
+    abstract public CloneableKey clone();
   }
 
   private final Map<K,V> cache1;
diff --git a/lucene/core/src/java/org/apache/lucene/util/FixedBitSet.java b/lucene/core/src/java/org/apache/lucene/util/FixedBitSet.java
index 103da99..10ee140 100644
--- a/lucene/core/src/java/org/apache/lucene/util/FixedBitSet.java
+++ b/lucene/core/src/java/org/apache/lucene/util/FixedBitSet.java
@@ -389,7 +389,7 @@ public final class FixedBitSet extends DocIdSet implements Bits {
   }
 
   @Override
-  public Object clone() {
+  public FixedBitSet clone() {
     return new FixedBitSet(this);
   }
 
diff --git a/lucene/core/src/java/org/apache/lucene/util/OpenBitSet.java b/lucene/core/src/java/org/apache/lucene/util/OpenBitSet.java
index ff7acf5..dae9bd1 100644
--- a/lucene/core/src/java/org/apache/lucene/util/OpenBitSet.java
+++ b/lucene/core/src/java/org/apache/lucene/util/OpenBitSet.java
@@ -731,7 +731,7 @@ public class OpenBitSet extends DocIdSet implements Bits, Cloneable {
   }
 
   @Override
-  public Object clone() {
+  public OpenBitSet clone() {
     try {
       OpenBitSet obs = (OpenBitSet)super.clone();
       obs.bits = obs.bits.clone();  // hopefully an array clone is as fast(er) than arraycopy
diff --git a/lucene/core/src/java/org/apache/lucene/util/PagedBytes.java b/lucene/core/src/java/org/apache/lucene/util/PagedBytes.java
index 02c0401..0cd08fe 100644
--- a/lucene/core/src/java/org/apache/lucene/util/PagedBytes.java
+++ b/lucene/core/src/java/org/apache/lucene/util/PagedBytes.java
@@ -415,7 +415,7 @@ public final class PagedBytes {
     }
 
     @Override
-    public Object clone() {
+    public PagedBytesDataInput clone() {
       PagedBytesDataInput clone = getDataInput();
       clone.setPosition(getPosition());
       return clone;
diff --git a/lucene/core/src/test/org/apache/lucene/index/Test2BTerms.java b/lucene/core/src/test/org/apache/lucene/index/Test2BTerms.java
index 1af4a01..692252a 100644
--- a/lucene/core/src/test/org/apache/lucene/index/Test2BTerms.java
+++ b/lucene/core/src/test/org/apache/lucene/index/Test2BTerms.java
@@ -117,7 +117,7 @@ public class Test2BTerms extends LuceneTestCase {
       }
     
       @Override
-      public Object clone() {
+      public MyTermAttributeImpl clone() {
         throw new UnsupportedOperationException();
       }
     }
diff --git a/lucene/core/src/test/org/apache/lucene/index/TestFieldsReader.java b/lucene/core/src/test/org/apache/lucene/index/TestFieldsReader.java
index af66f9d..861da45 100644
--- a/lucene/core/src/test/org/apache/lucene/index/TestFieldsReader.java
+++ b/lucene/core/src/test/org/apache/lucene/index/TestFieldsReader.java
@@ -183,7 +183,7 @@ public class TestFieldsReader extends LuceneTestCase {
       delegate.close();
     }
     @Override
-    public Object clone() {
+    public FaultyIndexInput clone() {
       return new FaultyIndexInput((IndexInput) delegate.clone());
     }
   }
diff --git a/lucene/core/src/test/org/apache/lucene/index/TestLazyProxSkipping.java b/lucene/core/src/test/org/apache/lucene/index/TestLazyProxSkipping.java
index fdb47e9..9928287 100755
--- a/lucene/core/src/test/org/apache/lucene/index/TestLazyProxSkipping.java
+++ b/lucene/core/src/test/org/apache/lucene/index/TestLazyProxSkipping.java
@@ -225,7 +225,7 @@ public class TestLazyProxSkipping extends LuceneTestCase {
           }
           
           @Override
-          public Object clone() {
+          public SeeksCountingStream clone() {
               return new SeeksCountingStream((IndexInput) this.input.clone());
           }
       
diff --git a/lucene/core/src/test/org/apache/lucene/index/TestMultiLevelSkipList.java b/lucene/core/src/test/org/apache/lucene/index/TestMultiLevelSkipList.java
index 82e19f3..9d94e37 100644
--- a/lucene/core/src/test/org/apache/lucene/index/TestMultiLevelSkipList.java
+++ b/lucene/core/src/test/org/apache/lucene/index/TestMultiLevelSkipList.java
@@ -190,7 +190,7 @@ public class TestMultiLevelSkipList extends LuceneTestCase {
     }
 
     @Override
-    public Object clone() {
+    public CountingStream clone() {
       return new CountingStream((IndexInput) this.input.clone());
     }
 
diff --git a/lucene/core/src/test/org/apache/lucene/util/TestDoubleBarrelLRUCache.java b/lucene/core/src/test/org/apache/lucene/util/TestDoubleBarrelLRUCache.java
index 952c218..b84ecf5 100644
--- a/lucene/core/src/test/org/apache/lucene/util/TestDoubleBarrelLRUCache.java
+++ b/lucene/core/src/test/org/apache/lucene/util/TestDoubleBarrelLRUCache.java
@@ -156,7 +156,7 @@ public class TestDoubleBarrelLRUCache extends LuceneTestCase {
     }
 
     @Override
-    public Object clone() {
+    public CloneableObject clone() {
       return new CloneableObject(value);
     }
   }
@@ -179,7 +179,7 @@ public class TestDoubleBarrelLRUCache extends LuceneTestCase {
     }
 
     @Override
-    public Object clone() {
+    public CloneableInteger clone() {
       return new CloneableInteger(value);
     }
   }
diff --git a/lucene/test-framework/src/java/org/apache/lucene/codecs/mocksep/MockSingleIntIndexInput.java b/lucene/test-framework/src/java/org/apache/lucene/codecs/mocksep/MockSingleIntIndexInput.java
index 5d92971..d9dfaa2 100644
--- a/lucene/test-framework/src/java/org/apache/lucene/codecs/mocksep/MockSingleIntIndexInput.java
+++ b/lucene/test-framework/src/java/org/apache/lucene/codecs/mocksep/MockSingleIntIndexInput.java
@@ -99,7 +99,7 @@ public class MockSingleIntIndexInput extends IntIndexInput {
     }
 
     @Override
-    public Object clone() {
+    public Index clone() {
       Index other = new Index();
       other.fp = fp;
       return other;
diff --git a/lucene/test-framework/src/java/org/apache/lucene/store/MockIndexInputWrapper.java b/lucene/test-framework/src/java/org/apache/lucene/store/MockIndexInputWrapper.java
index 70bcdd4..f175330 100644
--- a/lucene/test-framework/src/java/org/apache/lucene/store/MockIndexInputWrapper.java
+++ b/lucene/test-framework/src/java/org/apache/lucene/store/MockIndexInputWrapper.java
@@ -65,7 +65,7 @@ public class MockIndexInputWrapper extends IndexInput {
   }
 
   @Override
-  public Object clone() {
+  public MockIndexInputWrapper clone() {
     ensureOpen();
     dir.inputCloneCount.incrementAndGet();
     IndexInput iiclone = (IndexInput) delegate.clone();
diff --git a/modules/analysis/common/src/java/org/apache/lucene/analysis/compound/hyphenation/CharVector.java b/modules/analysis/common/src/java/org/apache/lucene/analysis/compound/hyphenation/CharVector.java
index 15a7aae..fa27755 100644
--- a/modules/analysis/common/src/java/org/apache/lucene/analysis/compound/hyphenation/CharVector.java
+++ b/modules/analysis/common/src/java/org/apache/lucene/analysis/compound/hyphenation/CharVector.java
@@ -80,7 +80,7 @@ public class CharVector implements Cloneable {
   }
 
   @Override
-  public Object clone() {
+  public CharVector clone() {
     CharVector cv = new CharVector(array.clone(), blockSize);
     cv.n = this.n;
     return cv;
diff --git a/modules/analysis/common/src/java/org/apache/lucene/analysis/compound/hyphenation/TernaryTree.java b/modules/analysis/common/src/java/org/apache/lucene/analysis/compound/hyphenation/TernaryTree.java
index 178fcb4..ae3bf27 100644
--- a/modules/analysis/common/src/java/org/apache/lucene/analysis/compound/hyphenation/TernaryTree.java
+++ b/modules/analysis/common/src/java/org/apache/lucene/analysis/compound/hyphenation/TernaryTree.java
@@ -348,7 +348,7 @@ public class TernaryTree implements Cloneable {
   }
 
   @Override
-  public Object clone() {
+  public TernaryTree clone() {
     TernaryTree t = new TernaryTree();
     t.lo = this.lo.clone();
     t.hi = this.hi.clone();
@@ -484,7 +484,7 @@ public class TernaryTree implements Cloneable {
       }
 
       @Override
-      public Object clone() {
+      public Item clone() {
         return new Item(parent, child);
       }
 
diff --git a/modules/analysis/common/src/java/org/apache/lucene/analysis/util/CharArrayIterator.java b/modules/analysis/common/src/java/org/apache/lucene/analysis/util/CharArrayIterator.java
index d182e16..91a30cf 100644
--- a/modules/analysis/common/src/java/org/apache/lucene/analysis/util/CharArrayIterator.java
+++ b/modules/analysis/common/src/java/org/apache/lucene/analysis/util/CharArrayIterator.java
@@ -113,9 +113,9 @@ public abstract class CharArrayIterator implements CharacterIterator {
   }
   
   @Override
-  public Object clone() {
+  public CharArrayIterator clone() {
     try {
-      return super.clone();
+      return (CharArrayIterator)super.clone();
     } catch (CloneNotSupportedException e) {
       // CharacterIterator does not allow you to throw CloneNotSupported
       throw new RuntimeException(e);
diff --git a/modules/analysis/icu/src/java/org/apache/lucene/analysis/icu/segmentation/CharArrayIterator.java b/modules/analysis/icu/src/java/org/apache/lucene/analysis/icu/segmentation/CharArrayIterator.java
index be25dd0..f50f633 100644
--- a/modules/analysis/icu/src/java/org/apache/lucene/analysis/icu/segmentation/CharArrayIterator.java
+++ b/modules/analysis/icu/src/java/org/apache/lucene/analysis/icu/segmentation/CharArrayIterator.java
@@ -109,7 +109,7 @@ final class CharArrayIterator implements CharacterIterator {
   }
 
   @Override
-  public Object clone() {
+  public CharArrayIterator clone() {
     CharArrayIterator clone = new CharArrayIterator();
     clone.setText(array, start, length);
     clone.index = index;
diff --git a/modules/analysis/icu/src/java/org/apache/lucene/analysis/icu/segmentation/LaoBreakIterator.java b/modules/analysis/icu/src/java/org/apache/lucene/analysis/icu/segmentation/LaoBreakIterator.java
index ffd4c33..bf38bfa 100644
--- a/modules/analysis/icu/src/java/org/apache/lucene/analysis/icu/segmentation/LaoBreakIterator.java
+++ b/modules/analysis/icu/src/java/org/apache/lucene/analysis/icu/segmentation/LaoBreakIterator.java
@@ -211,7 +211,7 @@ public class LaoBreakIterator extends BreakIterator {
    * @return The clone.
    */
   @Override
-  public Object clone() {
+  public LaoBreakIterator clone() {
     LaoBreakIterator other = (LaoBreakIterator) super.clone();
     other.rules = (RuleBasedBreakIterator) rules.clone();
     other.verify = (RuleBasedBreakIterator) verify.clone();
diff --git a/modules/analysis/morfologik/src/java/org/apache/lucene/analysis/morfologik/MorphosyntacticTagAttributeImpl.java b/modules/analysis/morfologik/src/java/org/apache/lucene/analysis/morfologik/MorphosyntacticTagAttributeImpl.java
index 11ff3d5..45fce76 100644
--- a/modules/analysis/morfologik/src/java/org/apache/lucene/analysis/morfologik/MorphosyntacticTagAttributeImpl.java
+++ b/modules/analysis/morfologik/src/java/org/apache/lucene/analysis/morfologik/MorphosyntacticTagAttributeImpl.java
@@ -83,7 +83,7 @@ public class MorphosyntacticTagAttributeImpl extends AttributeImpl
     ((MorphosyntacticTagAttribute) target).setTag(this.tag);
   }
 
-  public Object clone() {
+  public MorphosyntacticTagAttributeImpl clone() {
     MorphosyntacticTagAttributeImpl cloned = new MorphosyntacticTagAttributeImpl();
     cloned.tag = (tag == null ? null : tag.toString());
     return cloned;
diff --git a/modules/benchmark/src/java/org/apache/lucene/benchmark/byTask/stats/TaskStats.java b/modules/benchmark/src/java/org/apache/lucene/benchmark/byTask/stats/TaskStats.java
index 6924670..627fc83 100644
--- a/modules/benchmark/src/java/org/apache/lucene/benchmark/byTask/stats/TaskStats.java
+++ b/modules/benchmark/src/java/org/apache/lucene/benchmark/byTask/stats/TaskStats.java
@@ -208,7 +208,7 @@ public class TaskStats implements Cloneable {
    * @see java.lang.Object#clone()
    */
   @Override
-  public Object clone() throws CloneNotSupportedException {
+  public TaskStats clone() throws CloneNotSupportedException {
     TaskStats c = (TaskStats) super.clone();
     if (c.countsByTime != null) {
       c.countsByTime = c.countsByTime.clone();
diff --git a/modules/benchmark/src/java/org/apache/lucene/benchmark/byTask/tasks/PerfTask.java b/modules/benchmark/src/java/org/apache/lucene/benchmark/byTask/tasks/PerfTask.java
index 297c0a2..c985d6a 100644
--- a/modules/benchmark/src/java/org/apache/lucene/benchmark/byTask/tasks/PerfTask.java
+++ b/modules/benchmark/src/java/org/apache/lucene/benchmark/byTask/tasks/PerfTask.java
@@ -111,10 +111,10 @@ public abstract class PerfTask implements Cloneable {
   }
   
   @Override
-  protected Object clone() throws CloneNotSupportedException {
+  protected PerfTask clone() throws CloneNotSupportedException {
     // tasks having non primitive data structures should override this.
     // otherwise parallel running of a task sequence might not run correctly. 
-    return super.clone();
+    return (PerfTask)super.clone();
   }
 
   public void close() throws Exception {
diff --git a/modules/benchmark/src/java/org/apache/lucene/benchmark/byTask/tasks/TaskSequence.java b/modules/benchmark/src/java/org/apache/lucene/benchmark/byTask/tasks/TaskSequence.java
index 6e3b687..36da1b9 100644
--- a/modules/benchmark/src/java/org/apache/lucene/benchmark/byTask/tasks/TaskSequence.java
+++ b/modules/benchmark/src/java/org/apache/lucene/benchmark/byTask/tasks/TaskSequence.java
@@ -508,7 +508,7 @@ public class TaskSequence extends PerfTask {
    * @see java.lang.Object#clone()
    */
   @Override
-  protected Object clone() throws CloneNotSupportedException {
+  protected TaskSequence clone() throws CloneNotSupportedException {
     TaskSequence res = (TaskSequence) super.clone();
     res.tasks = new ArrayList<PerfTask>();
     for (int i = 0; i < tasks.size(); i++) {
diff --git a/modules/facet/src/java/org/apache/lucene/facet/index/attributes/CategoryAttributeImpl.java b/modules/facet/src/java/org/apache/lucene/facet/index/attributes/CategoryAttributeImpl.java
index 1bfa4d9..0b920ea 100644
--- a/modules/facet/src/java/org/apache/lucene/facet/index/attributes/CategoryAttributeImpl.java
+++ b/modules/facet/src/java/org/apache/lucene/facet/index/attributes/CategoryAttributeImpl.java
@@ -121,7 +121,7 @@ public final class CategoryAttributeImpl extends AttributeImpl implements
 
   @SuppressWarnings("unchecked")
   @Override
-  public CategoryAttribute clone() {
+  public CategoryAttributeImpl clone() {
     CategoryAttributeImpl ca = (CategoryAttributeImpl) super.clone();
     if (categoryPath != null) {
       ca.categoryPath = (CategoryPath) categoryPath.clone();
diff --git a/modules/facet/src/java/org/apache/lucene/facet/search/params/FacetRequest.java b/modules/facet/src/java/org/apache/lucene/facet/search/params/FacetRequest.java
index 7366c5c..02a5fc3 100644
--- a/modules/facet/src/java/org/apache/lucene/facet/search/params/FacetRequest.java
+++ b/modules/facet/src/java/org/apache/lucene/facet/search/params/FacetRequest.java
@@ -114,9 +114,9 @@ public abstract class FacetRequest implements Cloneable {
   }
 
   @Override
-  public Object clone() throws CloneNotSupportedException {
+  public FacetRequest clone() throws CloneNotSupportedException {
     // Overridden to make it public
-    return super.clone();
+    return (FacetRequest)super.clone();
   }
   
   public void setNumLabel(int numLabel) {
diff --git a/modules/facet/src/java/org/apache/lucene/facet/taxonomy/CategoryPath.java b/modules/facet/src/java/org/apache/lucene/facet/taxonomy/CategoryPath.java
index 389cd1f..8220666 100644
--- a/modules/facet/src/java/org/apache/lucene/facet/taxonomy/CategoryPath.java
+++ b/modules/facet/src/java/org/apache/lucene/facet/taxonomy/CategoryPath.java
@@ -622,7 +622,7 @@ public class CategoryPath implements Serializable, Cloneable, Comparable<Categor
   }
 
   @Override
-  public Object clone() {
+  public CategoryPath clone() {
     return new CategoryPath(this);
   }
 
diff --git a/modules/facet/src/test/org/apache/lucene/util/SlowRAMDirectory.java b/modules/facet/src/test/org/apache/lucene/util/SlowRAMDirectory.java
index 132cd72..41fa0b9 100644
--- a/modules/facet/src/test/org/apache/lucene/util/SlowRAMDirectory.java
+++ b/modules/facet/src/test/org/apache/lucene/util/SlowRAMDirectory.java
@@ -107,7 +107,7 @@ public class SlowRAMDirectory extends RAMDirectory {
       ii.readBytes(b, offset, len);
     }
     
-    @Override public Object clone() { return ii.clone(); }
+    @Override public IndexInput clone() { return (IndexInput)ii.clone(); }
     @Override public void close() throws IOException { ii.close(); }
     @Override public boolean equals(Object o) { return ii.equals(o); }
     @Override public long getFilePointer() { return ii.getFilePointer(); }
diff --git a/modules/join/src/java/org/apache/lucene/search/join/ToChildBlockJoinQuery.java b/modules/join/src/java/org/apache/lucene/search/join/ToChildBlockJoinQuery.java
index 3d89fcc..feb5fcb 100644
--- a/modules/join/src/java/org/apache/lucene/search/join/ToChildBlockJoinQuery.java
+++ b/modules/join/src/java/org/apache/lucene/search/join/ToChildBlockJoinQuery.java
@@ -335,7 +335,7 @@ public class ToChildBlockJoinQuery extends Query {
   }
 
   @Override
-  public Object clone() {
+  public ToChildBlockJoinQuery clone() {
     return new ToChildBlockJoinQuery((Query) origParentQuery.clone(),
                                      parentsFilter,
                                      doScores);
diff --git a/modules/join/src/java/org/apache/lucene/search/join/ToParentBlockJoinQuery.java b/modules/join/src/java/org/apache/lucene/search/join/ToParentBlockJoinQuery.java
index 914b548..805e738 100644
--- a/modules/join/src/java/org/apache/lucene/search/join/ToParentBlockJoinQuery.java
+++ b/modules/join/src/java/org/apache/lucene/search/join/ToParentBlockJoinQuery.java
@@ -450,7 +450,7 @@ public class ToParentBlockJoinQuery extends Query {
   }
 
   @Override
-  public Object clone() {
+  public ToParentBlockJoinQuery clone() {
     return new ToParentBlockJoinQuery((Query) origChildQuery.clone(),
                               parentsFilter,
                               scoreMode);
diff --git a/modules/queries/src/java/org/apache/lucene/queries/CustomScoreQuery.java b/modules/queries/src/java/org/apache/lucene/queries/CustomScoreQuery.java
index 8764442..7a42fed 100755
--- a/modules/queries/src/java/org/apache/lucene/queries/CustomScoreQuery.java
+++ b/modules/queries/src/java/org/apache/lucene/queries/CustomScoreQuery.java
@@ -114,7 +114,7 @@ public class CustomScoreQuery extends Query {
 
   /*(non-Javadoc) @see org.apache.lucene.search.Query#clone() */
   @Override
-  public Object clone() {
+  public CustomScoreQuery clone() {
     CustomScoreQuery clone = (CustomScoreQuery)super.clone();
     clone.subQuery = (Query) subQuery.clone();
     clone.scoringQueries = new Query[scoringQueries.length];
diff --git a/modules/queryparser/src/java/org/apache/lucene/queryparser/flexible/core/nodes/QueryNodeImpl.java b/modules/queryparser/src/java/org/apache/lucene/queryparser/flexible/core/nodes/QueryNodeImpl.java
index 1be7957..3177df2 100644
--- a/modules/queryparser/src/java/org/apache/lucene/queryparser/flexible/core/nodes/QueryNodeImpl.java
+++ b/modules/queryparser/src/java/org/apache/lucene/queryparser/flexible/core/nodes/QueryNodeImpl.java
@@ -131,7 +131,7 @@ public abstract class QueryNodeImpl implements QueryNode, Cloneable {
   }
 
   @Override
-  public Object clone() throws CloneNotSupportedException {
+  public QueryNode clone() throws CloneNotSupportedException {
     return cloneTree();
   }
 
diff --git a/modules/queryparser/src/java/org/apache/lucene/queryparser/surround/query/RewriteQuery.java b/modules/queryparser/src/java/org/apache/lucene/queryparser/surround/query/RewriteQuery.java
index f029293..64e53fb 100644
--- a/modules/queryparser/src/java/org/apache/lucene/queryparser/surround/query/RewriteQuery.java
+++ b/modules/queryparser/src/java/org/apache/lucene/queryparser/surround/query/RewriteQuery.java
@@ -74,7 +74,7 @@ abstract class RewriteQuery<SQ extends SrndQuery> extends Query {
 
   /** @throws UnsupportedOperationException */
   @Override
-  public Object clone() {
+  public RewriteQuery clone() {
     throw new UnsupportedOperationException();
   }
 }
diff --git a/modules/queryparser/src/java/org/apache/lucene/queryparser/surround/query/SrndQuery.java b/modules/queryparser/src/java/org/apache/lucene/queryparser/surround/query/SrndQuery.java
index 0082ddf..ff02042 100644
--- a/modules/queryparser/src/java/org/apache/lucene/queryparser/surround/query/SrndQuery.java
+++ b/modules/queryparser/src/java/org/apache/lucene/queryparser/surround/query/SrndQuery.java
@@ -62,9 +62,9 @@ public abstract class SrndQuery implements Cloneable {
   public boolean isFieldsSubQueryAcceptable() {return true;}
     
   @Override
-  public Object clone() {
+  public SrndQuery clone() {
     try {
-      return super.clone();
+      return (SrndQuery)super.clone();
     } catch (CloneNotSupportedException cns) {
       throw new Error(cns);
     }
diff --git a/solr/core/src/java/org/apache/solr/schema/DateField.java b/solr/core/src/java/org/apache/solr/schema/DateField.java
index 4fd40bc..52fa788 100644
--- a/solr/core/src/java/org/apache/solr/schema/DateField.java
+++ b/solr/core/src/java/org/apache/solr/schema/DateField.java
@@ -401,7 +401,7 @@ public class DateField extends PrimitiveFieldType {
     }
 
     @Override
-    public Object clone() {
+    public DateFormat clone() {
       ISO8601CanonicalDateFormat c
         = (ISO8601CanonicalDateFormat) super.clone();
       c.millisParser = NumberFormat.getIntegerInstance(CANONICAL_LOCALE);
diff --git a/solr/core/src/java/org/apache/solr/search/WrappedQuery.java b/solr/core/src/java/org/apache/solr/search/WrappedQuery.java
index c216697..ca186d1 100644
--- a/solr/core/src/java/org/apache/solr/search/WrappedQuery.java
+++ b/solr/core/src/java/org/apache/solr/search/WrappedQuery.java
@@ -69,7 +69,7 @@ public class WrappedQuery extends ExtendedQueryBase {
   }
 
   @Override
-  public Object clone() {
+  public WrappedQuery clone() {
     WrappedQuery newQ = (WrappedQuery)super.clone();
     newQ.q = (Query) q.clone();
     return newQ;

