GitDiffStart: 1c2bc5af93989970c8d3e9a117c27da3258afefc | Thu Jul 28 20:50:00 2011 +0000
diff --git a/solr/site-src/src/documentation/content/xdocs/index.xml b/solr/site-src/src/documentation/content/xdocs/index.xml
index 00e232d..ca10b7d 100755
--- a/solr/site-src/src/documentation/content/xdocs/index.xml
+++ b/solr/site-src/src/documentation/content/xdocs/index.xml
@@ -66,6 +66,42 @@ customization is required.
     </section>
     <section id="news">
       <title>News</title>
+<section><title>28 July 2011 - WARNING: Index corruption and crashes in Apache Lucene Core / Apache Solr with Java 7</title>
+  <p>Oracle released <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java 7</a> today.
+  Unfortunately it contains hotspot compiler optimizations, which miscompile some loops.
+  This can affect code of several Apache projects. Sometimes JVMs only crash, but in several cases,
+  results calculated can be incorrect, leading to bugs in applications
+  (see Hotspot bugs <a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=7070134">7070134</a>,
+  <a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=7044738">7044738</a>,
+  <a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=7068051">7068051</a>).</p>
+  <p><strong>Apache Lucene Core</strong> and <strong>Apache Solr</strong> are two Apache projects,
+  which are affected by these bugs, namely all versions released until today.
+  Solr users with the default configuration will have
+  Java crashing with <code>SIGSEGV</code> as soon as they start to index documents, as one
+  affected part is the well-known Porter stemmer
+  (see <a href="https://issues.apache.org/jira/browse/LUCENE-3335">LUCENE-3335</a>).
+  Other loops in Lucene may be miscompiled, too, leading to index corruption
+  (especially on Lucene trunk with pulsing codec; other loops may be
+  affected, too - <a href="https://issues.apache.org/jira/browse/LUCENE-3346">LUCENE-3346</a>).</p>
+  <p>These problems were detected only 5 days before the official Java 7 release,
+  so Oracle had no time to fix those bugs, affecting also many more applications.
+  In response to our questions, they proposed to include the fixes into service
+  release u2 (eventually into service release u1, see
+  <a href="http://mail.openjdk.java.net/pipermail/hotspot-compiler-dev/2011-July/005971.html">this mail</a>).
+  <strong>This means you cannot use Apache Lucene/Solr with Java 7 releases before Update 2!</strong>
+  If you do, please don't open bug reports, it is not the committers' fault!
+  At least disable loop optimizations using the <code>-XX:-UseLoopPredicate</code> JVM option
+  to not risk index corruptions.</p>
+  <p><em>Please note:</em> Also Java 6 users are affected, if they use one of those
+  JVM options, which are <strong>not</strong> enabled by default: <code>-XX:+OptimizeStringConcat</code>
+  or <code>-XX:+AggressiveOpts</code>.</p>
+  <p>It is strongly recommended not to use any hotspot optimization switches in any Java
+  version without extensive testing!</p>
+  <p>In case you upgrade to Java 7, remember that you may have to reindex, as the unicode
+  version shipped with Java 7 changed and tokenization behaves differently
+  (e.g. lowercasing). For more information, read <code>JRE_VERSION_MIGRATION.txt</code>
+  in your distribution package!</p>
+</section>
 <section>
    <title>July 2011 - Solr 3.3 Released</title>
   <p>The Lucene PMC is pleased to announce the release of <a href="http://www.apache.org/dyn/closer.cgi/lucene/solr">Apache Solr 3.3</a>!
diff --git a/solr/site/index.html b/solr/site/index.html
index 5330ae5..24a2226 100755
--- a/solr/site/index.html
+++ b/solr/site/index.html
@@ -232,6 +232,9 @@ document.write("Last Published: " + document.lastModified);
 <a href="#news">News</a>
 <ul class="minitoc">
 <li>
+<a href="#28+July+2011+-+WARNING%3A+Index+corruption+and+crashes+in+Apache+Lucene+Core+%2F+Apache+Solr+with+Java+7">28 July 2011 - WARNING: Index corruption and crashes in Apache Lucene Core / Apache Solr with Java 7</a>
+</li>
+<li>
 <a href="#July+2011+-+Solr+3.3+Released">July 2011 - Solr 3.3 Released</a>
 </li>
 <li>
@@ -355,7 +358,45 @@ customization is required.
 <a name="N1005A"></a><a name="news"></a>
 <h2 class="boxed">News</h2>
 <div class="section">
-<a name="N10060"></a><a name="July+2011+-+Solr+3.3+Released"></a>
+<a name="N10060"></a><a name="28+July+2011+-+WARNING%3A+Index+corruption+and+crashes+in+Apache+Lucene+Core+%2F+Apache+Solr+with+Java+7"></a>
+<h3 class="boxed">28 July 2011 - WARNING: Index corruption and crashes in Apache Lucene Core / Apache Solr with Java 7</h3>
+<p>Oracle released <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java 7</a> today.
+  Unfortunately it contains hotspot compiler optimizations, which miscompile some loops.
+  This can affect code of several Apache projects. Sometimes JVMs only crash, but in several cases,
+  results calculated can be incorrect, leading to bugs in applications
+  (see Hotspot bugs <a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=7070134">7070134</a>,
+  <a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=7044738">7044738</a>,
+  <a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=7068051">7068051</a>).</p>
+<p>
+<strong>Apache Lucene Core</strong> and <strong>Apache Solr</strong> are two Apache projects,
+  which are affected by these bugs, namely all versions released until today.
+  Solr users with the default configuration will have
+  Java crashing with <span class="codefrag">SIGSEGV</span> as soon as they start to index documents, as one
+  affected part is the well-known Porter stemmer
+  (see <a href="https://issues.apache.org/jira/browse/LUCENE-3335">LUCENE-3335</a>).
+  Other loops in Lucene may be miscompiled, too, leading to index corruption
+  (especially on Lucene trunk with pulsing codec; other loops may be
+  affected, too - <a href="https://issues.apache.org/jira/browse/LUCENE-3346">LUCENE-3346</a>).</p>
+<p>These problems were detected only 5 days before the official Java 7 release,
+  so Oracle had no time to fix those bugs, affecting also many more applications.
+  In response to our questions, they proposed to include the fixes into service
+  release u2 (eventually into service release u1, see
+  <a href="http://mail.openjdk.java.net/pipermail/hotspot-compiler-dev/2011-July/005971.html">this mail</a>).
+  <strong>This means you cannot use Apache Lucene/Solr with Java 7 releases before Update 2!</strong>
+  If you do, please don't open bug reports, it is not the committers' fault!
+  At least disable loop optimizations using the <span class="codefrag">-XX:-UseLoopPredicate</span> JVM option
+  to not risk index corruptions.</p>
+<p>
+<em>Please note:</em> Also Java 6 users are affected, if they use one of those
+  JVM options, which are <strong>not</strong> enabled by default: <span class="codefrag">-XX:+OptimizeStringConcat</span>
+  or <span class="codefrag">-XX:+AggressiveOpts</span>.</p>
+<p>It is strongly recommended not to use any hotspot optimization switches in any Java
+  version without extensive testing!</p>
+<p>In case you upgrade to Java 7, remember that you may have to reindex, as the unicode
+  version shipped with Java 7 changed and tokenization behaves differently
+  (e.g. lowercasing). For more information, read <span class="codefrag">JRE_VERSION_MIGRATION.txt</span>
+  in your distribution package!</p>
+<a name="N100B0"></a><a name="July+2011+-+Solr+3.3+Released"></a>
 <h3 class="boxed">July 2011 - Solr 3.3 Released</h3>
 <p>The Lucene PMC is pleased to announce the release of <a href="http://www.apache.org/dyn/closer.cgi/lucene/solr">Apache Solr 3.3</a>!
   </p>
@@ -385,7 +426,7 @@ customization is required.
 </ul>
 <p>See the <a href="http://svn.apache.org/repos/asf/lucene/dev/tags/lucene_solr_3_3/solr/CHANGES.txt">release notes</a> for a more complete list of all the new features, improvements, and bugfixes.
  </p>
-<a name="N10094"></a><a name="May+2011+-+Solr+3.2+Released"></a>
+<a name="N100E4"></a><a name="May+2011+-+Solr+3.2+Released"></a>
 <h3 class="boxed">May 2011 - Solr 3.2 Released</h3>
 <p>The Lucene PMC is pleased to announce the release of <a href="http://www.apache.org/dyn/closer.cgi/lucene/solr">Apache Solr 3.2</a>!
   </p>
@@ -411,7 +452,7 @@ customization is required.
 </ul>
 <p>See the <a href="http://svn.apache.org/repos/asf/lucene/dev/tags/lucene_solr_3_2/solr/CHANGES.txt">release notes</a> for a more complete list of all the new features, improvements, and bugfixes.
  </p>
-<a name="N100C1"></a><a name="March+2011+-+Solr+3.1+Released"></a>
+<a name="N10111"></a><a name="March+2011+-+Solr+3.1+Released"></a>
 <h3 class="boxed">March 2011 - Solr 3.1 Released</h3>
 <p>The Lucene PMC is pleased to announce the release of <a href="http://www.apache.org/dyn/closer.cgi/lucene/solr">Apache Solr 3.1</a>!
   </p>
@@ -459,7 +500,7 @@ customization is required.
 </ul>
 <p>See the <a href="http://svn.apache.org/repos/asf/lucene/dev/tags/lucene_solr_3_1/solr/CHANGES.txt">release notes</a> for a more complete list of all the new features, improvements, and bugfixes.
  </p>
-<a name="N1012C"></a><a name="25+June+2010+-+Solr+1.4.1+Released"></a>
+<a name="N1017C"></a><a name="25+June+2010+-+Solr+1.4.1+Released"></a>
 <h3 class="boxed">25 June 2010 - Solr 1.4.1 Released</h3>
 <p>
            Solr 1.4.1 has been released and is now available for public
@@ -472,7 +513,7 @@ customization is required.
           See the <a href="http://svn.apache.org/repos/asf/lucene/solr/tags/release-1.4.1/CHANGES.txt">release notes</a>
           for more details.
           </p>
-<a name="N10141"></a><a name="7+May+2010+-+Apache+Lucene+Eurocon+2010+Coming+to+Prague+May+18-21"></a>
+<a name="N10191"></a><a name="7+May+2010+-+Apache+Lucene+Eurocon+2010+Coming+to+Prague+May+18-21"></a>
 <h3 class="boxed">7 May 2010 - Apache Lucene Eurocon 2010 Coming to Prague May 18-21</h3>
 <p>
           On May 18th to the 21st Prague will play host to the first
@@ -544,7 +585,7 @@ customization is required.
 </li>
         
 </ul>
-<a name="N1018D"></a><a name="10+November+2009+-+Solr+1.4+Released"></a>
+<a name="N101DD"></a><a name="10+November+2009+-+Solr+1.4+Released"></a>
 <h3 class="boxed">10 November 2009 - Solr 1.4 Released</h3>
 <p>
      Solr 1.4 has been released and is now available for public <a href="http://www.apache.org/dyn/closer.cgi/lucene/solr/">download</a>!
@@ -576,7 +617,7 @@ customization is required.
 </ul>
 <p>See the <a href="http://svn.apache.org/repos/asf/lucene/solr/tags/release-1.4.0/CHANGES.txt">release notes</a> for more details.
  </p>
-<a name="N101BD"></a><a name="20+August+2009+-+Solr%27s+first+book+is+published%21"></a>
+<a name="N1020D"></a><a name="20+August+2009+-+Solr%27s+first+book+is+published%21"></a>
 <h3 class="boxed">20 August 2009 - Solr's first book is published!</h3>
 <p>
    
@@ -591,7 +632,7 @@ customization is required.
    </p>
 <p>Finally, this book covers various deployment considerations to include indexing strategies and performance-oriented configuration that will enable you to scale Solr to meet the needs of a high-volume site.
    </p>
-<a name="N101DD"></a><a name="18+August+2009+-+Lucene+at+US+ApacheCon"></a>
+<a name="N1022D"></a><a name="18+August+2009+-+Lucene+at+US+ApacheCon"></a>
 <h3 class="boxed">18 August 2009 - Lucene at US ApacheCon</h3>
 <p>
  
@@ -667,7 +708,7 @@ Be sure not to miss:
     Search</a> - Jason Rutherglen @ 15:00</li>
 
 </ul>
-<a name="N10251"></a><a name="09+February+2009+-+Lucene+at+ApacheCon+Europe+2009+in+Amsterdam"></a>
+<a name="N102A1"></a><a name="09+February+2009+-+Lucene+at+ApacheCon+Europe+2009+in+Amsterdam"></a>
 <h3 class="boxed">09 February 2009 - Lucene at ApacheCon Europe 2009 in Amsterdam</h3>
 <p>
                
@@ -705,23 +746,23 @@ Be sure not to miss:
 
 							              
 </ul>
-<a name="N1029A"></a><a name="19+December+2008+-+Solr+Logo+Contest+Results"></a>
+<a name="N102EA"></a><a name="19+December+2008+-+Solr+Logo+Contest+Results"></a>
 <h3 class="boxed">19 December 2008 - Solr Logo Contest Results</h3>
 <p>Many great logos were submitted, but only one could be chosen.  Congratulations Michiel,
 	the creator of the winning logo that is proudly displayed at the top of this page.  
 	</p>
-<a name="N102A3"></a><a name="03+October+2008+-+Solr+Logo+Contest"></a>
+<a name="N102F3"></a><a name="03+October+2008+-+Solr+Logo+Contest"></a>
 <h3 class="boxed">03 October 2008 - Solr Logo Contest</h3>
 <p>By popular demand, Solr is holding a contest to pick a new Solr logo.  Details about how to submit an entry can be found <a href="http://wiki.apache.org/solr/LogoContest">on the wiki</a>.  The Deadline for submissions is November 20th, 2008 @ 11:59PM GMT.
 	</p>
-<a name="N102B0"></a><a name="15+September+2008+-+Solr+1.3.0+Available"></a>
+<a name="N10300"></a><a name="15+September+2008+-+Solr+1.3.0+Available"></a>
 <h3 class="boxed">15 September 2008 - Solr 1.3.0 Available</h3>
 <p>Solr 1.3.0 is available for public download.  This version contains many enhancements and bug fixes, including distributed search capabilities,
 			Lucene 2.3.x performance improvements and many others.
 		</p>
 <p>See the <a href="http://svn.apache.org/repos/asf/lucene/solr/tags/release-1.3.0/CHANGES.txt">release notes</a> for more details.  Download is
     available from a <a href="http://www.apache.org/dyn/closer.cgi/lucene/solr/">Apache Mirror</a>.</p>
-<a name="N102C4"></a><a name="28+August+2008+-+Lucene%2FSolr+at+ApacheCon+New+Orleans"></a>
+<a name="N10314"></a><a name="28+August+2008+-+Lucene%2FSolr+at+ApacheCon+New+Orleans"></a>
 <h3 class="boxed">28 August 2008 - Lucene/Solr at ApacheCon New Orleans</h3>
 <p>
 	         
@@ -743,7 +784,7 @@ Be sure not to miss:
 <li>An <a href="http://us.apachecon.com/c/acus2008/schedule/2008/11/05">entire day of Lucene sessions</a> on November 5th</li>
 	        
 </ul>
-<a name="N102F2"></a><a name="03+September+2007+-+Lucene+at+ApacheCon+Atlanta"></a>
+<a name="N10342"></a><a name="03+September+2007+-+Lucene+at+ApacheCon+Atlanta"></a>
 <h3 class="boxed">03 September 2007 - Lucene at ApacheCon Atlanta</h3>
 <p>
 <a href="http://www.us.apachecon.com"><img alt="ApacheCon US logo" class="float-right" src="http://www.apache.org/ads/ApacheCon/2007-usa-125x125.png"></a>
@@ -763,7 +804,7 @@ Be sure not to miss:
 <li>November 16, 4:00 pm: <a href="http://us.apachecon.com/us2007/program/talk/2017"> Advanced Indexing Techniques with Apache Lucene</a> by Michael Busch. Information on payloads and advanced indexing techniques.</li>
               
 </ul>
-<a name="N1032B"></a><a name="06+June+2007%3A+Release+1.2+available"></a>
+<a name="N1037B"></a><a name="06+June+2007%3A+Release+1.2+available"></a>
 <h3 class="boxed">06 June 2007: Release 1.2 available</h3>
 <p>
         This is the first release since Solr graduated from the Incubator,
@@ -773,40 +814,40 @@ Be sure not to miss:
         and more flexible plugins.
       </p>
 <p>See the <a href="http://svn.apache.org/repos/asf/lucene/solr/tags/release-1.2.0/CHANGES.txt">release notes</a> for more details.</p>
-<a name="N1033C"></a><a name="17+January+2007%3A+Solr+graduates+from+Incubator"></a>
+<a name="N1038C"></a><a name="17+January+2007%3A+Solr+graduates+from+Incubator"></a>
 <h3 class="boxed">17 January 2007: Solr graduates from Incubator</h3>
 <p>
         Solr has graduated from the Apache Incubator, and is now a sub-project of Lucene.
       </p>
-<a name="N10346"></a><a name="22+December+2006%3A+Release+1.1.0+available"></a>
+<a name="N10396"></a><a name="22+December+2006%3A+Release+1.1.0+available"></a>
 <h3 class="boxed">22 December 2006: Release 1.1.0 available</h3>
 <p>
         This is the first release since Solr joined the Incubator, and brings
         many new features and performance optimizations including highlighting,
         faceted search, and JSON/Python/Ruby response formats.
       </p>
-<a name="N10350"></a><a name="15+August+2006%3A+Solr+at+ApacheCon+US"></a>
+<a name="N103A0"></a><a name="15+August+2006%3A+Solr+at+ApacheCon+US"></a>
 <h3 class="boxed">15 August 2006: Solr at ApacheCon US</h3>
 <p>Chris Hostetter will be presenting
         <strong><a href="http://www.apachecon.com/2006/US/html/sessions.html#FR26">"Faceted Searching With Apache Solr"</a></strong>  
         at ApacheCon US 2006, on October 13th at 4:30pm.
         See the <a href="http://www.us.apachecon.com/">ApacheCon</a> website for more details.
       </p>
-<a name="N10363"></a><a name="21+April+2006%3A+Solr+at+ApacheCon"></a>
+<a name="N103B3"></a><a name="21+April+2006%3A+Solr+at+ApacheCon"></a>
 <h3 class="boxed">21 April 2006: Solr at ApacheCon</h3>
 <p>Yonik Seeley will be presenting
         <strong>"Apache Solr, a Full-Text Search Server based on Lucene"</strong>  
         at ApacheCon Europe 2006, on June 29th at 5:30pm.
         See the <a href="http://www.eu.apachecon.com/">ApacheCon</a> website for more details.
       </p>
-<a name="N10374"></a><a name="21+February+2006%3A+nightly+builds"></a>
+<a name="N103C4"></a><a name="21+February+2006%3A+nightly+builds"></a>
 <h3 class="boxed">21 February 2006: nightly builds</h3>
 <p>Solr now has nightly builds.  This automatically creates a
       <a href="http://people.apache.org/builds/lucene/solr/nightly/">downloadable version of Solr every
       night</a>.  All unit tests must pass, or a message is sent to
       the developers mailing list and no new version is created.  This
       also updates the <a href="api/index.html">javadoc</a>.</p>
-<a name="N10386"></a><a name="17+January+2006%3A+Solr+Joins+Apache+Incubator"></a>
+<a name="N103D6"></a><a name="17+January+2006%3A+Solr+Joins+Apache+Incubator"></a>
 <h3 class="boxed">17 January 2006: Solr Joins Apache Incubator</h3>
 <p>Solr, a search server based on Lucene, has been accepted into the Apache Incubator.
             Solr was originally developed by CNET Networks, and is widely used within CNET
diff --git a/solr/site/index.pdf b/solr/site/index.pdf
index 84ed289..430f85a 100755
--- a/solr/site/index.pdf
+++ b/solr/site/index.pdf
@@ -4,34 +4,36 @@ Table of contents
    1 What Is Solr?..................................................................................................................... 3
    2 Get Started..........................................................................................................................3
    3 News................................................................................................................................... 3
-    3.1 July 2011 - Solr 3.3 Released.......................................................................................3
-    3.2 May 2011 - Solr 3.2 Released......................................................................................4
-    3.3 March 2011 - Solr 3.1 Released...................................................................................4
-    3.4 25 June 2010 - Solr 1.4.1 Released..............................................................................5
-    3.5 7 May 2010 - Apache Lucene Eurocon 2010 Coming to Prague May 18-21............... 5
-    3.6 10 November 2009 - Solr 1.4 Released....................................................................... 5
-    3.7 20 August 2009 - Solr's first book is published!.......................................................... 6
-    3.8 18 August 2009 - Lucene at US ApacheCon............................................................... 7
-    3.9 09 February 2009 - Lucene at ApacheCon Europe 2009 in Amsterdam...................... 8
-    3.10 19 December 2008 - Solr Logo Contest Results........................................................ 8
-    3.11 03 October 2008 - Solr Logo Contest........................................................................ 8
-    3.12 15 September 2008 - Solr 1.3.0 Available................................................................. 9
-    3.13 28 August 2008 - Lucene/Solr at ApacheCon New Orleans.......................................9
-    3.14 03 September 2007 - Lucene at ApacheCon Atlanta..................................................9
-    3.15 06 June 2007: Release 1.2 available.........................................................................10
-    3.16 17 January 2007: Solr graduates from Incubator......................................................10
-    3.17 22 December 2006: Release 1.1.0 available............................................................. 10
-    3.18 15 August 2006: Solr at ApacheCon US.................................................................. 10
-    3.19 21 April 2006: Solr at ApacheCon........................................................................... 10
-    3.20 21 February 2006: nightly builds..............................................................................10
+     3.1 28 July 2011 - WARNING: Index corruption and crashes in Apache Lucene Core /
+ Apache Solr with Java 7......................................................................................................... 3
+    3.2 July 2011 - Solr 3.3 Released.......................................................................................4
+    3.3 May 2011 - Solr 3.2 Released......................................................................................5
+    3.4 March 2011 - Solr 3.1 Released...................................................................................5
+    3.5 25 June 2010 - Solr 1.4.1 Released..............................................................................6
+    3.6 7 May 2010 - Apache Lucene Eurocon 2010 Coming to Prague May 18-21............... 6
+    3.7 10 November 2009 - Solr 1.4 Released....................................................................... 6
+    3.8 20 August 2009 - Solr's first book is published!.......................................................... 7
+    3.9 18 August 2009 - Lucene at US ApacheCon............................................................... 8
+    3.10 09 February 2009 - Lucene at ApacheCon Europe 2009 in Amsterdam.....................9
+    3.11 19 December 2008 - Solr Logo Contest Results........................................................ 9
+    3.12 03 October 2008 - Solr Logo Contest........................................................................ 9
+    3.13 15 September 2008 - Solr 1.3.0 Available................................................................. 9
+    3.14 28 August 2008 - Lucene/Solr at ApacheCon New Orleans.....................................10
+    3.15 03 September 2007 - Lucene at ApacheCon Atlanta................................................10
+    3.16 06 June 2007: Release 1.2 available.........................................................................10
+    3.17 17 January 2007: Solr graduates from Incubator......................................................11
+    3.18 22 December 2006: Release 1.1.0 available............................................................. 11
+    3.19 15 August 2006: Solr at ApacheCon US.................................................................. 11
 
                                      Copyright © 2007 The Apache Software Foundation. All rights reserved.
                                                                                                                                      Welcome to Solr
 
-3.21 17 January 2006: Solr Joins Apache Incubator........................................................ 10
+3.20 21 April 2006: Solr at ApacheCon........................................................................... 11
+3.21 21 February 2006: nightly builds..............................................................................11
+3.22 17 January 2006: Solr Joins Apache Incubator........................................................ 11
 
 Copyright © 2007 The Apache Software Foundation. All rights reserved.  Page 2
-                                                                       Welcome to Solr
+                                                                                                                                            Welcome to Solr
 
 1 What Is Solr?
 
@@ -60,12 +62,53 @@ For more information about Solr, please see the Solr wiki.
 
 3 News
 
-3.1 July 2011 - Solr 3.3 Released
+3.1 28 July 2011 - WARNING: Index corruption and crashes in Apache Lucene Core /
+Apache Solr with Java 7
+
+Oracle released Java 7 today. Unfortunately it contains hotspot compiler optimizations,
+which miscompile some loops. This can affect code of several Apache projects. Sometimes
+JVMs only crash, but in several cases, results calculated can be incorrect, leading to bugs in
+applications (see Hotspot bugs 7070134, 7044738, 7068051).
+Apache Lucene Core and Apache Solr are two Apache projects, which are affected by
+these bugs, namely all versions released until today. Solr users with the default configuration
+will have Java crashing with SIGSEGV as soon as they start to index documents, as one
+affected part is the well-known Porter stemmer (see LUCENE-3335). Other loops in Lucene
+
+Copyright © 2007 The Apache Software Foundation. All rights reserved.  Page 3
+                                                                                                                                            Welcome to Solr
+
+may be miscompiled, too, leading to index corruption (especially on Lucene trunk with
+pulsing codec; other loops may be affected, too - LUCENE-3346).
+
+These problems were detected only 5 days before the official Java 7 release, so Oracle had no
+time to fix those bugs, affecting also many more applications. In response to our questions,
+they proposed to include the fixes into service release u2 (eventually into service release
+u1, see this mail). This means you cannot use Apache Lucene/Solr with Java 7 releases
+before Update 2! If you do, please don't open bug reports, it is not the committers' fault! At
+least disable loop optimizations using the -XX:-UseLoopPredicate JVM option to not
+risk index corruptions.
+
+Please note: Also Java 6 users are affected, if they use one of those JVM options,
+which are not enabled by default: -XX:+OptimizeStringConcat or -XX:
++AggressiveOpts.
+
+It is strongly recommended not to use any hotspot optimization switches in any Java version
+without extensive testing!
+
+In case you upgrade to Java 7, remember that you may have to reindex, as the unicode
+version shipped with Java 7 changed and tokenization behaves differently (e.g. lowercasing).
+For more information, read JRE_VERSION_MIGRATION.txt in your distribution
+package!
+
+3.2 July 2011 - Solr 3.3 Released
 
 The Lucene PMC is pleased to announce the release of Apache Solr 3.3!
+
 Solr's version number was synced with Lucene following the Lucene/Solr merge, so Solr 3.3
 contains Lucene 3.3.
+
 Solr 3.3 release highlights include
+
 ?? Grouping / Field Collapsing
 ?? A new, automaton-based suggest/autocomplete implementation offering an order of
 
@@ -73,20 +116,19 @@ Solr 3.3 release highlights include
 ?? KStemFilterFactory, an optimized implementation of a less aggressive stemmer for
 
     English.
-
-Copyright © 2007 The Apache Software Foundation. All rights reserved.  Page 3
-                                                                       Welcome to Solr
-
 ?? Solr defaults to a new, more efficient merge policy (TieredMergePolicy). See http://
-    s.apache.org/merging for more information.
 
+    s.apache.org/merging for more information.
 ?? Important bugfixes, including extremely high RAM usage in spellchecking.
 ?? Bugfixes and improvements from Apache Lucene 3.3
 
 See the release notes for a more complete list of all the new features, improvements, and
 bugfixes.
 
-3.2 May 2011 - Solr 3.2 Released
+Copyright © 2007 The Apache Software Foundation. All rights reserved.  Page 4
+                                                                       Welcome to Solr
+
+3.3 May 2011 - Solr 3.2 Released
 
 The Lucene PMC is pleased to announce the release of Apache Solr 3.2!
 
@@ -110,7 +152,7 @@ Solr 3.2 release highlights include
 See the release notes for a more complete list of all the new features, improvements, and
 bugfixes.
 
-3.3 March 2011 - Solr 3.1 Released
+3.4 March 2011 - Solr 3.1 Released
 
 The Lucene PMC is pleased to announce the release of Apache Solr 3.1!
 
@@ -128,10 +170,6 @@ Solr 3.1 release highlights include
     relevancy, and full lucene syntax support.
 ?? Distributed search support for the Spell check and Terms components.
 ?? Suggester, a fast trie-based autocomplete component.
-
-Copyright © 2007 The Apache Software Foundation. All rights reserved.  Page 4
-                                                                       Welcome to Solr
-
 ?? Sort results by any function query.
 ?? JSON document indexing.
 ?? CSV response format
@@ -141,14 +179,17 @@ Copyright © 2007 The Apache Software Foundation. All rights reserved.  Page 4
 See the release notes for a more complete list of all the new features, improvements, and
 bugfixes.
 
-3.4 25 June 2010 - Solr 1.4.1 Released
+Copyright © 2007 The Apache Software Foundation. All rights reserved.  Page 5
+                                                                       Welcome to Solr
+
+3.5 25 June 2010 - Solr 1.4.1 Released
 
 Solr 1.4.1 has been released and is now available for public download! Solr 1.4.1 is a bug
 fix release for Solr 1.4 that includes many Solr bug fixes as well as Lucene bug fixes from
 Lucene 2.9.3.
 See the release notes for more details.
 
-3.5 7 May 2010 - Apache Lucene Eurocon 2010 Coming to Prague May 18-21
+3.6 7 May 2010 - Apache Lucene Eurocon 2010 Coming to Prague May 18-21
 
 On May 18th to the 21st Prague will play host to the first ever dedicated Lucene and
 Solr User Conference in Europe: Apache Lucene Eurocon 2010. This is a a not-for-profit
@@ -171,19 +212,15 @@ Software Foundation. Registration is now open. Schedule highlights include:
 ?? A Thursday night MeetUp
 ?? An event at the Czech Beer Festival
 
-3.6 10 November 2009 - Solr 1.4 Released
+3.7 10 November 2009 - Solr 1.4 Released
 
 Solr 1.4 has been released and is now available for public download! New Solr 1.4 features
 include
 
 ?? Major performance enhancements in indexing, searching, and faceting
-
-Copyright © 2007 The Apache Software Foundation. All rights reserved.  Page 5
-                                                                                                                                            Welcome to Solr
-
 ?? Revamped all-Java index replication that's simple to configure and can replicate config
-    files
 
+    files
 ?? Greatly improved database integration via the DataImportHandler
 ?? Rich document processing (Word, PDF, HTML) via Apache Tika
 ?? Dynamic search results clustering via Carrot2
@@ -191,13 +228,16 @@ Copyright © 2007 The Apache Software Foundation. All rights reserved.  Page 5
 ?? Many powerful query enhancements, including ranges over arbitrary functions, nested
 
     queries of different syntaxes
-?? Many other plugins including Terms for auto-suggest, Statistics, TermVectors,
 
+Copyright © 2007 The Apache Software Foundation. All rights reserved.  Page 6
+                                                                                                                                            Welcome to Solr
+
+?? Many other plugins including Terms for auto-suggest, Statistics, TermVectors,
     Deduplication
 
 See the release notes for more details.
 
-3.7 20 August 2009 - Solr's first book is published!
+3.8 20 August 2009 - Solr's first book is published!
 
 David Smiley and Eric Pugh are proud to introduce the first book on Solr, "Solr 1.4
 Enterprise Search Server" from Packt Publishing.
@@ -211,21 +251,22 @@ To keep this interesting and realistic, it uses a large open source set of metad
 releases, and tracks courtesy of the MusicBrainz.org project. Using this data as a testing
 ground for Solr, you will learn how to import this data in various ways from CSV to XML to
 database access. You will then learn how to search this data in a myriad of ways, including
-
-Copyright © 2007 The Apache Software Foundation. All rights reserved.                Page 6
-                                                                                                                                            Welcome to Solr
-
 Solr's rich query syntax, "boosting" match scores based on record data and other means,
 about searching across multiple fields with different boosts, getting facets on the results,
 auto-complete user queries, spell-correcting searches, highlighting queried text in search
 results, and so on.
+
 After this thorough tour, you'll see working examples of integrating a variety of technologies
 with Solr such as Java, JavaScript, Drupal, Ruby, PHP, and Python.
+
+Copyright © 2007 The Apache Software Foundation. All rights reserved.  Page 7
+                                                                                                                                            Welcome to Solr
+
 Finally, this book covers various deployment considerations to include indexing strategies
 and performance-oriented configuration that will enable you to scale Solr to meet the needs
 of a high-volume site.
 
-3.8 18 August 2009 - Lucene at US ApacheCon
+3.9 18 August 2009 - Lucene at US ApacheCon
 
 ApacheCon US is once again in the Bay Area and Lucene is coming along for the ride! The
 Lucene community has planned two full days of talks, plus a meetup and the usual bevy of
@@ -252,16 +293,15 @@ Friday, Nov. 6th
 
 ?? Apache Mahout - Going from raw data to Information - Isabel Drost @ 10:00
 ?? MIME Magic with Apache Tika - Jukka Zitting @ 11:30
-
-Copyright © 2007 The Apache Software Foundation. All rights reserved.  Page 7
-                                                                                                                                            Welcome to Solr
-
 ?? Building Intelligent Search Applications with the Lucene Ecosystem - Ted Dunning @
-    14:00
 
+    14:00
 ?? Realtime Search - Jason Rutherglen @ 15:00
 
-3.9 09 February 2009 - Lucene at ApacheCon Europe 2009 in Amsterdam
+Copyright © 2007 The Apache Software Foundation. All rights reserved.  Page 8
+                                                                                                                                           Welcome to Solr
+
+3.10 09 February 2009 - Lucene at ApacheCon Europe 2009 in Amsterdam
 
 Lucene will be extremely well represented at ApacheCon US 2009 in Amsterdam,
 Netherlands this March 23-27, 2009:
@@ -278,35 +318,35 @@ Netherlands this March 23-27, 2009:
 
     26th @ 15:00
 
-3.10 19 December 2008 - Solr Logo Contest Results
+3.11 19 December 2008 - Solr Logo Contest Results
 
 Many great logos were submitted, but only one could be chosen. Congratulations Michiel,
 the creator of the winning logo that is proudly displayed at the top of this page.
 
-3.11 03 October 2008 - Solr Logo Contest
+3.12 03 October 2008 - Solr Logo Contest
 
 By popular demand, Solr is holding a contest to pick a new Solr logo. Details about how to
 submit an entry can be found on the wiki. The Deadline for submissions is November 20th,
 2008 @ 11:59PM GMT.
 
-Copyright © 2007 The Apache Software Foundation. All rights reserved.  Page 8
-                                                                                                                                            Welcome to Solr
+3.13 15 September 2008 - Solr 1.3.0 Available
 
-3.12 15 September 2008 - Solr 1.3.0 Available
 Solr 1.3.0 is available for public download. This version contains many enhancements and
 bug fixes, including distributed search capabilities, Lucene 2.3.x performance improvements
 and many others.
-See the release notes for more details. Download is available from a Apache Mirror.
 
-3.13 28 August 2008 - Lucene/Solr at ApacheCon New Orleans
+Copyright © 2007 The Apache Software Foundation. All rights reserved.  Page 9
+                                                                                                                                            Welcome to Solr
+
+See the release notes for more details. Download is available from a Apache Mirror.
+3.14 28 August 2008 - Lucene/Solr at ApacheCon New Orleans
 
 Lucene will be extremely well represented at ApacheCon US 2008 in New Orleans this
 November 3-7, 2008:
 ?? Lucene Boot Camp - A two day training session, November 3rd & 4th
 ?? Solr Boot Camp - A one day training session, November 4th
 ?? An entire day of Lucene sessions on November 5th
-
-3.14 03 September 2007 - Lucene at ApacheCon Atlanta
+3.15 03 September 2007 - Lucene at ApacheCon Atlanta
 
 Lucene will once again be well represented at ApacheCon USA in Atlanta this November
 12-16, 2007.
@@ -328,42 +368,44 @@ The following talks and trainings are scheduled for this year's conference:
 ?? November 16, 4:00 pm: Advanced Indexing Techniques with Apache Lucene by
     Michael Busch. Information on payloads and advanced indexing techniques.
 
-Copyright © 2007 The Apache Software Foundation. All rights reserved.  Page 9
-                                                                                                                                            Welcome to Solr
+3.16 06 June 2007: Release 1.2 available
 
-3.15 06 June 2007: Release 1.2 available
 This is the first release since Solr graduated from the Incubator, bringing many new features,
 including CSV/delimited-text data loading, time based autocommit, faster faceting, negative
+
+Copyright © 2007 The Apache Software Foundation. All rights reserved.  Page 10
+                                                                                                                                            Welcome to Solr
+
 filters, a spell-check handler, sounds-like word filters, regex text filters, and more flexible
 plugins.
 See the release notes for more details.
 
-3.16 17 January 2007: Solr graduates from Incubator
+3.17 17 January 2007: Solr graduates from Incubator
 Solr has graduated from the Apache Incubator, and is now a sub-project of Lucene.
 
-3.17 22 December 2006: Release 1.1.0 available
+3.18 22 December 2006: Release 1.1.0 available
 This is the first release since Solr joined the Incubator, and brings many new features and
 performance optimizations including highlighting, faceted search, and JSON/Python/Ruby
 response formats.
 
-3.18 15 August 2006: Solr at ApacheCon US
+3.19 15 August 2006: Solr at ApacheCon US
 Chris Hostetter will be presenting "Faceted Searching With Apache Solr" at ApacheCon
 US 2006, on October 13th at 4:30pm. See the ApacheCon website for more details.
 
-3.19 21 April 2006: Solr at ApacheCon
+3.20 21 April 2006: Solr at ApacheCon
 Yonik Seeley will be presenting "Apache Solr, a Full-Text Search Server based on
 Lucene" at ApacheCon Europe 2006, on June 29th at 5:30pm. See the ApacheCon website
 for more details.
 
-3.20 21 February 2006: nightly builds
+3.21 21 February 2006: nightly builds
 Solr now has nightly builds. This automatically creates a downloadable version of Solr every
 night. All unit tests must pass, or a message is sent to the developers mailing list and no new
 version is created. This also updates the javadoc.
 
-3.21 17 January 2006: Solr Joins Apache Incubator
+3.22 17 January 2006: Solr Joins Apache Incubator
 Solr, a search server based on Lucene, has been accepted into the Apache Incubator. Solr was
 originally developed by CNET Networks, and is widely used within CNET to provide high
 relevancy search and faceted browsing capabilities.
 
-Copyright © 2007 The Apache Software Foundation. All rights reserved.  Page 10
+Copyright © 2007 The Apache Software Foundation. All rights reserved.  Page 11
 
\ No newline at end of file
diff --git a/solr/site/skin/basic.css b/solr/site/skin/basic.css
index eb24c32..4ed58b9 100755
--- a/solr/site/skin/basic.css
+++ b/solr/site/skin/basic.css
@@ -163,4 +163,4 @@ p {
 .codefrag {
   font-family: "Courier New", Courier, monospace;
   font-size: 110%;
-}
\ No newline at end of file
+}
diff --git a/solr/site/skin/print.css b/solr/site/skin/print.css
index aaa9931..8916b9f 100755
--- a/solr/site/skin/print.css
+++ b/solr/site/skin/print.css
@@ -51,4 +51,4 @@ a:link, a:visited {
 
 acronym {
   border: 0;
-}
\ No newline at end of file
+}
diff --git a/solr/site/skin/profile.css b/solr/site/skin/profile.css
index 2ed9554..ca72cdb 100755
--- a/solr/site/skin/profile.css
+++ b/solr/site/skin/profile.css
@@ -172,4 +172,4 @@ a:hover { color:#6587ff}
     }
       
     
-  
\ No newline at end of file
+  
diff --git a/solr/site/skin/screen.css b/solr/site/skin/screen.css
index ef52153..4e2e040 100755
--- a/solr/site/skin/screen.css
+++ b/solr/site/skin/screen.css
@@ -584,4 +584,4 @@ p.instruction {
   list-style-image: url('../images/instruction_arrow.png');
   list-style-position: outside;
   margin-left: 2em;
-} 
\ No newline at end of file
+} 

